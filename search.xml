<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[JavaScript è§‚å¯Ÿè€…æ¨¡å¼ä¸Žå‘å¸ƒè®¢é˜…æ¨¡å¼]]></title>
    <url>%2F2020%2F03%2F06%2F2020%2F3%E6%9C%88%2F0306%2F</url>
    <content type="text"><![CDATA[è§‚å¯Ÿè€…æ¨¡å¼è§‚å¯Ÿè€…æ¨¡å¼å®šä¹‰äº†å¯¹è±¡é—´ä¸€ç§ä¸€å¯¹å¤šçš„ä¾èµ–å…³ç³»ï¼Œå½“ç›®æ ‡å¯¹è±¡Subjectçš„çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ï¼Œæ‰€æœ‰ä¾èµ–å®ƒçš„å¯¹è±¡ObServeéƒ½ä¼šå¾—åˆ°é€šçŸ¥ã€‚ æ¨¡å¼ç‰¹å¾ï¼š ä¸€ä¸ªç›®æ ‡è€…å¯¹è±¡Subjectï¼Œæ‹¥æœ‰æ–¹æ³•ï¼šæ·»åŠ /åˆ é™¤/é€šçŸ¥ObServerï¼› å¤šä¸ªè§‚å¯Ÿè€…å¯¹è±¡ObServeï¼Œæ‹¥æœ‰æ–¹æ³•ï¼šæŽ¥æ”¶SubjectçŠ¶æ€å˜æ›´é€šçŸ¥å¹¶å¤„ç†ï¼› ç›®æ ‡å¯¹è±¡SubjectçŠ¶æ€å˜æ›´æ—¶ï¼Œé€šçŸ¥æ‰€æœ‰ObServerã€‚ Subjectæ·»åŠ ä¸€ç³»åˆ—ObServerï¼ŒSubjectè´Ÿè´£ç»´æŠ¤ä¸Žè¿™äº›ObServeä¹‹é—´çš„è”ç³»ï¼Œ ä»£ç å®žçŽ°ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445class Subject &#123; constructor() &#123; this.observers = []; // è§‚å¯Ÿè€…åˆ—è¡¨ &#125; // æ·»åŠ  add(observer) &#123; this.observers.push(observer); &#125; // åˆ é™¤ remove(observer) &#123; let idx = this.observers.findIndex(item =&gt; item === observer); idx &gt; -1 &amp;&amp; this.observers.splice(idx, 1); &#125;, // é€šçŸ¥ notify() &#123; for (let observer of observers) &#123; observer.update(); &#125; &#125;&#125;class ObServer &#123; constructor(name) &#123; this.name = name; &#125; update() &#123; console.log(`æ”¶åˆ°é€šçŸ¥ï¼š$&#123;this.name&#125;`); &#125;&#125;// å®žä¾‹åŒ–ç›®æ ‡è€…let subject = new Subject();// å®žä¾‹åŒ–ä¸¤ä¸ªè§‚å¯Ÿè€…let obs1 = new ObServer('å‰ç«¯å¼€å‘è€…');let obs2 = new ObServer('åŽç«¯å¼€å‘è€…');// å‘ç›®æ ‡è€…æ·»åŠ è§‚å¯Ÿè€…subject.add(obs1);subject.add(obs2);// ç›®æ ‡è€…é€šçŸ¥æ›´æ–°subject.notify();// è¾“å‡ºï¼š// æ”¶åˆ°é€šçŸ¥ï¼šå‰ç«¯å¼€å‘è€…// æ”¶åˆ°é€šçŸ¥ï¼šåŽç«¯å¼€å‘è€… ä¼˜åŠ¿ï¼šç›®æ ‡è€…ä¸Žè§‚å¯Ÿè€…ï¼ŒåŠŸèƒ½è€¦åˆåº¦é™ä½Žï¼Œä¸“æ³¨è‡ªèº«åŠŸèƒ½é€»è¾‘ï¼›è§‚å¯Ÿè€…è¢«åŠ¨æŽ¥æ”¶æ›´æ–°ï¼Œæ—¶é—´ä¸Šè§£è€¦ï¼Œå®žæ—¶æŽ¥æ”¶ç›®æ ‡è€…æ›´æ–°çŠ¶æ€ã€‚ç¼ºç‚¹ï¼šè§‚å¯Ÿè€…æ¨¡å¼è™½ç„¶å®žçŽ°äº†å¯¹è±¡é—´ä¾èµ–å…³ç³»çš„ä½Žè€¦åˆï¼Œä½†å´ä¸èƒ½å¯¹äº‹ä»¶é€šçŸ¥è¿›è¡Œç»†åˆ†ç®¡æŽ§ï¼Œå¦‚â€ç­›é€‰é€šçŸ¥â€œï¼Œâ€æŒ‡å®šä¸»é¢˜äº‹ä»¶é€šçŸ¥â€œã€‚ å‘å¸ƒè®¢é˜…æ¨¡å¼å‘å¸ƒè®¢é˜…æ¨¡å¼åŸºäºŽä¸€ä¸ªäº‹ä»¶ï¼ˆä¸»é¢˜ï¼‰é€šé“ï¼Œå¸Œæœ›æŽ¥æ”¶é€šçŸ¥çš„å¯¹è±¡Subscriberé€šè¿‡è‡ªå®šä¹‰äº‹ä»¶è®¢é˜…ä¸»é¢˜ï¼Œè¢«æ¿€æ´»äº‹ä»¶çš„å¯¹è±¡Publisheré€šè¿‡å‘å¸ƒä¸»é¢˜äº‹ä»¶çš„æ–¹å¼é€šçŸ¥å„ä¸ªè®¢é˜…è¯¥ä¸»é¢˜çš„subscriberå¯¹è±¡ã€‚ ä»£ç å®žçŽ°ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445// äº‹ä»¶ä¸­å¿ƒlet pubSub = &#123; list: &#123;&#125;, // è®¢é˜… subscribe: function(key, fn) &#123; if (!this.list[key]) &#123; this.list[key] = []; &#125; this.list[key].push(fn); &#125;, // å‘å¸ƒ publish: function(key, ...arg) &#123; for (let fn of this.list[key]) &#123; fn.call(this, ...arg); &#125; &#125;, // å–æ¶ˆè®¢é˜… unSubscribe: function(key, fn) &#123; let fnList = this.list[key]; if (!fnList) return false; if (!fn) &#123; // ä¸ä¼ å…¥æŒ‡å®šå–æ¶ˆçš„è®¢é˜…æ–¹æ³•ï¼Œåˆ™æ¸…ç©ºæ‰€æœ‰keyä¸‹çš„è®¢é˜… fnList &amp;&amp; (fnList.length === 0); &#125; else &#123; fnList.forEach((item, index) =&gt; &#123; if (item === fn) &#123; fnList.splice(index, 1); &#125; &#125;) &#125; &#125;&#125;// è®¢é˜…pubSub.subscribe('onwork', time =&gt; &#123; console.log(`ä¸Šç­äº†ï¼š$&#123;time&#125;`);&#125;)pubSub.subscribe('offwork', time =&gt; &#123; console.log(`ä¸‹ç­äº†ï¼š$&#123;time&#125;`);&#125;)// å‘å¸ƒpubSub.publish('onwork', '9:00:00');pubSub.publish('offwork', '18:00:00');// å–æ¶ˆè®¢é˜…pubSub.unSubscribe('onwork'); å‘å¸ƒè®¢é˜…æ¨¡å¼ä¸­ï¼Œè®¢é˜…è€…å„è‡ªå®žçŽ°ä¸åŒçš„é€»è¾‘ï¼Œä¸”åªæŽ¥å—è‡ªå·±å¯¹åº”çš„äº‹ä»¶é€šçŸ¥ã€‚å®žçŽ°ä½ æƒ³è¦çš„ â€œä¸ä¸€æ ·â€ã€‚ DOM äº‹ä»¶ç›‘å¬ä¹Ÿæ˜¯ â€œå‘å¸ƒè®¢é˜…æ¨¡å¼â€ çš„åº”ç”¨ï¼š 1234567891011121314let loginBtn = document.getElementById('#loginBtn');// ç›‘å¬å›žè°ƒå‡½æ•°ï¼ˆæŒ‡å®šäº‹ä»¶ï¼‰function notifyClick() &#123; console.log('ç‚¹å‡»');&#125;// æ·»åŠ äº‹ä»¶ç›‘å¬loginBtn.addEventListener('click', notifyClick);// è§¦å‘ç‚¹å‡»ï¼Œäº‹ä»¶ä¸­å¿ƒæ´¾å‘æŒ‡å®šäº‹ä»¶loginBtn.click();// å–æ¶ˆäº‹ä»¶ç›‘å¬loginBtn.removeEventListener('click', notifyClick); å‘å¸ƒè®¢é˜…çš„é€šçŸ¥é¡ºåºï¼š å…ˆè®¢é˜…åŽå‘å¸ƒæ—¶æ‰é€šçŸ¥ï¼ˆå¸¸è§„ï¼‰ è®¢é˜…åŽå¯èŽ·å–è¿‡å¾€ä»¥åŽçš„å‘å¸ƒé€šçŸ¥ ï¼ˆQQç¦»çº¿æ¶ˆæ¯ï¼Œä¸Šçº¿åŽèŽ·å–ä¹‹å‰çš„ä¿¡æ¯ï¼‰ æµè¡Œåº“çš„åº”ç”¨ jQuery çš„ on å’Œ triggerï¼Œ$.callback(); Vue çš„åŒå‘æ•°æ®ç»‘å®šï¼› Vue çš„çˆ¶å­ç»„ä»¶é€šä¿¡ $on/$emit]]></content>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä»€ä¹ˆæ˜¯babel?]]></title>
    <url>%2F2020%2F03%2F02%2F2020%2F3%E6%9C%88%2F0302%2F</url>
    <content type="text"><![CDATA[ä»€ä¹ˆæ˜¯babel?å®˜æ–¹çš„è§£é‡Š Babel æ˜¯ä¸€ä¸ª JavaScript ç¼–è¯‘å™¨ï¼Œç”¨äºŽå°† ECMAScript 2015+ ç‰ˆæœ¬çš„ä»£ç è½¬æ¢ä¸ºå‘åŽå…¼å®¹çš„ JavaScript è¯­æ³•ï¼Œä»¥ä¾¿èƒ½å¤Ÿè¿è¡Œåœ¨å½“å‰ç‰ˆæœ¬å’Œæ—§ç‰ˆæœ¬çš„æµè§ˆå™¨æˆ–å…¶ä»–çŽ¯å¢ƒä¸­ã€‚ç®€å•æ¥è¯´ Babel çš„å·¥ä½œå°±æ˜¯ï¼š è¯­æ³•è½¬æ¢ é€šè¿‡Polyfillçš„æ–¹å¼åœ¨ç›®æ ‡çŽ¯å¢ƒä¸­æ·»åŠ ç¼ºå¤±çš„ç‰¹æ€§ JSæºç è½¬æ¢ babelçš„åŸºæœ¬åŽŸç†åŽŸç†å¾ˆç®€å•ï¼Œæ ¸å¿ƒå°±æ˜¯ AST (æŠ½è±¡è¯­æ³•æ ‘)ã€‚é¦–å…ˆå°†æºç è½¬æˆæŠ½è±¡è¯­æ³•æ ‘ï¼Œç„¶åŽå¯¹è¯­æ³•æ ‘è¿›è¡Œå¤„ç†ç”Ÿæˆæ–°çš„è¯­æ³•æ ‘ï¼Œæœ€åŽå°†æ–°è¯­æ³•æ ‘ç”Ÿæˆæ–°çš„ JS ä»£ç ï¼Œæ•´ä¸ªç¼–è¯‘è¿‡ç¨‹å¯ä»¥åˆ†ä¸º 3 ä¸ªé˜¶æ®µ parsing (è§£æž)ã€transforming (è½¬æ¢)ã€generating (ç”Ÿæˆ)ï¼Œéƒ½æ˜¯åœ¨å›´ç»•ç€ AST åŽ»åšæ–‡ç« ï¼Œè¯ä¸å¤šè¯´ä¸Šå›¾ï¼š Babel åªè´Ÿè´£ç¼–è¯‘æ–°æ ‡å‡†å¼•å…¥çš„æ–°è¯­æ³•ï¼Œæ¯”å¦‚ Arrow functionã€Classã€ES Module ç­‰ï¼Œå®ƒä¸ä¼šç¼–è¯‘åŽŸç”Ÿå¯¹è±¡æ–°å¼•å…¥çš„æ–¹æ³•å’Œ APIï¼Œæ¯”å¦‚ Array.includesï¼ŒMapï¼ŒSet ç­‰ï¼Œè¿™äº›éœ€è¦é€šè¿‡ Polyfill æ¥è§£å†³ babelçš„ä½¿ç”¨è¿è¡Œbabelæ‰€éœ€çš„åŸºæœ¬çŽ¯å¢ƒ babel/cli babel/core é…ç½®babel babel.config.js .babelrc babelrc.js package.json å››ç§é…ç½®æ–¹å¼ä½œç”¨éƒ½ä¸€æ ·ï¼Œä½ å°±åˆç€è‡ªå·±çš„å£å‘³æ¥ï¼Œé‚£ç§çœ‹ç€é¡ºçœ¼ï¼Œä½ å°±ç¿»å®ƒã€‚ æ’ä»¶(Plugins)æ’ä»¶ä½¿ç”¨æ¥å®šä¹‰å¦‚ä½•è½¬æ¢ä½ çš„ä»£ç çš„ã€‚åœ¨babelçš„é…ç½®é¡¹ä¸­å¡«å†™éœ€è¦ä½¿ç”¨çš„æ’ä»¶åç§°ï¼Œbabelåœ¨ç¼–è¯‘çš„æ—¶å€™å°±ä¼šåŽ»åŠ è½½node_modulesä¸­å¯¹åº”çš„npmåŒ…ï¼Œç„¶åŽç¼–è¯‘æ’ä»¶å¯¹åº”çš„è¯­æ³•ã€‚ .babelrc 123456&#123; "plugins": [ "transform-decorators-legacy", "transform-class-properties" ]&#125; æ’ä»¶æ‰§è¡Œé¡ºåºæ’ä»¶åœ¨é¢„è®¾(persets)å‰è¿è¡Œã€‚ æ’ä»¶çš„æ‰§è¡Œé¡ºåºæ˜¯ä»Žå·¦å¾€å³æ‰§è¡Œã€‚ä¹Ÿå°±æ˜¯è¯´åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œbabelåœ¨è¿›è¡ŒASTéåŽ†çš„æ—¶å€™ä¼šå…ˆè°ƒç”¨transform-decorators-legacyæ’ä»¶ä¸­å®šä¹‰çš„è½¬æ¢æ–¹æ³•ï¼Œç„¶åŽå†è°ƒç”¨transform-class-propertiesä¸­çš„æ–¹æ³•ã€‚ æ’ä»¶ä¼ å‚å‚æ•°æ˜¯ç”±æ’ä»¶åç§°å’Œå‚æ•°å¯¹è±¡ç»„æˆçš„ä¸€ä¸ªæ•°ç»„ 123456789101112&#123; "plugins": [ [ "import", &#123; "libraryName": "antd", "libraryDirectory": "es", "style": "css" &#125; ], ]&#125; æ’ä»¶åç§°æ’ä»¶åç§°å¦‚æžœä¸º @babel/plugin-xxxï¼Œå¯ä»¥ä½¿ç”¨çŸ­åç§°@babel/xxï¼Œå¦‚æžœä¸ºbabel-plugin-xxï¼Œå¯ä»¥ç›´æŽ¥ä½¿ç”¨xxã€‚ è‡ªå®šä¹‰æ’ä»¶é¢„è®¾(Presets)é¢„è®¾å°±æ˜¯ä¸€å †æ’ä»¶(Plugin)çš„ç»„åˆï¼Œä»Žè€Œè¾¾åˆ°æŸç§è½¬è¯‘çš„èƒ½åŠ›ï¼Œå°±æ¯”å¦‚reactä¸­ä½¿ç”¨åˆ°çš„@babel/perset-reactï¼Œä»–å°±æ˜¯ä¸‹é¢å‡ ç§æ’ä»¶çš„ç»„åˆã€‚ @babel/plugin-syntax-jsx @babel/plugin-transform-react-jsx @babel/plugin-transform-react-display-name å½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥æ‰‹åŠ¨çš„åœ¨pluginsä¸­é…ç½®ä¸€ç³»åˆ—çš„pluginæ¥è¾¾åˆ°ç›®çš„ï¼Œå°±åƒè¿™æ ·ï¼š 1234567&#123; "plugins": [ "@babel/plugin-syntax-jsx", "@babel/plugin-transform-react-jsx", "@babel/plugin-transform-react-display-name" ]&#125; ä½†æ˜¯è¿™æ ·ä¸€æ–¹é¢æ˜¾å¾—ä¸é‚£ä¹ˆä¼˜é›…ï¼Œå¦ä¸€æ–¹é¢å¢žåŠ äº†ä½¿ç”¨è€…çš„ä½¿ç”¨éš¾åº¦ã€‚å¦‚æžœç›´æŽ¥ä½¿ç”¨é¢„è®¾å°±æ¸…æ–°è„±ä¿—å¤šäº†~ 12345&#123; "persets": [ "@babel/preset-react" ]&#125; é¢„è®¾(Presets)çš„æ‰§è¡Œé¡ºåºå‰é¢æåˆ°æ’ä»¶çš„æ‰§è¡Œé¡ºåºæ˜¯ä»Žå·¦å¾€å³ï¼Œè€Œé¢„è®¾çš„æ‰§è¡Œé¡ºåºæ°å¥½åå…¶é“è¡Œä¹‹ï¼Œå®ƒæ˜¯ä»Žå³å¾€å·¦ã€‚ 1234567&#123; "presets": [ "a", "b", "c" ]&#125; å®ƒçš„æ‰§è¡Œé¡ºåºæ˜¯ cã€bã€aï¼Œæ˜¯ä¸æ˜¯æœ‰ç‚¹å¥‡æ€ªï¼Œè¿™ä¸»è¦æ˜¯ä¸ºäº†ç¡®ä¿å‘åŽå…¼å®¹ï¼Œå› ä¸ºå¤§å¤šæ•°ç”¨æˆ·å°† â€œes2015â€ æ”¾åœ¨ â€œstage-0â€ ä¹‹å‰ã€‚ è‡ªå®šä¹‰é¢„è®¾(Presets)é‚£äº›å¥¹è®¤è¯†ä½ è€Œä½ ä¸è®¤è¯†å¥¹çš„é¢„è®¾(Presets) @babel/preset-stage-xxx @babel/perset-stage-xxx æ˜¯ESåœ¨ä¸åŒé˜¶æ®µè¯­æ³•ææ¡ˆçš„è½¬ç è§„åˆ™è€Œäº§ç”Ÿçš„é¢„è®¾ï¼Œéšç€è¢«æ‰¹å‡†ä¸ºESæ–°ç‰ˆæœ¬çš„ç»„æˆéƒ¨åˆ†è€Œè¿›è¡Œç›¸åº”çš„æ”¹å˜ï¼ˆä¾‹å¦‚ES6/ES2015ï¼‰ã€‚ ææ¡ˆåˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªé˜¶æ®µï¼š stage-0ï¼Œè®¾æƒ³ï¼šåªæ˜¯ä¸€ä¸ªæƒ³æ³•ï¼Œå¯èƒ½æœ‰babelæ’ä»¶ï¼Œstage-0çš„åŠŸèƒ½èŒƒå›´æœ€å¹¿ï¼ŒåŒ…å«stage-1ï¼Œstage-2ï¼Œstage-3çš„æ‰€æœ‰åŠŸèƒ½ stage-1ï¼Œå»ºè®®ï¼šè¿™æ˜¯å€¼å¾—è·Ÿè¿›çš„ stage-2ï¼Œè‰æ¡ˆï¼šåˆå§‹è§„èŒƒ stage-3ï¼Œå€™é€‰ï¼šå®Œæˆè§„èŒƒå¹¶åœ¨æµè§ˆå™¨ä¸Šåˆæ­¥å®žçŽ° stage-4ï¼Œå®Œæˆï¼šå°†æ·»åŠ åˆ°ä¸‹ä¸€ä¸ªå¹´åº¦ç‰ˆæœ¬å‘å¸ƒä¸­ @babel-preset-es2015 preset-es2015æ˜¯ä»…åŒ…å«ES6åŠŸèƒ½çš„Babelé¢„è®¾ã€‚ å®žé™…ä¸Šåœ¨babel7å‡ºæ¥åŽä¸Šé¢æåˆ°çš„è¿™äº›é¢„è®¾stage-xï¼Œpreset-es2015éƒ½å¯ä»¥åºŸå¼ƒäº†ï¼Œå› ä¸º@bael/preset-envå‡ºæ¥ä¸€ç»Ÿæ±Ÿæ¹–äº†ã€‚ @babel/preset-env å‰é¢ä¸¤ä¸ªé¢„è®¾æ˜¯ä»ŽESæ ‡å‡†çš„ç»´åº¦æ¥ç¡®å®šè½¬ç è§„åˆ™çš„ï¼Œè€Œ@babel/preset-envæ˜¯æ ¹æ®æµè§ˆå™¨çš„ä¸åŒç‰ˆæœ¬ä¸­ç¼ºå¤±çš„åŠŸèƒ½ç¡®å®šè½¬æ¢è§„åˆ™çš„ï¼Œåœ¨é…ç½®çš„æ—¶å€™æˆ‘ä»¬åªéœ€è¦é…ç½®éœ€è¦æ”¯æŒçš„æµè§ˆå™¨ç‰ˆæœ¬å°±å¥½äº†ï¼Œ@babel/preset-envä¼šæ ¹æ®ç›®æ ‡æµè§ˆå™¨ç”Ÿæˆå¯¹åº”çš„æ’ä»¶åˆ—è¡¨ç„¶åŽè¿›è¡Œç¼–è¯‘ï¼š 12345678910&#123; "presets": [ ["env", &#123; "targets": &#123; "browser": ["last 10 versions", "ie &gt;= 9"] &#125; &#125;], ], ...&#125; åœ¨é»˜è®¤æƒ…å†µä¸‹@babel/preset-envæ”¯æŒå°†JSç›®å‰æœ€æ–°çš„è¯­æ³•è½¬æˆES5ï¼Œä½†éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æžœä½ ä»£ç ä¸­ç”¨åˆ°äº†è¿˜æ²¡æœ‰æˆä¸ºJSæ ‡å‡†çš„è¯­æ³•ï¼Œè¯¥è¯­æ³•æš‚æ—¶è¿˜å¤„äºŽstageé˜¶æ®µï¼Œè¿™ä¸ªæ—¶å€™è¿˜æ˜¯éœ€è¦å®‰è£…å¯¹åº”çš„stageé¢„è®¾ï¼Œä¸ç„¶ç¼–è¯‘ä¼šæŠ¥é”™ã€‚ 12345678910&#123; "presets": [ ["env", &#123; "targets": &#123; "browsers": ["last 10 versions", "ie &gt;= 9"] &#125; &#125;], ], "stage-0"&#125; è™½ç„¶å¯ä»¥é‡‡ç”¨é»˜è®¤é…ç½®ï¼Œä½†å¦‚æžœä¸éœ€è¦ç…§é¡¾æ‰€æœ‰çš„æµè§ˆå™¨ï¼Œè¿˜æ˜¯å»ºè®®ä½ é…ç½®ç›®æ ‡æµè§ˆå™¨å’ŒçŽ¯å¢ƒï¼Œè¿™æ ·å¯ä»¥ä¿è¯ç¼–è¯‘åŽçš„ä»£ç ä½“ç§¯è¶³å¤Ÿå°ï¼Œå› ä¸ºåœ¨æœ‰çš„ç‰ˆæœ¬æµè§ˆå™¨ä¸­ï¼Œæ–°è¯­æ³•æœ¬èº«å°±èƒ½æ‰§è¡Œï¼Œä¸éœ€è¦ç¼–è¯‘ã€‚@babel/preset-env åœ¨é»˜è®¤æƒ…å†µä¸‹å’Œ preset-stage-x ä¸€æ ·åªç¼–è¯‘è¯­æ³•ï¼Œä¸ä¼šå¯¹æ–°æ–¹æ³•å’Œæ–°çš„åŽŸç”Ÿå¯¹è±¡è¿›è¡Œè½¬è¯‘ï¼Œä¾‹å¦‚ï¼š 123const arrFun = ()=&gt;&#123;&#125;const arr = [1,2,3]console.log(arr.includes(1)) è½¬æ¢åŽ 123456"use strict";var arrFun = function arrFun() &#123;&#125;;var arr = [1, 2, 3];console.log(arr.includes(1)); ç®­å¤´å‡½æ•°è¢«è½¬æ¢äº†ï¼Œä½†æ˜¯ Array.includes æ–¹æ³•ï¼Œå¹¶æ²¡æœ‰è¢«å¤„ç†ï¼Œè¿™ä¸ªæ—¶å€™è¦æ˜¯ç¨‹åºè·‘åœ¨ä½Žç‰ˆæœ¬çš„æµè§ˆå™¨ä¸Šï¼Œå°±ä¼šå‡ºçŽ° includes is not function çš„é”™è¯¯ã€‚è¿™ä¸ªæ—¶å€™å°±éœ€è¦ polyfill é—ªäº®ç™»åœºäº†ã€‚ Polyfillpolyfill çš„ç¿»è¯‘è¿‡æ¥å°±æ˜¯åž«ç‰‡ï¼Œåž«ç‰‡å°±æ˜¯åž«å¹³ä¸åŒæµè§ˆå™¨çŽ¯å¢ƒçš„å·®å¼‚ï¼Œè®©å¤§å®¶éƒ½ä¸€æ ·ã€‚ @babel/polyfill æ¨¡å—å¯ä»¥æ¨¡æ‹Ÿå®Œæ•´çš„ES5çŽ¯å¢ƒã€‚ babel7.4ä»¥ä¸Šç‰ˆæœ¬å·²ç»å¼ƒç”¨ï¼Œå¯ä»¥ç”¨core-jsä»£æ›¿æ³¨æ„ @babel/polyfill ä¸æ˜¯åœ¨ Babel é…ç½®æ–‡ä»¶ä¸­é…ç½®ï¼Œè€Œæ˜¯åœ¨æˆ‘ä»¬çš„ä»£ç ä¸­å¼•å…¥ã€‚ 12345import '@babel/polyfill';const arrFun = ()=&gt;&#123;&#125;const arr = [1,2,3]console.log(arr.includes(1))Promise.resolve(true) è¿™æ ·åœ¨ä½Žç‰ˆæœ¬çš„æµè§ˆå™¨ä¸­ä¹Ÿèƒ½æ­£å¸¸è¿è¡Œäº†ã€‚ ä½¿ç”¨core-jsä»£æ›¿ï¼Œä¸éœ€è¦åœ¨æ–‡ä»¶ä¸­å¼•å…¥@babel/polyfill 123456789101112131415&#123; "presets": [ "@babel/preset-flow", [ "@babel/preset-env", &#123; "targets": &#123; "node": "8.10" &#125;, "corejs": "3", // å£°æ˜Ž corejs ç‰ˆæœ¬ "useBuiltIns": "usage" &#125; ] ]&#125; ECMAScript å’Œ JavaScript çš„å…³ç³»ECMAScript å’Œ JavaScript çš„å…³ç³»æ˜¯ï¼Œå‰è€…æ˜¯åŽè€…çš„è§„æ ¼ï¼ŒåŽè€…æ˜¯å‰è€…çš„ä¸€ç§å®žçŽ°ã€‚]]></content>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åˆ¤æ–­æ•°æ®ç±»åž‹çš„å‡ ç§æ–¹å¼]]></title>
    <url>%2F2020%2F02%2F28%2F2020%2F2%E6%9C%88%2F0228%2F</url>
    <content type="text"><![CDATA[åˆ¤æ–­æ•°æ®ç±»åž‹1. typeofè¿”å›žæ•°æ®ç±»åž‹ï¼ŒåŒ…å«è¿™7ç§ï¼š numberã€booleanã€symbolã€stringã€objectã€undefinedã€functionã€‚ å¼•ç”¨ç±»åž‹ï¼Œé™¤äº†functionè¿”å›žfunctionç±»åž‹å¤–ï¼Œå…¶ä»–å‡è¿”å›žobjectã€‚ å…¶ä¸­ï¼Œnull æœ‰å±žäºŽè‡ªå·±çš„æ•°æ®ç±»åž‹ Null ï¼Œ å¼•ç”¨ç±»åž‹ä¸­çš„ æ•°ç»„ã€æ—¥æœŸã€æ­£åˆ™ ä¹Ÿéƒ½æœ‰å±žäºŽè‡ªå·±çš„å…·ä½“ç±»åž‹ï¼Œè€Œ typeof å¯¹äºŽè¿™äº›ç±»åž‹çš„å¤„ç†ï¼Œåªè¿”å›žäº†å¤„äºŽå…¶åŽŸåž‹é“¾æœ€é¡¶ç«¯çš„ Object ç±»åž‹ï¼Œæ²¡æœ‰é”™ï¼Œä½†ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ç»“æžœã€‚ 2. Object.prototype.toString.call()toString() æ˜¯ Object çš„åŽŸåž‹æ–¹æ³•ï¼Œè°ƒç”¨è¯¥æ–¹æ³•ï¼Œé»˜è®¤è¿”å›žå½“å‰å¯¹è±¡çš„ [[Class]] ã€‚è¿™æ˜¯ä¸€ä¸ªå†…éƒ¨å±žæ€§ï¼Œå…¶æ ¼å¼ä¸º [object Xxx] ï¼Œå…¶ä¸­ Xxx å°±æ˜¯å¯¹è±¡çš„ç±»åž‹ã€‚ å¯¹äºŽ Object å¯¹è±¡ï¼Œç›´æŽ¥è°ƒç”¨ toString() å°±èƒ½è¿”å›ž [object Object] ã€‚è€Œå¯¹äºŽå…¶ä»–å¯¹è±¡ï¼Œåˆ™éœ€è¦é€šè¿‡ call / apply æ¥è°ƒç”¨æ‰èƒ½è¿”å›žæ­£ç¡®çš„ç±»åž‹ä¿¡æ¯ã€‚ 12345678910111213Object.prototype.toString.call('') ; // [object String]Object.prototype.toString.call(1) ; // [object Number]Object.prototype.toString.call(true) ; // [object Boolean]Object.prototype.toString.call(Symbol()); //[object Symbol]Object.prototype.toString.call(undefined) ; // [object Undefined]Object.prototype.toString.call(null) ; // [object Null]Object.prototype.toString.call(new Function()) ; // [object Function]Object.prototype.toString.call(new Date()) ; // [object Date]Object.prototype.toString.call([]) ; // [object Array]Object.prototype.toString.call(new RegExp()) ; // [object RegExp]Object.prototype.toString.call(new Error()) ; // [object Error]Object.prototype.toString.call(document) ; // [object HTMLDocument]Object.prototype.toString.call(window) ; //[object global] window æ˜¯å…¨å±€å¯¹è±¡ global çš„å¼•ç”¨ 3. constructorconstructoræ˜¯åŽŸåž‹prototypeçš„ä¸€ä¸ªå±žæ€§ï¼Œå½“å‡½æ•°è¢«å®šä¹‰æ—¶å€™ï¼Œjså¼•æ“Žä¼šä¸ºå‡½æ•°æ·»åŠ åŽŸåž‹prototypeï¼Œå¹¶ä¸”è¿™ä¸ªprototypeä¸­constructorå±žæ€§æŒ‡å‘å‡½æ•°å¼•ç”¨ï¼Œ å› æ­¤é‡å†™prototypeä¼šä¸¢å¤±åŽŸæ¥çš„constructorã€‚ ä¸è¿‡è¿™ç§æ–¹æ³•æœ‰é—®é¢˜ï¼š1ï¼šnull å’Œ undefined æ— constructorï¼Œè¿™ç§æ–¹æ³•åˆ¤æ–­ä¸äº†ã€‚ 2ï¼šè¿˜æœ‰ï¼Œå¦‚æžœè‡ªå®šä¹‰å¯¹è±¡ï¼Œå¼€å‘è€…é‡å†™prototypeä¹‹åŽï¼ŒåŽŸæœ‰çš„constructorä¼šä¸¢å¤±ï¼Œå› æ­¤ï¼Œä¸ºäº†è§„èŒƒå¼€å‘ï¼Œåœ¨é‡å†™å¯¹è±¡åŽŸåž‹æ—¶ä¸€èˆ¬éƒ½éœ€è¦é‡æ–°ç»™ constructor èµ‹å€¼ï¼Œä»¥ä¿è¯å¯¹è±¡å®žä¾‹çš„ç±»åž‹ä¸è¢«ç¯¡æ”¹ã€‚ 4. instanceofinstanceof æ˜¯ç”¨æ¥åˆ¤æ–­ A æ˜¯å¦ä¸º B çš„å®žä¾‹ï¼Œè¡¨è¾¾å¼ä¸ºï¼šA instanceof Bï¼Œå¦‚æžœ A æ˜¯ B çš„å®žä¾‹ï¼Œåˆ™è¿”å›ž true,å¦åˆ™è¿”å›ž falseã€‚ åœ¨è¿™é‡Œéœ€è¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯ï¼šinstanceof æ£€æµ‹çš„æ˜¯åŽŸåž‹ï¼Œ ç”±ä¸Šå›¾å¯ä»¥çœ‹å‡º[]çš„åŽŸåž‹æŒ‡å‘Array.prototypeï¼Œé—´æŽ¥æŒ‡å‘Object.prototype, å› æ­¤ [] instanceof Array è¿”å›žtrueï¼Œ [] instanceof Object ä¹Ÿè¿”å›žtrueã€‚ instanceof åªèƒ½ç”¨æ¥åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦å±žäºŽå®žä¾‹å…³ç³»ï¼Œ è€Œä¸èƒ½åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡å®žä¾‹å…·ä½“å±žäºŽå“ªç§ç±»åž‹ã€‚]]></content>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å‰ç«¯æœ‰å“ªäº›é¡µé¢ä¼˜åŒ–æ–¹æ³•?]]></title>
    <url>%2F2020%2F02%2F27%2F2020%2F2%E6%9C%88%2F0227%2F</url>
    <content type="text"><![CDATA[å‰ç«¯æœ‰å“ªäº›é¡µé¢ä¼˜åŒ–æ–¹æ³•? å‡å°‘httpè¯·æ±‚æ•° ä»Žè®¾è®¡å®žçŽ°å±‚é¢ç®€åŒ–é¡µé¢ï¼Œå‡å°‘å…ƒç´ çš„ä½¿ç”¨ åˆç†è®¾ç½®httpç¼“å­˜ èµ„æºåˆå¹¶ä¸ŽåŽ‹ç¼© åˆå¹¶csså›¾ç‰‡ï¼Œå‡å°‘è¯·æ±‚æ•°çš„åˆä¸€ä¸ªå¥½åŠžæ³• å°†å¤–éƒ¨è„šæœ¬ç½®åº•ï¼ˆé¡µé¢ä¿¡æ¯åŠ è½½åŽåœ¨åŠ è½½ï¼‰ å¤šå›¾é¡µé¢ä½¿ç”¨å›¾ç‰‡æ‡’åŠ è½½ åœ¨jsä¸­å°½é‡å‡å°‘é—­åŒ…çš„ä½¿ç”¨ å°½é‡åˆå¹¶csså’Œjsæ–‡ä»¶ å°½é‡ä½¿ç”¨å­—ä½“å›¾æ ‡æˆ–è€…svgå›¾æ ‡ï¼Œæ¥ä»£æ›¿ä¼ ç»Ÿçš„pngç­‰æ ¼å¼å›¾ç‰‡ å‡å°‘å¯¹domçš„æ“ä½œ å°½å¯èƒ½ä½¿ç”¨äº‹ä»¶å§”æ‰˜ï¼ˆäº‹ä»¶ä»£ç†ï¼‰æ¥å¤„ç†äº‹ä»¶ç»‘å®šçš„æ“ä½œ ç§»åŠ¨ç«¯çš„å…¼å®¹é—®é¢˜ ç»™ç§»åŠ¨ç«¯æ·»åŠ ç‚¹å‡»äº‹ä»¶ä¼šæœ‰300Sçš„å»¶è¿Ÿ å¦‚æžœç”¨ç‚¹å‡»äº‹ä»¶ï¼Œéœ€è¦å¼•ä¸€ä¸ªfastclick.jsæ–‡ä»¶ï¼Œè§£å†³300sçš„å»¶è¿Ÿ ä¸€èˆ¬åœ¨ç§»åŠ¨ç«¯ç”¨ontouchstartã€ontouchmoveã€ontouchend ç§»åŠ¨ç«¯ç‚¹é€é—®é¢˜,touchstart æ—©äºŽ touchend æ—©äºŽclick,clickçš„è§¦å‘æ˜¯æœ‰å»¶è¿Ÿçš„ï¼Œè¿™ä¸ªæ—¶é—´å¤§æ¦‚åœ¨300mså·¦å³ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬tapè§¦å‘ä¹‹åŽè’™å±‚éšè—ï¼Œ æ­¤æ—¶ clickè¿˜æ²¡æœ‰è§¦å‘ï¼Œ300msä¹‹åŽç”±äºŽè’™å±‚éšè—ï¼Œæˆ‘ä»¬çš„clickè§¦å‘åˆ°äº†ä¸‹é¢çš„aé“¾æŽ¥ä¸Šå°½é‡éƒ½ä½¿ç”¨touchäº‹ä»¶æ¥æ›¿æ¢clickäº‹ä»¶ã€‚ä¾‹å¦‚ç”¨touchendäº‹ä»¶(æŽ¨è)ã€‚ç”¨fastclickï¼Œgithub.com/ftlabs/fastâ€¦ç”¨preventDefaulté˜»æ­¢aæ ‡ç­¾çš„clickæ¶ˆé™¤ IE10 é‡Œé¢çš„é‚£ä¸ªå‰å·input:-ms-clear{display:none;} è®¾ç½®ç¼“å­˜ æ‰‹æœºé¡µé¢é€šå¸¸åœ¨ç¬¬ä¸€æ¬¡åŠ è½½åŽä¼šè¿›è¡Œç¼“å­˜ï¼Œç„¶åŽæ¯æ¬¡åˆ·æ–°ä¼šä½¿ç”¨ç¼“å­˜è€Œä¸æ˜¯åŽ»é‡æ–°å‘æœåŠ¡å™¨å‘é€è¯·æ±‚ã€‚å¦‚æžœä¸å¸Œæœ›ä½¿ç”¨ç¼“å­˜å¯ä»¥è®¾ç½®no-cacheã€‚ åœ†è§’BUG æŸäº›Androidæ‰‹æœºåœ†è§’å¤±æ•ˆ background-clip: padding-box; é˜²æ­¢æ‰‹æœºä¸­ç½‘é¡µæ”¾å¤§å’Œç¼©å° è¿™ç‚¹æ˜¯æœ€åŸºæœ¬çš„ï¼Œåšä¸ºæ‰‹æœºç½‘ç«™å¼€å‘è€…æ¥è¯´åº”è¯¥éƒ½çŸ¥é“çš„ï¼Œå°±æ˜¯è®¾ç½®metaä¸­çš„viewport è®¾ç½®ç”¨æˆ·æˆªæ­¢ç¼©æ”¾ï¼Œä¸€èˆ¬å†™è§†å£çš„æ—¶å€™å°±å·²ç»å†™å¥½äº†ã€‚]]></content>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[call bind applyçš„åŒºåˆ«ï¼Ÿjsåžƒåœ¾å›žæ”¶]]></title>
    <url>%2F2020%2F02%2F26%2F2020%2F2%E6%9C%88%2F0226%2F</url>
    <content type="text"><![CDATA[call bind applyçš„åŒºåˆ«ï¼Ÿ call() å’Œ apply()çš„ç¬¬ä¸€ä¸ªå‚æ•°ç›¸åŒï¼Œå°±æ˜¯æŒ‡å®šçš„å¯¹è±¡ã€‚è¿™ä¸ªå¯¹è±¡å°±æ˜¯è¯¥å‡½æ•°çš„æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚ call()å’Œapply()çš„åŒºåˆ«å°±åœ¨äºŽï¼Œä¸¤è€…ä¹‹é—´çš„å‚æ•°ã€‚ call()åœ¨ç¬¬ä¸€ä¸ªå‚æ•°ä¹‹åŽçš„åŽç»­æ‰€æœ‰å‚æ•°å°±æ˜¯ä¼ å…¥è¯¥å‡½æ•°çš„å€¼ apply()åªæœ‰ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯å¯¹è±¡ï¼Œç¬¬äºŒä¸ªæ˜¯æ•°ç»„ï¼Œè¿™ä¸ªæ•°ç»„å°±æ˜¯è¯¥å‡½æ•°çš„å‚æ•°ã€‚bind()æ–¹æ³•å’Œå‰ä¸¤è€…ä¸åŒåœ¨äºŽï¼šbind()æ–¹æ³•ä¼šè¿”å›žæ‰§è¡Œä¸Šä¸‹æ–‡è¢«æ”¹å˜çš„å‡½æ•°è€Œä¸ä¼šç«‹å³æ‰§è¡Œï¼Œè€Œå‰ä¸¤è€…æ˜¯ç›´æŽ¥æ‰§è¡Œè¯¥å‡½æ•°ã€‚ä»–çš„å‚æ•°å’Œcall()ç›¸åŒ. jsåžƒåœ¾å›žæ”¶JavaScriptä¸­çš„å†…å­˜ç®¡ç†æ˜¯è‡ªåŠ¨æ‰§è¡Œçš„ï¼Œè€Œä¸”æ˜¯ä¸å¯è§çš„ã€‚æˆ‘ä»¬åˆ›å»ºåŸºæœ¬ç±»åž‹ã€å¯¹è±¡ã€å‡½æ•°â€¦.æ‰€æœ‰è¿™äº›éƒ½éœ€è¦å†…å­˜.å½“ä¸å†éœ€è¦æŸæ ·ä¸œè¥¿æ—¶ä¼šå‘ç”Ÿä»€ä¹ˆ? JavaScript å¼•æ“Žæ˜¯å¦‚ä½•å‘çŽ°å¹¶æ¸…ç†å®ƒ? 1ï¼‰é—®ä»€ä¹ˆæ˜¯åžƒåœ¾ ä¸€èˆ¬æ¥è¯´æ²¡æœ‰è¢«å¼•ç”¨çš„å¯¹è±¡å°±æ˜¯åžƒåœ¾ï¼Œå°±æ˜¯è¦è¢«æ¸…é™¤ï¼Œ æœ‰ä¸ªä¾‹å¤–å¦‚æžœå‡ ä¸ªå¯¹è±¡å¼•ç”¨å½¢æˆä¸€ä¸ªçŽ¯ï¼Œäº’ç›¸å¼•ç”¨ï¼Œä½†æ ¹è®¿é—®ä¸åˆ°å®ƒä»¬ï¼Œè¿™å‡ ä¸ªå¯¹è±¡ä¹Ÿæ˜¯åžƒåœ¾ï¼Œä¹Ÿè¦è¢«æ¸…é™¤ã€‚ 2ï¼‰å¦‚ä½•æ£€åžƒåœ¾ ä¸€ç§ç®—æ³•æ˜¯æ ‡è®° æ ‡è®°-æ¸…é™¤ ç®—æ³•]]></content>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[cssé—®é¢˜]]></title>
    <url>%2F2020%2F02%2F25%2F2020%2F2%E6%9C%88%2F0225%2F</url>
    <content type="text"><![CDATA[cssé—®é¢˜ç”¨çº¯cssåˆ›å»ºä¸€ä¸ªä¸‰è§’å½¢123456789101112131415&lt;head&gt; &lt;style&gt; div &#123; width: 0; height: 0; border-top: 40px solid transparent; border-left: 40px solid transparent; border-right: 40px solid transparent; border-bottom: 40px solid #ff0000; &#125; &lt;/style&gt;&lt;/head&gt;&lt;body&gt; &lt;div&gt;&lt;/div&gt;&lt;/body&gt; å¦‚ä½•ç†è§£cssçš„ç›’æ¨¡åž‹ æ ‡å‡†ç›’å­æ¨¡åž‹ï¼šå®½åº¦=å†…å®¹çš„å®½åº¦ï¼ˆcontentï¼‰+ border + paddingä½Žç‰ˆæœ¬IEç›’å­æ¨¡åž‹ï¼šå®½åº¦=å†…å®¹å®½åº¦ï¼ˆcontent+border+padding) box-sizingå±žæ€§ content-boxï¼šé»˜è®¤å€¼ã€‚è¿™æ˜¯ CSS2.1 æŒ‡å®šçš„å®½åº¦å’Œé«˜åº¦çš„è¡Œä¸ºã€‚æŒ‡å®šå…ƒç´ çš„å®½åº¦å’Œé«˜åº¦ï¼ˆæœ€å°/æœ€å¤§å±žæ€§ï¼‰é€‚ç”¨äºŽboxçš„å®½åº¦å’Œé«˜åº¦ã€‚å…ƒç´ çš„å¡«å……å’Œè¾¹æ¡†å¸ƒå±€å’Œç»˜åˆ¶æŒ‡å®šå®½åº¦å’Œé«˜åº¦é™¤å¤–ã€‚ border-boxï¼š æŒ‡å®šå®½åº¦å’Œé«˜åº¦ï¼ˆæœ€å°/æœ€å¤§å±žæ€§ï¼‰ç¡®å®šå…ƒç´ è¾¹æ¡†ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹å…ƒç´ æŒ‡å®šå®½åº¦å’Œé«˜åº¦åŒ…æ‹¬äº† padding å’Œ border ã€‚é€šè¿‡ä»Žå·²è®¾å®šçš„å®½åº¦å’Œé«˜åº¦åˆ†åˆ«å‡åŽ»è¾¹æ¡†å’Œå†…è¾¹è·æ‰èƒ½å¾—åˆ°å†…å®¹çš„å®½åº¦å’Œé«˜åº¦ã€‚ inheritï¼š æŒ‡å®š box-sizing å±žæ€§çš„å€¼ï¼Œåº”è¯¥ä»Žçˆ¶å…ƒç´ ç»§æ‰¿ æµè§ˆå™¨çš„å…¼å®¹æ€§é—®é¢˜å¤§å¤šæ•°æµè§ˆå™¨éƒ½ä¼šæŒ‰ç…§ä¸Šé¢çš„å›¾ç¤ºæ¥å‘ˆçŽ°å†…å®¹ã€‚ç„¶è€Œ IE 5 å’Œ 6 çš„å‘ˆçŽ°å´æ˜¯ä¸æ­£ç¡®çš„ã€‚æ ¹æ® W3C çš„è§„èŒƒï¼Œå…ƒç´ å†…å®¹å æ®çš„ç©ºé—´æ˜¯ç”± width å±žæ€§è®¾ç½®çš„ï¼Œè€Œå†…å®¹å‘¨å›´çš„ padding å’Œ border å€¼æ˜¯å¦å¤–è®¡ç®—çš„ã€‚ä¸å¹¸çš„æ˜¯ï¼ŒIE5.X å’Œ 6 åœ¨æ€ªå¼‚æ¨¡å¼ä¸­ä½¿ç”¨è‡ªå·±çš„éžæ ‡å‡†æ¨¡åž‹ã€‚è¿™äº›æµè§ˆå™¨çš„ width å±žæ€§ä¸æ˜¯å†…å®¹çš„å®½åº¦ï¼Œè€Œæ˜¯å†…å®¹ã€å†…è¾¹è·å’Œè¾¹æ¡†çš„å®½åº¦çš„æ€»å’Œã€‚ å¦‚ä½•æ¸…é™¤æµ®åŠ¨ï¼Ÿ clearæ¸…é™¤æµ®åŠ¨ï¼ˆæ·»åŠ ç©ºdivæ³•ï¼‰åœ¨æµ®åŠ¨å…ƒç´ ä¸‹æ–¹æ·»åŠ ç©ºdiv,å¹¶ç»™è¯¥å…ƒç´ å†™cssæ ·å¼ {clear:both;height:0;overflow:hidden;} ç»™æµ®åŠ¨å…ƒç´ çˆ¶çº§è®¾ç½®é«˜åº¦ çˆ¶çº§åŒæ—¶æµ®åŠ¨ï¼ˆéœ€è¦ç»™çˆ¶çº§åŒçº§å…ƒç´ æ·»åŠ æµ®åŠ¨ï¼‰ çˆ¶çº§è®¾ç½®æˆinline-blockï¼Œå…¶margin: 0 autoå±…ä¸­æ–¹å¼å¤±æ•ˆ ç»™çˆ¶çº§æ·»åŠ overflow:hidden æ¸…é™¤æµ®åŠ¨æ–¹æ³• ä¸‡èƒ½æ¸…é™¤æ³• afterä¼ªç±» æ¸…æµ®åŠ¨ï¼ˆçŽ°åœ¨ä¸»æµæ–¹æ³•ï¼ŒæŽ¨èä½¿ç”¨ï¼‰ 1234567891011div &#123; zoom: 1; &amp;:after &#123; content: ''; clear: both; display: block; height: 0; overflow: hidden; visibility: hidden; &#125;&#125;]]></content>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è°ˆè°ˆä½ å¯¹Reduxçš„ç†è§£]]></title>
    <url>%2F2020%2F02%2F24%2F2020%2F2%E6%9C%88%2F0224%2F</url>
    <content type="text"><![CDATA[è°ˆè°ˆä½ å¯¹Reduxçš„ç†è§£ä½¿ç”¨Reduxåº”è¯¥éµå¾ªçš„åŽŸåˆ™ï¼š æ•´ä¸ªåº”ç”¨å…±äº«çš„stateåº”è¯¥å­˜å‚¨åœ¨storeçš„çŠ¶æ€æ ‘ä¸­ï¼Œstoreæ˜¯å”¯ä¸€çš„ stateä¸èƒ½ç›´æŽ¥ä¿®æ”¹ï¼Œåªèƒ½é€šè¿‡actionè¡¨è¾¾ä¿®æ”¹çš„æ„å›¾ï¼Œè°ƒç”¨dispatch()ä¿®æ”¹state stateçš„ä¿®æ”¹è§„åˆ™reducerså¿…é¡»æ˜¯ä¸€ä¸ªçº¯å‡½æ•°ï¼Œä¸èƒ½æœ‰å‰¯ä½œç”¨ Reduxæä¾›çš„API createStorecreateStoreçš„ä½œç”¨å°±æ˜¯åˆ›å»ºä¸€ä¸ªReduxï¼Œstoreç”¨æ¥å­˜æ”¾åº”ç”¨ä¸­æ‰€æœ‰çš„statecreateStore(reducer, [perloadState], [enhancer])createStoreæ–¹æ³•æŽ¥å—3ä¸ªå‚æ•°ï¼ŒåŽé¢ä¸¤ä¸ªæ˜¯å¯é€‰å‚æ•°reducer: å‚æ•°çš„ç±»åž‹å¿…é¡»æ˜¯functionperloadState: è¿™ä¸ªå‚æ•°ä»£è¡¨åˆå§‹åŒ–çš„state(initialState), å¯ä»¥æ˜¯ä»»æ„ç±»åž‹çš„å‚æ•°enhancer: è¿™ä¸ªå‚æ•°ä»£è¡¨æ·»åŠ çš„å„ç§ä¸­é—´ä»¶ï¼Œå‚æ•°çš„ç±»åž‹å¿…é¡»æ˜¯function combineReducerscombineReducersä¸»è¦æ˜¯æŠŠå¤šä¸ªreduceråˆå¹¶æˆä¸€ä¸ªï¼Œå¹¶ä¸”è¿”å›žä¸€ä¸ªæ–°çš„reducerå‡½æ•°ï¼Œè¯¥å‡½æ•°æŽ¥æ”¶çš„å‚æ•°ä¹Ÿæ˜¯ä¸¤ä¸ªstateå’Œaction composeä¸»è¦æ˜¯åœ¨ä¸­é—´ä»¶æ—¶å€™ä½¿ç”¨ï¼Œåˆæˆå‡½æ•°compose(applyMiddleware(thunk), window.devToolsExtension ? window.devToolsExtension() : undefined) applyMiddleware bindActionCreatorbindActionCreatorçš„ä¸»è¦ä½œç”¨å°±æ˜¯å°†acitonä¸Ždispatchå‡½æ•°ç»‘å®šï¼Œç”Ÿæˆç›´æŽ¥å¯ä»¥å‡ºå‘actionçš„å‡½æ•° ä»Žè¾“å…¥URLåˆ°é¡µé¢åŠ è½½çš„å…¨è¿‡ç¨‹123456781. é¦–å…ˆï¼Œåœ¨æµè§ˆå™¨åœ°å€ä¸­è¾“å…¥url2. æµè§ˆå™¨å…ˆæŸ¥çœ‹**æµè§ˆå™¨ç¼“å­˜**-ç³»ç»Ÿç¼“å­˜-è·¯ç”±å™¨ç¼“å­˜ï¼Œå¦‚æžœç¼“å­˜ä¸­æœ‰ï¼Œä¼šç›´æŽ¥åœ¨å±å¹•ä¸­æ˜¾ç¤ºé¡µé¢å†…å®¹ã€‚è‹¥æ²¡æœ‰ï¼Œåˆ™è·³åˆ°ç¬¬ä¸‰æ­¥æ“ä½œ3. æµè§ˆå™¨å‘DNSï¼ˆDomain Name Systemï¼‰æœåŠ¡å™¨è¯·æ±‚è§£æžè¯¥URLä¸­çš„åŸŸåå¯¹åº”çš„IPåœ°å€4. è§£æžå‡ºIPåœ°å€åŽï¼Œæ ¹æ®è¯¥IPåœ°å€å’Œé»˜è®¤ç«¯å£80ï¼Œå’ŒæœåŠ¡å™¨å»ºç«‹TCPè¿žæŽ¥5. æµè§ˆå™¨å‘å‡ºè¯»å–æ–‡ä»¶ï¼ˆURLä¸­åŸŸååŽé¢éƒ¨åˆ†å¯¹åº”çš„æ–‡ä»¶ï¼‰çš„HTTPè¯·æ±‚ï¼Œè¯¥è¯·æ±‚æŠ¥æ–‡ä½œä¸ºTCPä¸‰æ¬¡æ¡æ‰‹çš„ç¬¬ä¸‰ä¸ªæŠ¥æ–‡çš„æ•°æ®å‘é€ç»™æœåŠ¡å™¨6. æœåŠ¡å™¨å¯¹æµè§ˆå™¨è¯·æ±‚åšå‡ºå“åº”ï¼Œå¹¶æŠŠå¯¹åº”çš„htmlæ–‡æœ¬å‘é€ç»™æµè§ˆå™¨7. é‡Šæ”¾TCPè¿žæŽ¥8. æµè§ˆå™¨å°†è¯¥htmlæ–‡æœ¬å¹¶æ˜¾ç¤ºå†…å®¹ é‡ç»˜ï¼ˆRepaintï¼‰ &amp; å›žæµï¼ˆé‡æŽ’Reflowï¼‰ é‡ç»˜(repaint)ï¼šå½“æˆ‘ä»¬å¯¹DOMçš„ä¿®æ”¹å¯¼è‡´çš„æ ·å¼å˜åŒ–ï¼Œä½†æœªå½±å“å‡ ä½•å±žæ€§æ—¶ï¼Œæµè§ˆå™¨ä¸éœ€è¦é‡æ–°è®¡ç®—å…ƒç´ çš„å‡ ä½•å±žæ€§ï¼Œç›´æŽ¥å¯ä»¥ä¸ºè¯¥å…ƒç´ ç»˜åˆ¶æ–°çš„æ ·å¼ï¼Œè·³è¿‡äº†å›žæµçŽ¯èŠ‚ï¼Œè¿™ä¸ªè¿‡ç¨‹å°±å«é‡ç»˜ã€‚ å›žæµï¼ˆé‡æŽ’ reflowï¼‰ï¼šå¯¹DOMæ ‘è¿›è¡Œæ¸²æŸ“ï¼Œåªè¦ä¿®æ”¹DOMæˆ–ä¿®æ”¹å…ƒç´ çš„å½¢çŠ¶å¤§å°ï¼Œå°±ä¼šè§¦å‘reflowï¼Œreflowçš„æ—¶å€™ï¼Œæµè§ˆå™¨ä¼šä½¿å·²æ¸²æŸ“å¥½å—åˆ°å½±å“çš„éƒ¨åˆ†å¤±æ•ˆï¼Œå¹¶é‡æ–°æž„é€ è¿™éƒ¨åˆ†ï¼Œå®ŒæˆreflowåŽï¼Œæµè§ˆå™¨ä¼šé‡æ–°ç»˜åˆ¶å—å½±å“çš„éƒ¨åˆ†åˆ°å±å¹•ä¸­ å›žæµå¿…å®šä¼šå‘ç”Ÿé‡ç»˜ï¼Œé‡ç»˜ä¸ä¸€å®šå‘ç”Ÿå›žæµ 12345678910// è§¦å‘Reflowå¢žåŠ ã€åˆ é™¤ã€ä¿®æ”¹DOMèŠ‚ç‚¹æ—¶ï¼Œä¼šå¯¼è‡´Reflowæˆ–Repaintç§»åŠ¨DOMçš„ä½ç½®ï¼Œæˆ–æ˜¯æžä¸ªåŠ¨ç”»çš„æ—¶å€™ä¿®æ”¹CSSæ ·å¼çš„æ—¶å€™ï¼ˆå®½ã€é«˜ã€å†…å¤–è¾¹è·ã€è¾¹æ¡†ç­‰ï¼‰Resizeçª—å£çš„æ—¶å€™ï¼ˆç§»åŠ¨ç«¯æ²¡æœ‰è¿™ä¸ªé—®é¢˜ï¼‰ï¼Œæˆ–æ˜¯æ»šåŠ¨çš„æ—¶å€™æ”¹å˜å…ƒç´ å†…å®¹ï¼ˆæ–‡æœ¬æˆ–å›¾ç‰‡ç­‰ï¼‰ä¿®æ”¹ç½‘é¡µçš„é»˜è®¤å­—ä½“æ—¶// è§¦å‘RepaintDOMæ”¹åŠ¨CSSæ”¹åŠ¨ å¦‚ä½•å‡å°‘å›žæµã€é‡ç»˜ï¼Ÿå‡å°‘å›žæµã€é‡ç»˜å°±æ˜¯å‡å°‘å¯¹DOMçš„æ“ä½œ 1.ç›´æŽ¥æ”¹å˜classNameï¼Œå¦‚æžœåŠ¨æ€æ”¹å˜æ ·å¼ï¼Œåˆ™ä½¿ç”¨cssTextï¼ˆå‡å°‘è®¾ç½®å¤šé¡¹å†…è”æ ·å¼ï¼‰ 2.è®©è¦æ“ä½œçš„å…ƒç´ è¿›è¡Œâ€œç¦»çº¿å¤„ç†â€ï¼Œå¤„ç†å®ŒåŽä¸€èµ·æ›´æ–° å½“ä½¿ç”¨DocumentFragmentè¿›è¡Œç¼“å­˜æ“ä½œï¼Œå¼•å‘ä¸€æ¬¡å›žæµå’Œé‡ç»˜ ä½¿ç”¨display:none æŠ€æœ¯ï¼Œåªå¼•å‘ä¸¤æ¬¡å›žæµå’Œé‡ç»˜ ä½¿ç”¨cloneNode(true or false)å’ŒreplaceChildæŠ€æœ¯ï¼Œå¼•å‘ä¸€æ¬¡å›žæµå’Œé‡ç»˜ 3.ä¸è¦ç»å¸¸è®¿é—®ä¼šå¼•èµ·æµè§ˆå™¨flushé˜Ÿåˆ—çš„å±žæ€§ï¼Œå¦‚æžœä½ ç¡®å®žè¦è®¿é—®ï¼Œåˆ©ç”¨ç¼“å­˜ 4.è®©å…ƒç´ è„±ç¦»åŠ¨ç”»æµï¼Œå‡å°‘render æ ‘çš„è§„æ¨¡ 5.ç‰ºç‰²å¹³æ»‘åº¦æ¢å–é€Ÿåº¦ 6.é¿å…ä½¿ç”¨tableå¸ƒå±€ 7.IEä¸­é¿å…ä½¿ç”¨javascriptè¡¨è¾¾å¼ è·¨åŸŸé€šä¿¡çš„å‡ ç§æ–¹å¼ JSONPï¼ˆåªæ”¯æŒgetè¯·æ±‚ï¼‰ window + hash window + domain window + name postMessage WebSocket CORSï¼ˆCross-origin resource sharingï¼‰è·¨åŸŸèµ„æºå…±äº«ï¼ˆæ‰€æœ‰çš„HTTPè¯·æ±‚ï¼‰ nginxåå‘ä»£ç† http-proxyæœåŠ¡ç«¯ä»£ç†è¯·æ±‚ å‰ç«¯é”™è¯¯ç±» å³æ—¶è¿è¡Œé”™è¯¯ï¼šä»£ç é”™è¯¯ï¼›æ•èŽ·æ–¹å¼ï¼štryâ€¦catchâ€¦ã€window.onerror èµ„æºåŠ è½½é”™è¯¯ï¼›object.onerrorï¼ˆä¸ä¼šå†’æ³¡ ï¼‰ã€performance.getEntriesã€Erroräº‹ä»¶æ•èŽ· æµ…æ‹·è´ å¾ªçŽ¯éåŽ† 123456789101112131415161718const arr1 = [1, 2, ['ming', 'abc'], 5];const shallowClone = (arr) =&gt; &#123; const dst = []; for (let prop in arr) &#123; if (arr.hasOwnProperty(prop)) &#123; dst[prop] = arr[prop]; &#125; &#125; return dst;&#125;const arr2 = shallowClone(arr1);arr2[2].push('wuhan');arr2[3] = 5;console.log(arr1); [1, 2, ['ming', 'abc', 'wuhan'], 5]console.log(arr2); [1, 2, ['ming', 'abc', 'wuhan'], 5] object.assign() Array.prototype.concat() Array.prototype.slice() objå±•å¼€è¿ç®—ç¬¦ æ·±æ‹·è´ æ‰‹åŠ¨é€’å½’ 1234567891011121314151617181920212223242526272829303132333435363738function deepClone (sourceObj, targetObj) &#123; let cloneObj = targetObj || &#123;&#125; if(!sourceObj || typeof sourceObj !== "object" || sourceObj.length === undefined)&#123; return sourceObj &#125; if(sourceObj instanceof Array)&#123; cloneObj = sourceObj.concat() &#125; else &#123; for(let i in sourceObj)&#123; if (typeof sourceObj[i] === 'object') &#123; cloneObj[i] = deepClone(sourceObj[i], &#123;&#125;) &#125; else &#123; cloneObj[i] = sourceObj[i] &#125; &#125; &#125; return cloneObj&#125;let sourceObj = &#123; a: 1, b: &#123; a: 1 &#125;, c: &#123; a: 1, b: &#123; a: 1 &#125; &#125;, d: function() &#123; console.log('hello world') &#125;, e: [1, 2, 3]&#125;let targetObj = deepClone(sourceObj, &#123;&#125;)targetObj.c.b.a = 9console.log(sourceObj)console.log(targetObj) JSON.parse(JSON.stringify()) 1234561.å¦‚æžœjsoné‡Œé¢æœ‰æ—¶é—´å¯¹è±¡ï¼Œåˆ™åºåˆ—åŒ–ç»“æžœï¼šæ—¶é—´å¯¹è±¡=&gt;å­—ç¬¦ä¸²çš„å½¢å¼ï¼›2.å¦‚æžœjsoné‡Œæœ‰RegExpã€Errorå¯¹è±¡ï¼Œåˆ™åºåˆ—åŒ–çš„ç»“æžœå°†åªå¾—åˆ°ç©ºå¯¹è±¡ RegExpã€Error =&gt; &#123;&#125;ï¼›3.å¦‚æžœjsoné‡Œæœ‰ function,undefinedï¼Œåˆ™åºåˆ—åŒ–çš„ç»“æžœä¼šæŠŠ function,undefined ä¸¢å¤±ï¼›4.å¦‚æžœjsoné‡Œæœ‰NaNã€Infinityå’Œ-Infinityï¼Œåˆ™åºåˆ—åŒ–çš„ç»“æžœä¼šå˜æˆnullï¼›5.å¦‚æžœjsoné‡Œæœ‰å¯¹è±¡æ˜¯ç”±æž„é€ å‡½æ•°ç”Ÿæˆçš„ï¼Œåˆ™åºåˆ—åŒ–çš„ç»“æžœä¼šä¸¢å¼ƒå¯¹è±¡çš„ constructorï¼›6.å¦‚æžœå¯¹è±¡ä¸­å­˜åœ¨å¾ªçŽ¯å¼•ç”¨çš„æƒ…å†µä¹Ÿæ— æ³•å®žçŽ°æ·±æ‹·è´ lodashå‡½æ•°åº“ 123456789101112131415161718var _= require('lodash');const obj1 = [ 1, 'Hello!', &#123; name:'ming1' &#125;, [ &#123; name:'meng1', &#125; ],]const obj2 = _.cloneDeep(obj1);obj2[0] = 2;obj2[1] = 'Hi!';obj2[2].name = 'ming2'obj2[3][0].name = 'meng2';console.log(obj1);console.log(obj2);]]></content>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Symbolçš„åº”ç”¨åœºæ™¯]]></title>
    <url>%2F2020%2F02%2F20%2F2020%2F2%E6%9C%88%2F0220%2F</url>
    <content type="text"><![CDATA[Symbolçš„åº”ç”¨åœºæ™¯åº”ç”¨åœºæ™¯1ï¼šä½¿ç”¨Symbolæ¥ä½œä¸ºå¯¹è±¡å±žæ€§åï¼ˆkeyï¼‰12345678910111213let obj = &#123; [Symbol()]: 'test', a: 1, b: 2,&#125;;Object.keys(obj); // ['a', 'b']for (let p in obj) &#123; console.log(p); // åˆ†åˆ«è¾“å‡º: a å’Œ b&#125;Object.getOwnPropertyNames(obj); // ['a', 'b'] ç”±ä¸Šä»£ç å¯çŸ¥ï¼ŒSymbolç±»åž‹çš„keyæ˜¯ä¸èƒ½é€šè¿‡Object.keys()æˆ–è€…forâ€¦inæ¥æžšä¸¾çš„ï¼Œå®ƒæœªè¢«åŒ…å«å¯¹è±¡è‡ªèº«çš„å±žæ€§åé›†åˆï¼ˆproperty namesï¼‰ä¹‹ä¸­ã€‚æ‰€ä»¥ï¼Œåˆ©ç”¨è¯¥ç‰¹æ€§ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠä¸€äº›ä¸éœ€è¦å¯¹å¤–æ“ä½œå’Œè®¿é—®çš„å±žæ€§ä½¿ç”¨Symbolæ¥å®šä¹‰ã€‚ åº”ç”¨åœºæ™¯2ï¼šä½¿ç”¨Symbolæ¥æ›¿ä»£å¸¸é‡12345678910111213141516171819const TYPE_AUDIO = 'AUDIO'const TYPE_VIDEO = 'VIDEO'const TYPE_IMAGE = 'IMAGE'function handleFileResource(resource) &#123; switch(resource.type) &#123; case TYPE_AUDIO: playAudio(resource) break case TYPE_VIDEO: playVideo(resource) break case TYPE_IMAGE: previewImage(resource) break default: throw new Error('Unknown type of resource') &#125;&#125; å¦‚ä¸Šé¢çš„ä»£ç ä¸­é‚£æ ·ï¼Œæˆ‘ä»¬ç»å¸¸å®šä¹‰ä¸€ç»„å¸¸é‡æ¥ä»£è¡¨ä¸€ç§ä¸šåŠ¡é€»è¾‘ä¸‹çš„å‡ ä¸ªä¸åŒç±»åž‹ï¼Œæˆ‘ä»¬é€šå¸¸å¸Œæœ›è¿™å‡ ä¸ªå¸¸é‡ä¹‹é—´æ˜¯å”¯ä¸€çš„å…³ç³»ï¼Œå¸¸é‡å°‘çš„æ—¶å€™è¿˜ç®—å¥½ï¼Œä½†æ˜¯å¸¸é‡ä¸€å¤šï¼Œä½ å¯èƒ½è¿˜å¾—èŠ±ç‚¹è„‘å­å¥½å¥½ä¸ºä»–ä»¬å–ä¸ªå¥½ç‚¹çš„åå­—ã€‚ çŽ°åœ¨æœ‰äº†Symbolï¼Œæˆ‘ä»¬å¤§å¯ä¸å¿…è¿™ä¹ˆéº»çƒ¦äº†ï¼š 123const TYPE_AUDIO = Symbol()const TYPE_VIDEO = Symbol()const TYPE_IMAGE = Symbol() åº”ç”¨åœºæ™¯3ï¼šä½¿ç”¨Symbolå®šä¹‰ç±»çš„ç§æœ‰å±žæ€§/æ–¹æ³•ä½¿ç”¨çš„å°‘ å½»åº•æžæ‡‚æµè§ˆå™¨Event-loop1. é¢„å¤‡çŸ¥è¯†1JavaScriptçš„è¿è¡Œæœºåˆ¶ (1) æ‰€æœ‰åŒæ­¥ä»»åŠ¡éƒ½åœ¨ä¸»çº¿ç¨‹ä¸Šæ‰§è¡Œï¼Œå½¢æˆä¸€ä¸ªæ‰§è¡Œæ ˆï¼ˆexecution context stackï¼‰ã€‚(2) ä¸»çº¿ç¨‹ä¹‹å¤–ï¼Œè¿˜å­˜åœ¨â€ä»»åŠ¡é˜Ÿåˆ—â€ï¼ˆtask queueï¼‰ã€‚åªè¦å¼‚æ­¥ä»»åŠ¡æœ‰äº†è¿è¡Œç»“æžœï¼Œå°±åœ¨â€ä»»åŠ¡é˜Ÿåˆ—â€ä¹‹ä¸­æ”¾ç½®ä¸€ä¸ªäº‹ä»¶ã€‚(3) ä¸€æ—¦â€æ‰§è¡Œæ ˆâ€ä¸­çš„æ‰€æœ‰åŒæ­¥ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼Œç³»ç»Ÿå°±ä¼šè¯»å–â€ä»»åŠ¡é˜Ÿåˆ—â€ï¼Œçœ‹çœ‹é‡Œé¢æœ‰å“ªäº›äº‹ä»¶ã€‚é‚£äº›å¯¹åº”çš„å¼‚æ­¥ä»»åŠ¡ï¼ŒäºŽæ˜¯ç»“æŸç­‰å¾…çŠ¶æ€ï¼Œè¿›å…¥æ‰§è¡Œæ ˆï¼Œå¼€å§‹æ‰§è¡Œã€‚(4) ä¸»çº¿ç¨‹ä¸æ–­é‡å¤ä¸Šé¢çš„ç¬¬ä¸‰æ­¥ æ¦‚å†µå°±æ˜¯ï¼šè°ƒç”¨æ ˆä¸­çš„åŒæ­¥ä»»åŠ¡éƒ½æ‰§è¡Œå®Œæ¯•ï¼Œæ ˆå†…è¢«æ¸…ç©ºäº†ï¼Œå°±ä»£è¡¨ä¸»çº¿ç¨‹ç©ºé—²äº†ï¼Œè¿™ä¸ªæ—¶å€™å°±ä¼šåŽ»ä»»åŠ¡é˜Ÿåˆ—ä¸­æŒ‰ç…§é¡ºåºè¯»å–ä¸€ä¸ªä»»åŠ¡æ”¾å…¥åˆ°æ ˆä¸­æ‰§è¡Œã€‚æ¯æ¬¡æ ˆå†…è¢«æ¸…ç©ºï¼Œéƒ½ä¼šåŽ»è¯»å–ä»»åŠ¡é˜Ÿåˆ—æœ‰æ²¡æœ‰ä»»åŠ¡ï¼Œæœ‰å°±è¯»å–æ‰§è¡Œï¼Œä¸€ç›´å¾ªçŽ¯è¯»å–-æ‰§è¡Œçš„æ“ä½œã€‚ 1JavaScriptä¸­æœ‰ä¸¤ç§å¼‚æ­¥ä»»åŠ¡ï¼š å®ä»»åŠ¡ï¼šscriptï¼ˆæ•´ä½“ä»£ç ï¼‰ï¼ŒsetTimeoutã€setIntervalã€setImmediateã€I/Oã€UI rendering å¾®ä»»åŠ¡ï¼šprocess.nextTickï¼ˆNodejsï¼‰ã€Promiseã€Object.observeã€MutationObServer 2. äº‹ä»¶å¾ªçŽ¯ï¼ˆevent-loopï¼‰æ˜¯ä»€ä¹ˆï¼Ÿä¸»çº¿ç¨‹ä»Žâ€ä»»åŠ¡é˜Ÿåˆ—â€ä¸­è¯»å–æ‰§è¡Œäº‹ä»¶ï¼Œè¿™ä¸ªè¿‡ç¨‹æ˜¯å¾ªçŽ¯ä¸æ–­çš„ï¼Œè¿™ä¸ªæœºåˆ¶è¢«ç§°ä¸ºäº‹ä»¶å¾ªçŽ¯ã€‚æ­¤æœºåˆ¶å…·ä½“å¦‚ä¸‹ï¼šä¸»çº¿ç¨‹ä¼šä¸æ–­ä»Žä»»åŠ¡é˜Ÿåˆ—ä¸­æŒ‰é¡ºåºè¯»å–ä»»åŠ¡æ‰§è¡Œï¼Œæ¯æ‰§è¡Œä¸€ä¸ªä»»åŠ¡éƒ½ä¼šæ£€æŸ¥microtaské˜Ÿåˆ—æ˜¯å¦ä¸ºç©ºï¼ˆæ‰§è¡Œå®Œä¸€ä¸ªä»»åŠ¡çš„å…·ä½“æ ‡å¿—æ˜¯å‡½æ•°æ‰§è¡Œæ ˆä¸ºç©ºï¼‰ï¼Œå¦‚æžœä¸ä¸ºç©ºåˆ™ä¼šä¸€æ¬¡æ€§æ‰§è¡Œå®Œæ‰€æœ‰microtaskã€‚ç„¶åŽè¿›å…¥ä¸‹ä¸€ä¸ªå¾ªçŽ¯åŽ»ä»»åŠ¡é˜Ÿåˆ—ä¸­å–ä¸‹ä¸€ä¸ªä»»åŠ¡æ‰§è¡Œã€‚ å½“å‰æ‰§è¡Œæ ˆæ‰§è¡Œå®Œæ¯•æ—¶ä¼šç«‹åˆ»å…ˆå¤„ç†æ‰€æœ‰å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­çš„äº‹ä»¶, ç„¶åŽå†åŽ»å®ä»»åŠ¡é˜Ÿåˆ—ä¸­å–å‡ºä¸€ä¸ªäº‹ä»¶ã€‚åŒä¸€æ¬¡äº‹ä»¶å¾ªçŽ¯ä¸­, å¾®ä»»åŠ¡æ°¸è¿œåœ¨å®ä»»åŠ¡ä¹‹å‰æ‰§è¡Œã€‚ 3. ä¸ºä»€ä¹ˆä¼šéœ€è¦event-loop?å› ä¸º JavaScript æ˜¯å•çº¿ç¨‹çš„ã€‚å•çº¿ç¨‹å°±æ„å‘³ç€ï¼Œæ‰€æœ‰ä»»åŠ¡éœ€è¦æŽ’é˜Ÿï¼Œå‰ä¸€ä¸ªä»»åŠ¡ç»“æŸï¼Œæ‰ä¼šæ‰§è¡ŒåŽä¸€ä¸ªä»»åŠ¡ã€‚å¦‚æžœå‰ä¸€ä¸ªä»»åŠ¡è€—æ—¶å¾ˆé•¿ï¼ŒåŽä¸€ä¸ªä»»åŠ¡å°±ä¸å¾—ä¸ä¸€ç›´ç­‰ç€ã€‚ä¸ºäº†åè°ƒäº‹ä»¶ï¼ˆeventï¼‰ï¼Œç”¨æˆ·äº¤äº’ï¼ˆuser interactionï¼‰ï¼Œè„šæœ¬ï¼ˆscriptï¼‰ï¼Œæ¸²æŸ“ï¼ˆrenderingï¼‰ï¼Œç½‘ç»œï¼ˆnetworkingï¼‰ç­‰ï¼Œç”¨æˆ·ä»£ç†ï¼ˆuser agentï¼‰å¿…é¡»ä½¿ç”¨äº‹ä»¶å¾ªçŽ¯ï¼ˆevent loopsï¼‰ã€‚ nodeä¸­çš„event-loopä¸Žæµè§ˆå™¨ä¹‹é—´çš„å·®å¼‚æµè§ˆå™¨å’Œ Node çŽ¯å¢ƒä¸‹ï¼Œmicrotask ä»»åŠ¡é˜Ÿåˆ—çš„æ‰§è¡Œæ—¶æœºä¸åŒ Node ç«¯ï¼Œmicrotask åœ¨äº‹ä»¶å¾ªçŽ¯çš„å„ä¸ªé˜¶æ®µä¹‹é—´æ‰§è¡Œ æµè§ˆå™¨ç«¯ï¼Œmicrotask åœ¨äº‹ä»¶å¾ªçŽ¯çš„ macrotask æ‰§è¡Œå®Œä¹‹åŽæ‰§è¡Œ 123456789101112131415161718192021console.log('start')setTimeout(() =&gt; &#123; console.log('timer1') Promise.resolve().then(function() &#123; console.log('promise1') &#125;)&#125;, 0)setTimeout(() =&gt; &#123; console.log('timer2') Promise.resolve().then(function() &#123; console.log('promise2') &#125;)&#125;, 0)Promise.resolve().then(function() &#123; console.log('promise3')&#125;)console.log('end')// æµè§ˆå™¨ start=&gt;end=&gt;promise3=&gt;timer1=&gt;promise1=&gt;timer2=&gt;promise2// node start=&gt;end=&gt;promise3=&gt;timer1=&gt;timer2=&gt;promise1=&gt;promise2]]></content>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iframeçš„ä¼˜ç¼ºç‚¹]]></title>
    <url>%2F2019%2F10%2F09%2F2019%2F%E6%B5%85%E8%B0%88iframe%2F</url>
    <content type="text"><![CDATA[iframeçš„ä¼˜ç¼ºç‚¹iframeçš„ä¼˜ç‚¹ï¼š iframeèƒ½å¤ŸåŽŸå°ä¸åŠ¨çš„æŠŠåµŒå…¥çš„ç½‘é¡µå±•çŽ°å‡ºæ¥ã€‚ å¦‚æžœæœ‰å¤šä¸ªç½‘é¡µå¼•ç”¨iframeï¼Œé‚£ä¹ˆä½ åªéœ€è¦ä¿®æ”¹iframeçš„å†…å®¹ï¼Œå°±å¯ä»¥å®žçŽ°è°ƒç”¨çš„æ¯ä¸€ä¸ªé¡µé¢å†…å®¹çš„æ›´æ”¹ï¼Œæ–¹ä¾¿å¿«æ·ã€‚ ç½‘é¡µå¦‚æžœä¸ºäº†ç»Ÿä¸€é£Žæ ¼ï¼Œå¤´éƒ¨å’Œç‰ˆæœ¬éƒ½æ˜¯ä¸€æ ·çš„ï¼Œå°±å¯ä»¥å†™æˆä¸€ä¸ªé¡µé¢ï¼Œç”¨iframeæ¥åµŒå¥—ï¼Œå¯ä»¥å¢žåŠ ä»£ç çš„å¯é‡ç”¨ã€‚ å¦‚æžœé‡åˆ°åŠ è½½ç¼“æ…¢çš„ç¬¬ä¸‰æ–¹å†…å®¹å¦‚å›¾æ ‡å’Œå¹¿å‘Šï¼Œè¿™äº›é—®é¢˜å¯ä»¥ç”±iframeæ¥è§£å†³ã€‚ iframeçš„ç¼ºç‚¹ï¼š ä¼šäº§ç”Ÿå¾ˆå¤šé¡µé¢ï¼Œä¸å®¹æ˜“ç®¡ç†ã€‚ iframeæ¡†æž¶ç»“æž„æœ‰æ—¶ä¼šè®©äººæ„Ÿåˆ°è¿·æƒ‘ï¼Œå¦‚æžœæ¡†æž¶ä¸ªæ•°å¤šçš„è¯ï¼Œå¯èƒ½ä¼šå‡ºçŽ°ä¸Šä¸‹ã€å·¦å³æ»šåŠ¨æ¡ï¼Œä¼šåˆ†æ•£è®¿é—®è€…çš„æ³¨æ„åŠ›ï¼Œç”¨æˆ·ä½“éªŒåº¦å·®ã€‚ ä»£ç å¤æ‚ï¼Œæ— æ³•è¢«ä¸€äº›æœç´¢å¼•æ“Žç´¢å¼•åˆ°ï¼Œè¿™ä¸€ç‚¹å¾ˆå…³é”®ï¼ŒçŽ°åœ¨çš„æœç´¢å¼•æ“Žçˆ¬è™«è¿˜ä¸èƒ½å¾ˆå¥½çš„å¤„ç†iframeä¸­çš„å†…å®¹ï¼Œæ‰€ä»¥ä½¿ç”¨iframeä¼šä¸åˆ©äºŽæœç´¢å¼•æ“Žä¼˜åŒ–ã€‚ å¾ˆå¤šçš„ç§»åŠ¨è®¾å¤‡ï¼ˆPDA æ‰‹æœºï¼‰æ— æ³•å®Œå…¨æ˜¾ç¤ºæ¡†æž¶ï¼Œè®¾å¤‡å…¼å®¹æ€§å·®ã€‚ iframeæ¡†æž¶é¡µé¢ä¼šå¢žåŠ æœåŠ¡å™¨çš„httpè¯·æ±‚ï¼Œå¯¹äºŽå¤§åž‹ç½‘ç«™ä¸æ˜¯å¯å–çš„ã€‚ iframeè¿ç§»é—®é¢˜ä»¥åŠè§£å†³æ–¹æ¡ˆ import React, { propTypes } from â€˜reactâ€™; error: PropTypes is undefined; å‡ºçŽ°åŽŸå› : Reactåœ¨æ–°ç‰ˆæœ¬ä¸­åºŸå¼ƒäº†é›†æˆç±»ä¼¼propTypesè¿™ç§ç¬¬ä¸‰æ–¹åº“æ–¹æ¡ˆã€‚ è§£å†³æ–¹æ¡ˆ: æ–°ä»“åº“ä½¿ç”¨çš„reactç‰ˆæœ¬è¾ƒé«˜ï¼Œä»¥ä¸Šæ–¹å¼å·²è¢«åºŸå¼ƒï¼Œåº”ä½¿ç”¨ 1import PropTypes from 'prop-types'; import â€˜./style.lessâ€™; error: æ ·å¼å¤±æ•ˆé—®é¢˜ã€‚ å‡ºçŽ°åŽŸå› : æ–°é¡¹ç›®ä¸­å¼€å¯äº†css-moduleï¼Œéœ€è¦é€šè¿‡é…ç½®:globalæ¥å£°æ˜Žä¸€ä¸ªå…¨å±€classï¼Œä½¿å…¶åœ¨å…¨å±€èµ·ä½œç”¨ã€‚ è§£å†³æ–¹æ¡ˆ1: 1234567### style.less.content &#123; :global &#123; .items &#123;&#125; &#125;&#125; 12345import styles from './style.less';&lt;div className=&#123;styles.content&#125;&gt; &lt;div className="items"&gt;&lt;/div&gt;&lt;/div&gt; è§£å†³æ–¹æ¡ˆ2: 1234567# style.less:global &#123; .content &#123; .items &#123;&#125; &#125;&#125; 1234import './style.less';&lt;div className="content"&gt; &lt;div className="items"&gt;&lt;/div&gt;&lt;/div&gt; æŽ¨èä½¿ç”¨æ–¹æ¡ˆ1ï¼Œå¯ä»¥åˆ©ç”¨css-moduleçš„å‘½åè§„åˆ™å‡å°‘é¡¹ç›®ä¸­æ ·å¼çš„å†²çªé—®é¢˜ã€‚æ–¹æ¡ˆ2æ”¹åŠ¨å°ä½†æ˜¯å¤ªæš´åŠ›ï¼Œéžå¸¸å¯èƒ½äº§ç”Ÿæ ·å¼å†²çªé—®é¢˜ã€‚ commå’Œcomponentsä¸­ç»„ä»¶å‡ºçŽ°ä¸å¯ç”¨æƒ…å†µã€‚ error: åŠŸèƒ½ä¸å¯ç”¨æƒ…å†µã€‚ è§£å†³æ–¹æ¡ˆ: å»ºè®®ç›´æŽ¥ä½¿ç”¨antdæ›¿æ¢ï¼Œéœ€è¦èŠ±ä¸Šä¸€ç‚¹æ—¶é—´å¯¹åº”antd apiåšä¸€å®šä»£ç é‡æž„ã€‚(!è¿™å—éœ€è¦ä»”ç»†æ•ˆéªŒåŠŸèƒ½æ˜¯å¦æ­£å¸¸) ec_feä¸­ä½¿ç”¨äº†Component.contextTypesã€‚ ä¾‹å¦‚ï¼š 1234Manage.contextTypes = &#123; history: PropTypes.object.isRequired, store: PropTypes.object.isRequired&#125;; Warning: Failed context type: The context history is marked as required in Connect(ContractReview), but its value is undefined. è§£å†³æ–¹æ¡ˆï¼šæ‹†åˆ†å‡ºåŽ»çš„ä»“åº“ï¼Œreact-routerç‰ˆæœ¬ä½¿ç”¨çš„æ˜¯4.xï¼Œå·²ç»ä¸éœ€è¦åƒè€ç‰ˆæœ¬ä¸€æ ·ä¸€å±‚å±‚ä¼ é€’historyæˆ–è€…ç»‘å®šåœ¨Contextä¸Šå…±äº«çš„æ–¹å¼ã€‚ ec_feä¸­ä½¿ç”¨äº†this.props.routerç­‰è·¯ç”±api 123456this.props.router.replace(&#123; pathname: `/admin/web/packageconfig/function.html`, query: &#123; id: moduleList[0].f_id, &#125;,&#125;); é”™è¯¯ï¼šindex.jsx:59 Uncaught TypeError: Cannot read property â€˜replaceâ€™ of undefined è§£å†³æ–¹æ¡ˆï¼šæ‹†åˆ†å‡ºåŽ»çš„ä»“åº“ï¼Œreact-routerç‰ˆæœ¬ä½¿ç”¨çš„æ˜¯4.xï¼Œè¯·ä½¿ç”¨react-router-domæä¾›çš„apiä¿®æ”¹ã€‚ 1234this.props.history.replace(&#123; pathname: `/packageconfig/funModule`, search: `id=$&#123;moduleList[0].f_id&#125;`,&#125;); å‚è€ƒèµ„æ–™ æµ…è°ˆiframe react-router-dom]]></content>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[NextTick åŽŸç†åˆ†æž]]></title>
    <url>%2F2019%2F06%2F13%2F2019%2FJune%2FNextTick%2FREADME%2F</url>
    <content type="text"><![CDATA[NextTick åŽŸç†åˆ†æžnextTickå¯ä»¥è®©æˆ‘ä»¬åœ¨ä¸‹æ¬¡DOMæ›´æ–°å¾ªçŽ¯ç»“æŸä¹‹åŽæ‰§è¡Œå»¶è¿Ÿå›žè°ƒï¼Œç”¨äºŽèŽ·å¾—æ›´æ–°åŽçš„DOMã€‚ åœ¨Vue2.4ä¹‹å‰éƒ½æ˜¯ä½¿ç”¨çš„microtasksï¼Œä½†æ˜¯microtasksçš„ä¼˜å…ˆçº§è¿‡é«˜ï¼Œåœ¨æŸäº›æƒ…å†µä¸‹å¯èƒ½ä¼šå‡ºçŽ°æ¯”äº‹ä»¶å†’æ³¡æ›´å¿«çš„æƒ…å†µï¼Œä½†å¦‚æžœéƒ½æ˜¯macrotasksåˆå¯èƒ½ä¼šå‡ºçŽ°æ¸²æŸ“çš„æ€§èƒ½é—®é¢˜ã€‚æ‰€ä»¥åœ¨æ–°ç‰ˆæœ¬ä¸­ï¼Œä¼šé»˜è®¤ä½¿ç”¨microtasksï¼Œä½†åœ¨ç‰¹æ®Šæƒ…å†µä¸‹ä¼šä½¿ç”¨macrotasksï¼Œæ¯”å¦‚v-onã€‚ å¯¹äºŽå®žçŽ°macrotasksï¼Œä¼šå…ˆåˆ¤æ–­æ˜¯å¦èƒ½ä½¿ç”¨setImmediateï¼Œä¸èƒ½çš„è¯é™çº§ä¸ºMessageChannelï¼Œä»¥ä¸Šéƒ½ä¸è¡Œçš„è¯å°±ä½¿ç”¨setTimeoutã€‚ 123456789101112131415161718192021if (typeof setImmediate !== 'undefined' &amp;&amp; isNative(setImmediate)) &#123; macroTimerFunc = () =&gt; &#123; setImmediate(flushCallbacks) &#125;&#125; else if ( typeof MessageChannel !== 'undefined' &amp;&amp; (isNative(MessageChannel) || // PhantomJS MessageChannel.toString() === '[object MessageChannelConstructor]')) &#123; const channel = new MessageChannel() const port = channel.port2 channel.port1.onmessage = flushCallbacks macroTimerFunc = () =&gt; &#123; port.postMessage(1) &#125;&#125; else &#123; macroTimerFunc = () =&gt; &#123; setTimeout(flushCallbacks, 0) &#125;&#125; ä»¥ä¸Šä»£ç ç”¨æ¥åˆ¤æ–­èƒ½ä¸èƒ½ä½¿ç”¨ç›¸åº”çš„APIã€‚ æ³¨è§£ macrotasksï¼ˆå®ä»»åŠ¡ï¼‰ï¼š setTimeout, setInterval, setImmediate, I/O, UI rendering microtasksï¼ˆå¾®ä»»åŠ¡ï¼‰ï¼š process.nextTick, Promise, MutationObserver]]></content>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[gitçš„åŸºæœ¬æ“ä½œ]]></title>
    <url>%2F2019%2F06%2F09%2F2019%2FJune%2Fgit%2FREADME%2F</url>
    <content type="text"><![CDATA[git Rebase åˆå¹¶ stash reflog Reset Rebase åˆå¹¶è¯¥å‘½ä»¤å¯ä»¥è®©å’Œ merge å‘½ä»¤å¾—åˆ°çš„ç»“æžœåŸºæœ¬æ˜¯ä¸€è‡´çš„ã€‚ é€šå¸¸ä½¿ç”¨ merge æ“ä½œå°†åˆ†æ”¯ä¸Šçš„ä»£ç åˆå¹¶åˆ° master ä¸­ï¼Œåˆ†æ”¯æ ·å­å¦‚ä¸‹æ‰€ç¤º ä½¿ç”¨ rebase åŽï¼Œä¼šå°† develop ä¸Šçš„ commit æŒ‰é¡ºåºç§»åˆ° master çš„ç¬¬ä¸‰ä¸ª commit åŽé¢ï¼Œåˆ†æ”¯æ ·å­å¦‚ä¸‹æ‰€ç¤º Rebase å¯¹æ¯” mergeï¼Œä¼˜åŠ¿åœ¨äºŽåˆå¹¶åŽçš„ç»“æžœå¾ˆæ¸…æ™°ï¼Œåªæœ‰ä¸€æ¡çº¿ï¼ŒåŠ£åŠ¿åœ¨äºŽå¦‚æžœä¸€æ—¦å‡ºçŽ°å†²çªï¼Œè§£å†³å†²çªå¾ˆéº»çƒ¦ï¼Œå¯èƒ½è¦è§£å†³å¤šä¸ªå†²çªï¼Œä½†æ˜¯ merge å‡ºçŽ°å†²çªåªéœ€è¦è§£å†³ä¸€æ¬¡ã€‚ ä½¿ç”¨ rebase åº”è¯¥åœ¨éœ€è¦è¢« rebase çš„åˆ†æ”¯ä¸Šæ“ä½œï¼Œå¹¶ä¸”è¯¥åˆ†æ”¯æ˜¯æœ¬åœ°åˆ†æ”¯ã€‚å¦‚æžœ develop åˆ†æ”¯éœ€è¦ rebase åˆ° master ä¸ŠåŽ»ï¼Œé‚£ä¹ˆåº”è¯¥å¦‚ä¸‹æ“ä½œ 12345## branch developgit rebase masterget checkout master## ç”¨äºŽå°† `master` ä¸Šçš„ HEAD ç§»åŠ¨åˆ°æœ€æ–°çš„ commitget merge develop stashstash ç”¨äºŽä¸´æ—¶æŠ¥é”™å·¥ä½œç›®å½•çš„æ”¹åŠ¨ã€‚å¼€å‘ä¸­å¯èƒ½ä¼šé‡åˆ°ä»£ç å†™ä¸€åŠéœ€è¦åˆ‡åˆ†æ”¯æ‰“åŒ…çš„é—®é¢˜ï¼Œå¦‚æžœè¿™æ—¶å€™ä½ ä¸æƒ³ commit çš„è¯ï¼Œå°±å¯ä»¥ä½¿ç”¨è¯¥å‘½ä»¤ã€‚ 1git stash ä½¿ç”¨è¯¥å‘½ä»¤å¯ä»¥æš‚å­˜ä½ çš„å·¥ä½œç›®å½•ï¼ŒåŽé¢æƒ³æ¢å¤å·¥ä½œç›®å½•ï¼Œåªéœ€è¦ä½¿ç”¨ 1git stash pop è¿™æ ·ä½ ä¹‹å‰ä¸´æ—¶ä¿å­˜çš„ä»£ç åˆå›žæ¥äº† reflogreflog å¯ä»¥çœ‹åˆ° HEAD çš„ç§»åŠ¨è®°å½•ï¼Œå‡å¦‚ä¹‹å‰è¯¯åˆ äº†ä¸€ä¸ªåˆ†æ”¯ï¼Œå¯ä»¥é€šè¿‡ git reflog çœ‹åˆ°ç§»åŠ¨ HEAD çš„å“ˆå¸Œå€¼ ä»Žå›¾ä¸­å¯ä»¥çœ‹å‡ºï¼ŒHEAD çš„æœ€åŽä¸€æ¬¡ç§»åŠ¨è¡Œä¸ºæ˜¯ merge åŽï¼ŒæŽ¥ä¸‹æ¥åˆ†æ”¯ new å°±è¢«åˆ é™¤äº†ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤æ‰¾å›ž new åˆ†æ”¯ 12git checkout 37d9acagit checkout -b new PSï¼šreflog è®°å½•æ˜¯æ—¶æ•ˆçš„ï¼Œåªä¼šä¿å­˜ä¸€æ®µæ—¶é—´å†…çš„è®°å½•ã€‚ Resetå¦‚æžœä½ æƒ³åˆ é™¤åˆšå†™çš„ commitï¼Œå°±å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤å®žçŽ° 1git reset --hard HEAD^ ä½†æ˜¯ reset çš„æœ¬è´¨å¹¶ä¸æ˜¯åˆ é™¤äº† commitï¼Œè€Œæ˜¯é‡æ–°è®¾ç½®äº† HEAD å’Œå®ƒæŒ‡å‘çš„ branchã€‚ git å¸¸ç”¨æ“ä½œ$ git ch(checkout) -b develop åˆ›å»ºå¼€å‘åˆ†æ”¯develop $ git push æŽ¨é€å½“å‰åˆ†æ”¯åˆ°è¿œç«¯ä»“åº“ $ git st(status) æŸ¥çœ‹å½“å‰åˆ†æ”¯å·¥ä½œåŒºã€æš‚å­˜åŒºçš„å·¥ä½œçŠ¶æ€ $ git diff diffæ–‡ä»¶çš„ä¿®æ”¹ $ git ci(commit) . æäº¤æœ¬æ¬¡ä¿®æ”¹ $ git fetch â€“all æ‹‰å–æ‰€æœ‰è¿œç«¯çš„æœ€æ–°ä»£ç  $ git merge origin/develop å¦‚æžœæ˜¯å¤šäººåä½œï¼ŒmergeåŒäº‹çš„ä¿®æ”¹åˆ°å½“å‰åˆ†æ”¯ï¼ˆå…ˆäººåŽå·±åŽŸåˆ™ï¼‰ $ git merge origin/master ä¸Šçº¿ä¹‹å‰ä¿è¯å½“å‰åˆ†æ”¯ä¸è½åŽäºŽè¿œç«¯origin/masterï¼Œä¸€å®šè¦mergeè¿œç«¯origin/masteråˆ°å½“å‰åˆ†æ”¯ $ git push æŽ¨é€å½“å‰åˆ†æ”¯åˆ°è¿œç«¯ä»“åº“ $ git merge â€“no-ff origin/develop åŒäº‹review codeä¹‹åŽç®¡ç†å‘˜åˆå¹¶origin/developåˆ°è¿œç«¯ä¸»å¹²origin/master ðŸ‘‰ HEADï¼šå½“å‰commitå¼•ç”¨$ git version gitç‰ˆæœ¬ $ git branch æŸ¥çœ‹æœ¬åœ°æ‰€æœ‰çš„åˆ†æ”¯ $ git branch -r æŸ¥çœ‹æ‰€æœ‰è¿œç¨‹çš„åˆ†æ”¯ $ git branch -a æŸ¥çœ‹æ‰€æœ‰è¿œç¨‹åˆ†æ”¯å’Œæœ¬åœ°åˆ†æ”¯ $ git branch -d åˆ é™¤æœ¬åœ°branchnameåˆ†æ”¯ $ git branch -m brancholdname branchnewname é‡å‘½ååˆ†æ”¯ $ git branch åˆ›å»ºbranchnameåˆ†æ”¯ $ git checkout åˆ‡æ¢åˆ†æ”¯åˆ°branchname $ git checkout -b ç­‰åŒäºŽæ‰§è¡Œä¸Šä¸¤æ­¥ï¼Œå³åˆ›å»ºæ–°çš„åˆ†æ”¯å¹¶åˆ‡æ¢åˆ°è¯¥åˆ†æ”¯ $ git checkout â€“ xx/xx æ’¤é”€æœ¬æ–‡ä»¶çš„æ›´æ”¹ $ git pull origin master:master å°†è¿œç¨‹originä¸»æœºçš„masteråˆ†æ”¯åˆå¹¶åˆ°å½“å‰masteråˆ†æ”¯,å†’å·åŽé¢çš„éƒ¨åˆ†è¡¨ç¤ºå½“å‰æœ¬åœ°æ‰€åœ¨çš„åˆ†æ”¯ $ git pull origin master â€“allow-unrelated-histories å…è®¸åˆå¹¶ä¸¤ä¸ªä¸åŒé¡¹ç›®çš„åŽ†å²è®°å½• $ git push origin -d åˆ é™¤è¿œç¨‹branchnameåˆ†æ”¯ $ git fetch â€“p æ›´æ–°åˆ†æ”¯ $ git status æŸ¥çœ‹æœ¬åœ°å·¥ä½œåŒºã€æš‚å­˜åŒºæ–‡ä»¶çš„ä¿®æ”¹çŠ¶æ€ $ git add xx æŠŠxxæ–‡ä»¶æ·»åŠ åˆ°æš‚å­˜åŒºåŽ» $ git commit -m â€˜ â€˜ æäº¤æ–‡ä»¶ -m åŽé¢çš„æ˜¯æ³¨é‡Š $ git commit -am(-a -m) æäº¤æ‰€æœ‰çš„ä¿®æ”¹ï¼Œç­‰åŒäºŽä¸Šä¸¤æ­¥ $ git commit ./xx ç­‰åŒäºŽgit add ./xx + git commit]]></content>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä»Žé›¶é…ç½®webpackï¼ˆåŸºäºŽwebpack 4 å’Œ babel 7ç‰ˆæœ¬ï¼‰]]></title>
    <url>%2F2019%2F05%2F25%2F2019%2FMay%2FWebpack%2FREADME%2F</url>
    <content type="text"><![CDATA[ä»Žé›¶é…ç½®webpackï¼ˆåŸºäºŽwebpack 4 å’Œ babel 7ç‰ˆæœ¬ï¼‰webpack æ ¸å¿ƒæ¦‚å¿µ Entry: å…¥å£ Module: æ¨¡å—ï¼Œwebpackä¸­ä¸€åˆ‡çš†æ˜¯æ¨¡å— Chunk: ä»£ç åº“ï¼Œä¸€ä¸ªchunkç”±åå¤šä¸ªæ¨¡å—ç»„åˆè€Œæˆï¼Œç”¨äºŽä»£ç åˆå¹¶ä¸Žåˆ†å‰² Loader: æ¨¡å—è½¬æ¢å™¨ï¼Œç”¨äºŽæŠŠæ¨¡å—åŽŸå†…å®¹æŒ‰ç…§éœ€æ±‚è½¬æ¢æˆæ–°å†…å®¹ Plugin: æ‰©å±•æ’ä»¶ï¼Œåœ¨webpackæž„å»ºæµç¨‹ä¸­çš„ç‰¹å®šæ—¶æœºæ³¨å…¥æ‰©å±•é€»è¾‘æ¥æ”¹å˜æž„å»ºç»“æžœæˆ–åšä½ æƒ³è¦çš„äº‹æƒ… Output: è¾“å‡ºç»“æžœ webpack æµç¨‹webpackå¯åŠ¨åŽä¼šä»ŽEntryé‡Œé…ç½®çš„Moduleå¼€å§‹é€’å½’è§£æžEntryä¾èµ–çš„æ‰€æœ‰Moduleã€‚æ¯æ‰¾åˆ°ä¸€ä¸ªModuleï¼Œå°±ä¼šæ ¹æ®é…ç½®çš„LoaderåŽ»æ‰¾å‡ºå¯¹åº”çš„è½¬æ¢è§„åˆ™ï¼Œå¯¹Moduleè¿›è¡Œè½¬æ¢åŽï¼Œå†è§£æžå‡ºå½“å‰çš„Moduleä¾èµ–çš„Moduleã€‚è¿™äº›æ¨¡å—ä¼šä»¥Entryä¸ºå•ä½è¿›è¡Œåˆ†ç»„ï¼Œä¸€ä¸ªEntryå’Œå…¶æ‰€æœ‰ä¾èµ–çš„Moduleè¢«åˆ†åˆ°ä¸€ä¸ªç»„ä¹Ÿå°±æ˜¯ä¸€ä¸ªChunkã€‚æœ€å¥½Webpackä¼šæŠŠæ‰€æœ‰Chunkè½¬æ¢æˆæ–‡ä»¶è¾“å‡ºã€‚åœ¨æ•´ä¸ªæµç¨‹ä¸­Webpackä¼šåœ¨æ°å½“çš„æ—¶æœºæ‰§è¡ŒPluginé‡Œå®šä¹‰çš„é€»è¾‘ã€‚ æœ€ç®€webpacké…ç½®é¦–å…ˆåˆå§‹åŒ–npmå’Œå®‰è£…webpackçš„ä¾èµ–ï¼š 12npm init -yyarn add webpack webpack-cli --dev é…ç½®webpack.config.jsæ–‡ä»¶ï¼š 12345678910const path = require('path');module.export = &#123; entry: path.resolve(__dirname, 'src/index.js'), output: &#123; path: path.resolve(__dirname, 'dist'), filename: 'bundle.js', // æ­¤å¤„ä¸è®¾ç½®ï¼Œé»˜è®¤ä¸º main.js publicPath: '/' &#125;&#125; è¯´æ˜Ž: publicPathä¸Šçº¿æ—¶é…ç½®çš„æ˜¯cdnçš„åœ°å€ã€‚ ä½¿ç”¨å‘½ä»¤è¿›è¡Œæ‰“åŒ…ï¼š 1webpack --mode production ä¹Ÿå¯ä»¥å°†å…¶é…ç½®åˆ°package.jsonä¸­çš„ scripts å­—æ®µã€‚å…¥å£æ–‡ä»¶ä¸ºsrc/index.jsï¼Œæ‰“åŒ…è¾“å‡ºåˆ°dist/bundle.jsã€‚ ä½¿ç”¨æ¨¡æ¿htmlhtml-webpack-plugin å¯ä»¥æŒ‡å®š template æ¨¡æ¿æ–‡ä»¶ï¼Œå°†ä¼šåœ¨ output ç›®å½•ä¸‹ï¼Œç”Ÿæˆ html æ–‡ä»¶ï¼Œå¹¶å¼•å…¥æ‰“åŒ…åŽçš„jsã€‚å®‰è£…ä¾èµ–ï¼š 1yarn add html-webpack-plugin --dev åœ¨ webpack.config.js å¢žåŠ  plugins é…ç½®ï¼š 12345678910const HtmlWebpackPlugin = require('html-webpack-plugin');module.exports = &#123; // ... other code plugins: [ new HtmlWebpackPlugin(&#123; template: path.resolve(__dirname, 'src/index.html') &#125;) ]&#125; HtmlWebpackPlugin è¿˜æœ‰ä¸€äº›å…¶ä»–çš„å‚æ•°ï¼Œå¦‚titleï¼ˆhtmlçš„titleï¼‰ï¼Œminifyï¼ˆæ˜¯å¦è¦åŽ‹ç¼©ï¼‰ï¼Œfilenameï¼ˆdistä¸­ç”Ÿæˆçš„htmlæ–‡ä»¶åï¼‰ç­‰ã€‚ é…ç½® webpack-dev-serverwebpack-dev-server æä¾›äº†ä¸€ä¸ªç®€å•çš„WebæœåŠ¡å™¨å’Œå®žæ—¶çƒ­æ›´æ–°çš„èƒ½åŠ›ã€‚å®‰è£…ä¾èµ–ï¼š 1yarn add webpack-dev-server --dev åœ¨ webpck.config.js å¢žåŠ  devServer é…ç½®ï¼š 12345678910const WebpackDevServer = require('webpack-dev-server');module.exports = &#123; // ... other code devServer: &#123; contentBase: './dist', port: '8080', host: 'localhost' &#125;&#125; åœ¨ package.json çš„ scripts å­—æ®µä¸­å¢žåŠ ï¼š 1dev: 'webpack-dev-server --mode development' ä¹‹åŽï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ npm run devï¼Œæ¥å¯åŠ¨æœåŠ¡ã€‚æ›´å¤šå…³äºŽ webpack-dev-server æ”¯æŒåŠ è½½ css æ–‡ä»¶é€šè¿‡ä½¿ç”¨ä¸åŒçš„ style-loader å’Œ css-loaderï¼Œå¯ä»¥å°† css æ–‡ä»¶è½¬æ¢æˆjsæ–‡ä»¶ç±»åž‹ã€‚å®‰è£…ä¾èµ–ï¼š 1yarn add style-loader css-loader --dev åœ¨ webpack.config.js ä¸­å¢žåŠ  loader çš„é…ç½®ã€‚ 12345678910111213module.exports = &#123; // ...other code module: &#123; rules: [ &#123; test: /\.css/, use: ['style-loader', 'css-loader'], exclude: /node_module/, include: path.resolve(__dirname, 'src') &#125; ] &#125;&#125; loader å¯ä»¥é…ç½®ä»¥ä¸‹å‚æ•°ï¼š test: åŒ¹é…å¤„ç†æ–‡ä»¶çš„æ‰©å±•åçš„æ­£åˆ™è¡¨è¾¾å¼ use: loaderçš„åç§° include/exclude: æ‰‹åŠ¨æŒ‡å®šå¿…é¡»å¤„ç†çš„æ–‡ä»¶å¤¹æˆ–å±è”½ä¸éœ€è¦å¤„ç†çš„æ–‡ä»¶å¤¹ query: ä¸ºloaderæä¾›é¢å¤–çš„è®¾ç½®é€‰é¡¹ å¦‚æžœéœ€è¦ç»™loaderä¼ å‚ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨use + loadingçš„æ–¹å¼ï¼Œå¦‚ï¼š 12345678910111213141516171819module.exports = &#123; // other code module: &#123; rules: [ &#123; use: [ &#123; loader: 'style-loader', options: &#123; insertAt: 'top' &#125; &#125;, 'css-loader' ], // ... &#125; ] &#125;&#125; æ”¯æŒåŠ è½½å›¾ç‰‡ file-loader: è§£å†³cssç­‰æ–‡ä»¶ä¸­çš„å¼•å…¥å›¾ç‰‡è·¯å¾„é—®é¢˜ url-loader: å½“å›¾ç‰‡å°äºŽlimitçš„æ—¶å€™ä¼šæŠŠå›¾ç‰‡base64ç¼–ç ï¼Œå¤§äºŽlimitå‚æ•°çš„æ—¶å€™è¿˜æ˜¯ä½¿ç”¨file-loaderè¿›è¡Œæ‹·è´ å¦‚æžœå¸Œæœ›å›¾ç‰‡å­˜æ”¾åœ¨å•ç‹¬çš„ç›®å½•ä¸‹ï¼Œé‚£ä¹ˆéœ€è¦åˆ¶å®šoutputPath å®‰è£…ä¾èµ–ï¼š 1yarn add url-loader file-loader --dev åœ¨ webpack.config.js ä¸­å¢žåŠ loaderçš„é…ç½®ï¼ˆå¢žåŠ åœ¨ module.rulesçš„æ•°ç»„ä¸­ï¼‰ã€‚ 12345678910111213141516171819module.exports = &#123; // ...other code module: &#123; rules: [ &#123; test: /\.(gif|jpg|png|bmp|eot|woff|woff2|ttf|svg)/, use: [ &#123; loader: 'url-loader', options: &#123; limit: 8192, outputPath: 'images' &#125; &#125; ] &#125; ] &#125;&#125; æ”¯æŒç¼–è¯‘lesså’ŒsassçŽ°åœ¨å¤§å®¶éƒ½ä¹ æƒ¯ä½¿ç”¨lessæˆ–è€…sassç¼–å†™cssï¼Œé‚£ä¹ˆä¹Ÿéœ€è¦åœ¨webpackä¸­è¿›è¡Œé…ç½®ã€‚å®‰è£…å¯¹åº”çš„ä¾èµ–ï¼š 12yarn add less less-loader --devyarn add sass sass-loader --dev åœ¨ webpack.config.js ä¸­å¢žåŠ  loader çš„é…ç½®ï¼ˆmodule.rulesæ•°ç»„ä¸­ï¼‰ã€‚ 12345678910111213141516171819module.exports = &#123; // .. other code module: &#123; rules: [ &#123; test: /\.less/, use: ['style-loader', 'css-loader', 'less-loader'], exclude: /node_modules/, include: path.resolve(__dirname, 'src') &#125;, &#123; test: /\.scss/, use: ['style-loader', 'css-loader', 'sass-loader'], exclude: /nodu_modules/, include: path.resolve(__dirname, 'src') &#125; ] &#125;&#125; æ”¯æŒè½¬ä¹‰ ES6/ES7/JSXES6/ES7/JSX è½¬ä¹‰éœ€è¦ Babel çš„ä¾èµ–ï¼Œæ”¯æŒè£…é¥°å™¨ 1yarn add @babel/core babel-loader @babel/preset-env @babel/preset-react @babel/plugin-proposal-decorators @babel/plugin-proposal-object-rest-spread --dev åœ¨ webpack.config.js ä¸­å¢žåŠ  loader çš„é…ç½®ï¼ˆmodule.rules æ•°ç»„ä¸­ï¼‰ã€‚ 123456789101112131415161718192021module.exports = &#123; // ...other code module: &#123; rules: [ test: /\.jsx?$/, use: [ &#123; loader: 'babel-loader', options: &#123; presets: ['@babel/react'], plugins: [ ['@babel/plugin-proposal-decorators', &#123;'legacy': true&#125;] ] &#125; &#125; ], exclude: /nodu_modules/, include: path.resolve(__dirname, 'src') ] &#125;&#125; åŽ‹ç¼©jsæ–‡ä»¶å®‰è£…ä¾èµ–ï¼š 1yarn add uglifyjs-webpack-plugin --dev åœ¨ webpack.config.js ä¸­å¢žåŠ  optimization çš„é…ç½® 123456789101112const UglifyWebpackplugin = require('uglifyjs-webpack-plugin');module.exports = &#123; // ... other code optimization: &#123; minimizer: [ new UglifyWebpackPlugin(&#123; parallel: 4 &#125;) ] &#125;&#125; ä»¥ä¸Šæœ€æ–°ç‰ˆwebpackå·²ç»é»˜è®¤å¼€å¯uglifyjsï¼Œä¸éœ€è¦å•ç‹¬å®‰è£…pluginsä½†æ˜¯å®ƒæ˜¯å•çº¿ç¨‹åŽ‹ç¼©çš„ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥åˆ©ç”¨webpack-parallel-uglify-pluginï¼Œè§£å†³å¤šä¸ªjsæ‰“åŒ…å¹¶è¡ŒåŽ‹ç¼©çš„éœ€è¦ï¼Œä¼˜åŒ–æ‰“åŒ…æ•ˆçŽ‡ 1yarn add webpack-parallel-uglify-plugin --dev åœ¨ webpack.config.js ä¸­å¢žåŠ ï¼š 12345678910111213141516171819const WebpackParallelUglifyPlugin = require('webpack-parallel-uglify-plugin');module.exports = &#123; // other code plugins: [ new WebpackParallelUglifyPlugin(&#123; ugfilyJS: &#123; output: &#123; beautify: false, // æ˜¯å¦ä¿ç•™ç©ºæ ¼å’Œåˆ¶è¡¨ç¬¦ comments: false, // æ˜¯å¦ä¿ç•™æ³¨é‡Š &#125;, compress: &#123; warnings: false, // åˆ é™¤æ²¡æœ‰ç”¨åˆ°çš„ä»£ç æ—¶çš„è­¦å‘Šä¿¡æ¯, drop_console: true, // æ˜¯å¦åˆ é™¤ä»£ç ä¸­çš„consoleè¯­å¥ &#125; &#125; &#125;) ]&#125; åˆ†ç¦»cssï¼ˆå¦‚æžœcssæ–‡ä»¶è¾ƒå¤§çš„è¯ï¼‰å› ä¸ºCSSçš„ä¸‹è½½å’ŒJSå¯ä»¥å¹¶è¡Œï¼Œå½“ä¸€ä¸ªhtmlæ–‡ä»¶å¾ˆå¤§çš„æ—¶å€™ï¼Œå¯ä»¥æŠŠcsså•ç‹¬æå–å‡ºæ¥åŠ è½½ 1yarn add mini-css-extract-plugin --dev åœ¨ webpack.config.js ä¸­å¢žåŠ  plugins çš„é…ç½®ï¼Œå¹¶ä¸”å°† â€˜style-loaderâ€™ ä¿®æ”¹ä¸º { loader: MiniCssExtractPlugin.loader}ã€‚cssæ‰“åŒ…åœ¨å•ç‹¬çš„ç›®å½•ï¼Œé‚£ä¹ˆé…ç½®filenameã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243const MiniCssExtractPlugin = require('mini-css-extract-plugin');module.exports = &#123; module: &#123; rules: [ &#123; test: /\.css/, use: [ &#123; loader: MiniCssExtractPlugin.loader, &#125;, 'css-loader' ], exclude: /node_modules/, include: path.resolve(__dirname, 'src') &#125;, &#123; test: /\.less/, use: [ &#123; loader: MiniCssExtractPlugin.loader, &#125;, 'css-loader', 'less-loader' ], exclude: /node_modules/, include: path.resolve(__dirname, 'src') &#125;, &#123; test: /\.sass/, use: [ &#123; loader: MiniCssExtractPlugin.loader &#125;, 'css-loader', 'sass-loader' ], exclude: /node_modules/, include: path.resolve(__dirname, 'src') &#125; ] &#125;, plugins: [ new MiniCssExtractPlugin(&#123; filename: 'css/[name].css' &#125;) ]&#125; åŽ‹ç¼©cssæ–‡ä»¶å®‰è£…ä¾èµ–ï¼š 1yarn add optimiza-css-assets-webpack-plugin --dev åœ¨ webpack.config.js ä¸­çš„ optimization ä¸­å¢žåŠ é…ç½® 12345678910const OptimizaCssAssetsWebpackPlugin = require('optimiza-css-assets-webpack-plugin');module.exports = &#123; // ... other code optimization: &#123; minimizer: [ new OptimizaCssAssetsWebpackPlugin() ] &#125;&#125; æ‰“åŒ…å‰å…ˆæ¸…ç©ºè¾“å‡ºç›®å½•1yarn add clean-webpack-plugin --dev åœ¨ webpack.config.js ä¸­å¢žåŠ  plugins çš„é…ç½® 12345678const CleanWebpackPlugin = require('clean-webpack-plugin');module.exports = &#123; // ...other code plugins: [ new CleanWebpackPlugin() ]&#125;]]></content>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[This]]></title>
    <url>%2F2019%2F05%2F17%2F2019%2FMay%2FThis%2FREADME%2F</url>
    <content type="text"><![CDATA[this é»˜è®¤ç»‘å®š éšå¼ç»‘å®š ç¡¬ç»‘å®š newç»‘å®š é»˜è®¤ç»‘å®šé»˜è®¤ç»‘å®šï¼Œåœ¨ä¸èƒ½åº”ç”¨å…¶ä»–ç»‘å®šè§„åˆ™æ—¶ä½¿ç”¨çš„é»˜è®¤è§„åˆ™ï¼Œé€šå¸¸æ˜¯ç‹¬ç«‹å‡½æ•°è°ƒç”¨ã€‚ 12345function sayHi() &#123; console.log('Hello', this.name);&#125;var name = 'achen';sayHi(); åœ¨è°ƒç”¨sayHi()æ—¶ï¼Œåº”ç”¨äº†é»˜è®¤ç»‘å®šï¼ŒthisæŒ‡å‘å…¨å±€å¯¹è±¡ï¼ˆéžä¸¥æ ¼æ¨¡å¼ä¸‹ï¼‰ï¼Œä¸¥æ ¼æ¨¡å¼ä¸‹ï¼ŒthisæŒ‡å‘undefinedï¼Œundefinedä¸Šæ²¡æœ‰thiså¯¹è±¡ï¼Œä¼šæŠ›å‡ºé”™è¯¯ã€‚ä¸Šé¢çš„ä»£ç ï¼Œå¦‚æžœåœ¨æµè§ˆå™¨çŽ¯å¢ƒä¸­è¿è¡Œï¼Œé‚£ä¹ˆç»“æžœæ˜¯ Hello, achenä½†æ˜¯å¦‚æžœåœ¨nodeçŽ¯å¢ƒä¸­è¿è¡Œï¼Œç»“æžœå°±æ˜¯Hello, undefinedï¼Œè¿™æ˜¯å› ä¸ºnodeä¸­nameå¹¶ä¸æ˜¯æŒ‚åœ¨å…¨å±€å¯¹è±¡ä¸Šçš„ã€‚ éšå¼ç»‘å®šå‡½æ•°çš„è°ƒç”¨æ˜¯åœ¨æŸä¸ªå¯¹è±¡ä¸Šè§¦å‘çš„ï¼Œå³è°ƒç”¨ä½ç½®ä¸Šå­˜åœ¨ä¸Šä¸‹æ–‡å¯¹è±¡ã€‚å…¸åž‹çš„å½¢å¼ä¸º XXX.fun()ã€‚ 123456789function sayHi() &#123; console.log('Hello', this.name);&#125;var person = &#123; name: 'achen', sayHi: sayHi&#125;;var name = 'achenjs';persin.sayHi(); ç¡¬ç»‘å®šï¼ˆæ˜¾ç¤ºç»‘å®šï¼‰é€šè¿‡callï¼Œapplyï¼Œbindçš„æ–¹å¼ï¼Œæ˜¾ç¤ºçš„æŒ‡å®šthisæ‰€æŒ‡å‘çš„å¯¹è±¡ã€‚callï¼Œapplyï¼Œbindçš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œå°±æ˜¯å¯¹åº”å‡½æ•°çš„thisæ‰€æŒ‡å‘çš„å¯¹è±¡ã€‚callå’Œapplyçš„ä½œç”¨ä¸€æ ·ï¼Œåªæ˜¯ä¼ å‚æ–¹å¼ä¸åŒã€‚callå’Œapplyéƒ½ä¼šæ‰§è¡Œå¯¹åº”çš„å‡½æ•°ï¼Œè€Œbindæ–¹æ³•ä¸ä¼šã€‚ 12345678910function sayHi() &#123; console.log('Hello', this.name);&#125;var person = &#123; name: 'YvetteLau', sayHi: sayHi&#125;var name = 'Wiliam';var Hi = person.sayHi;Hi.call(person); // Hi.apply(person) newç»‘å®š ä½¿ç”¨newæ¥è°ƒç”¨å‡½æ•°ï¼Œä¼šè‡ªåŠ¨æ‰§è¡Œä¸‹é¢çš„æ“ä½œï¼š åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ å°†æž„é€ å‡½æ•°çš„ä½œç”¨åŸŸèµ‹å€¼ç»™æ–°å¯¹è±¡ï¼Œå³thisæŒ‡å‘è¿™ä¸ªæ–°å¯¹è±¡ æ‰§è¡Œæž„é€ å‡½æ•°ä¸­çš„ä»£ç  è¿”å›žæ–°å¯¹è±¡ 12345function SayHi(name) &#123; this.name = name;&#125;var Hi = new SayHi('achen');console.log(Hi.name); // achen è¾“å‡ºç»“æžœä¸ºachenï¼ŒåŽŸå› æ˜¯å› ä¸ºåœ¨var Hi = new SayHi(â€˜achenâ€™); è¿™ä¸€æ­¥ï¼Œä¼šå°†SayHiä¸­çš„thisç»‘å®šåˆ°Hiå¯¹è±¡ä¸Šã€‚ ç»‘å®šä¼˜å…ˆçº§newç»‘å®š &gt; æ˜¾ç¤ºç»‘å®š &gt; éšå¼ç»‘å®š &gt; é»˜è®¤ç»‘å®š ç»‘å®šå¦å¤–å¦‚æžœæˆ‘ä»¬å°†nullæˆ–è€…undefinedä½œä¸ºthisçš„ç»‘å®šå¯¹è±¡ä¼ å…¥callã€applyæˆ–è€…æ˜¯bindï¼Œè¿™äº›å€¼åœ¨è°ƒç”¨æ—¶ä¼šè¢«å¿½ç•¥ï¼Œå®žé™…åº”ç”¨çš„æ˜¯é»˜è®¤ç»‘å®šè§„åˆ™ã€‚ 12345678var foo = &#123; name: 'Selina',&#125;var name = 'Chirs';function bar() &#123; console.log(this.name);&#125;bar.call(null); // Chirs ç®­å¤´å‡½æ•°ç®­å¤´å‡½æ•°æ˜¯ES6ä¸­æ–°å¢žçš„ï¼Œå®ƒå’Œæ™®é€šå‡½æ•°æœ‰ä¸€äº›åŒºåˆ«ï¼Œç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„thisï¼Œå®ƒçš„thisç»§æ‰¿äºŽå¤–å±‚ä»£ç åº“ä¸­çš„thisã€‚ç®­å¤´å‡½æ•°åœ¨ä½¿ç”¨ä¸­ï¼Œéœ€è¦æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼š å‡½æ•°ä½“å†…çš„thiså¯¹è±¡ï¼Œç»§æ‰¿çš„æ˜¯å¤–å±‚ä»£ç å—çš„thisã€‚ ä¸å¯ä»¥å½“åšæž„é€ å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸å¯ä»¥ä½¿ç”¨newå‘½ä»¤ï¼Œå¦åˆ™ä¼šæŠ›å‡ºä¸€ä¸ªé”™è¯¯ã€‚ ä¸å¯ä»¥ä½¿ç”¨argumentså¯¹è±¡ï¼Œè¯¥å¯¹è±¡åœ¨å‡½æ•°ä½“å†…ä¸å­˜åœ¨ã€‚å¦‚æžœè¦ç”¨ï¼Œå¯ä»¥ç”¨restå‚æ•°ä»£æ›¿ã€‚ ä¸å¯ä»¥ä½¿ç”¨yieldå‘½ä»¤ï¼Œå› æ­¤ç®­å¤´å‡½æ•°ä¸èƒ½ç”¨ä½œGeneratorå‡½æ•°ã€‚ ç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„thisï¼Œæ‰€ä»¥ä¸èƒ½ç”¨callã€applyã€bindè¿™äº›æ–¹æ³•æ”¹å˜thisçš„æŒ‡å‘ã€‚ 12345678910111213141516171819202122232425var obj = &#123; hi: function() &#123; console.log(this); return () =&gt; &#123; console.log(this); &#125; &#125;, sayHi: function() &#123; return function() &#123; console.log(this); return () =&gt; &#123; console.log(this); &#125; &#125; &#125;, say: () =&gt; &#123; console.log(this); &#125;&#125;;let hi = obj.hi(); // objhi(); // objlet sayHi = obj.sayHi();let fun1 = sayHi(); // windowfun1(); // windowobj.say(); // window]]></content>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å®žçŽ°ä¸€ä¸ªpromise]]></title>
    <url>%2F2019%2F05%2F15%2F2019%2FMay%2FPromise%2FmyPromise%2F</url>
    <content type="text"><![CDATA[1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071const PENDING = 'PENDING';const RESOLVED = 'RESOLVED';const REJECTED = 'REJECTED';function MyPromise(fn) &#123; const that = this; that.value = null; that.state = PENDING; that.resolvedCallbacks = []; that.rejectedCallbacks = []; function resolve(value) &#123; if (value instanceof MyPromise) &#123; return value.then(resolve, reject); &#125; if (that.state === PENDING) &#123; that.state = RESOLVED; that.value = value; that.resolvedCallbacks.map(cb =&gt; cb(that.value)); &#125; &#125; function reject() &#123; if (that.state === PENDING) &#123; that.state = REJECTED; that.value = value; that.rejectedCallbacks.map(cb =&gt; cb(that.value)); &#125; &#125; try &#123; fn(resolve, reject); &#125; catch(e) &#123; reject(e); &#125;&#125;MyPromise.prototype.then = function(onFulfilled, onRejected) &#123; const that = this; onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : v =&gt; v; onRejected = typeof onRejected === 'function' ? onRejected : r =&gt; &#123; throw r &#125;; if (that.state === PENDING) &#123; that.resolvedCallbacks.push(onFulfilled); that.rejectedCallbacks.push(onRejected); &#125; if (that.state === RESOLVED) &#123; onFulfilled(that.value); &#125; if (that.state === REJECTED) &#123; onRejected(that.value); &#125; return that;&#125;new MyPromise((resolve, reject) =&gt; &#123; setTimeout(() =&gt; &#123; resolve(111); &#125;, 0);&#125;).then(value =&gt; &#123; console.log(value); console.log(resolve);&#125;).then(value =&gt; &#123; console.log(value);&#125;)]]></content>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¦‚ä½•å†™ä¸€ä¸ªjQueryæ’ä»¶]]></title>
    <url>%2F2019%2F05%2F13%2F2019%2FMay%2FJqPlugin%2FREADME%2F</url>
    <content type="text"><![CDATA[å¦‚ä½•å†™ä¸€ä¸ªjQueryæ’ä»¶jQuery æ’ä»¶å¼€å‘æ¨¡å¼jQueryçš„æ’ä»¶å¼€å‘æ¨¡å¼ä¸»è¦æœ‰ä¸‰ç§ï¼š é€šè¿‡$.extend()æ¥æ‰©å±•jQuery é€šè¿‡$.fnå‘jQueryæ·»åŠ æ–°çš„æ–¹æ³• é€šè¿‡$.widget()åº”ç”¨jQuery UIçš„éƒ¨ä»¶å·¥åŽ‚æ–¹å¼åˆ›å»º $.extend()1234567891011121314$.fn.extend(&#123; check: function() &#123; return this.each(function() &#123; this.checked = true; &#125;), &#125; uncheck: function() &#123; return this.each(function() &#123; this.checked = false; &#125;) &#125;&#125;)$("input[type='checkbox']").check(); $.fn12345678910function myPlugin($ele, options) &#123;&#125;;myPlugin.prototype = &#123; method1: function() &#123;&#125;, method2: function() &#123;&#125;,&#125;;$.fn.myplugin = function(options) &#123; new myPlugin(this, options);&#125;]]></content>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JSç»§æ‰¿çš„å®žçŽ°æ–¹å¼]]></title>
    <url>%2F2019%2F05%2F11%2F2019%2FMay%2FExtends%2FREADME%2F</url>
    <content type="text"><![CDATA[JSç»§æ‰¿çš„å®žçŽ°æ–¹å¼1234567891011class Animal &#123; this.name = 'Animal'; this.sleep = function() &#123; console.log(this.name + '~~~'); &#125;&#125;Animal.prototype.eat = function(food) &#123; console.log(this.name + ' eat: ' + food);&#125; 1. åŽŸåž‹é“¾ç»§æ‰¿æ ¸å¿ƒï¼š å°†çˆ¶ç±»çš„å®žä¾‹ä½œä¸ºå­ç±»çš„åŽŸåž‹ 12345678910function Cat() &#123;&#125;Cat.prototype = new Animal();Cat.prototype.name = 'cat';var cat = new cat();console.log(cat.name); // catconsole.log(cat.eat('fish')); // cat eat: fishconsole.log(cat.sleep()); // cat~~~console.log(cat instanceof Animal); // trueconsole.log(cat instanceof Cat); // true ç‰¹ç‚¹ï¼š éžå¸¸çº¯ç²¹çš„ç»§æ‰¿å…³ç³»ï¼Œå®žä¾‹æ˜¯å­ç±»çš„å®žä¾‹ï¼Œä¹Ÿæ˜¯çˆ¶ç±»çš„å®žä¾‹ çˆ¶ç±»æ–°å¢žåŽŸåž‹æ–¹æ³•/åŽŸåž‹å±žæ€§ï¼Œå­ç±»éƒ½èƒ½è®¿é—®åˆ° ç®€å•ï¼Œæ˜“äºŽå®žçŽ° ç¼ºç‚¹ï¼š è¦æƒ³ä¸ºå­ç±»æ–°å¢žå±žæ€§å’Œæ–¹æ³•ï¼Œå¿…é¡»è¦åœ¨new Animal()è¿™æ ·çš„è¯­å¥ä¹‹åŽæ‰§è¡Œï¼Œä¸èƒ½æ”¾åˆ°æž„é€ å™¨ä¸­ æ— æ³•å®žçŽ°å¤šç»§æ‰¿ æ¥è‡ªåŽŸåž‹å¯¹è±¡çš„æ‰€æœ‰å±žæ€§è¢«æ‰€æœ‰å®žä¾‹å…±äº« åˆ›å»ºå­ç±»å®žä¾‹æ—¶ï¼Œæ— æ³•å‘çˆ¶ç±»æž„é€ å‡½æ•°ä¼ å‚ 2. æž„é€ ç»§æ‰¿æ ¸å¿ƒï¼šä½¿ç”¨çˆ¶ç±»çš„æž„é€ å‡½æ•°æ¥å¢žå¼ºå­ç±»å®žä¾‹ï¼Œç­‰äºŽæ˜¯å¤åˆ¶çˆ¶ç±»çš„å®žä¾‹å±žæ€§ç»™å­ç±»ï¼ˆæ²¡ç”¨åˆ°åŽŸåž‹ï¼‰ 12345678910function Cat() &#123; Animal.apply(this); // Animal.call(this); this.name = 'cat';&#125;var cat = new Cat();console.log(cat.name); // catconsole.log(cat.sleep()); // cat~~~console.log(cat instanceof Animal); // falseconsole.log(cat instanceof Cat); // true ç‰¹ç‚¹ï¼š è§£å†³äº†1ä¸­ï¼Œå­ç±»å®žä¾‹å…±äº«çˆ¶ç±»å¼•ç”¨å±žæ€§çš„é—®é¢˜ åˆ›å»ºå­ç±»å®žä¾‹æ—¶ï¼Œå¯ä»¥å‘çˆ¶ç±»ä¼ é€’å‚æ•° å¯ä»¥å®žçŽ°å¤šç»§æ‰¿ï¼ˆcallå¤šä¸ªçˆ¶ç±»å¯¹è±¡ï¼‰ ç¼ºç‚¹ï¼š å®žä¾‹å¹¶ä¸æ˜¯çˆ¶ç±»çš„å®žä¾‹ï¼Œåªæ˜¯å­ç±»çš„å®žä¾‹ åªèƒ½ç»§æ‰¿çˆ¶ç±»çš„å®žä¾‹å±žæ€§å’Œæ–¹æ³•ï¼Œä¸èƒ½ç»§æ‰¿åŽŸåž‹å±žæ€§/æ–¹æ³• æ— æ³•å®žçŽ°å‡½æ•°å¤ç”¨ï¼Œæ¯ä¸ªå­ç±»éƒ½æœ‰çˆ¶ç±»å®žä¾‹å‡½æ•°çš„å‰¯æœ¬ï¼Œå½±å“æ€§èƒ½ 3. å®žä¾‹ç»§æ‰¿æ ¸å¿ƒï¼šä¸ºçˆ¶ç±»å®žä¾‹æ·»åŠ æ–°ç‰¹æ€§ï¼Œåšä¸ºå­ç±»å®žä¾‹è¿”å›ž 1234567891011function Cat(name) &#123; var instance = new Animal(); instance.name = name || 'Tom'; return instance;&#125;var cat = new Cat();console.log(cat.name); // Tomconsole.log(cat.sleep()); // Tom~~~console.log(cat instanceof Animal); // trueconsole.log(cat instanceof Cat); // false ç‰¹ç‚¹ï¼š ä¸é™åˆ¶è°ƒç”¨æ–¹å¼ï¼Œä¸ç®¡äº‹new å­ç±»ï¼ˆï¼‰è¿˜æ˜¯å­ç±»ï¼ˆï¼‰ï¼Œè¿”å›žçš„å¯¹è±¡å…·æœ‰ç›¸åŒçš„æ•ˆæžœ ç¼ºç‚¹ï¼š å®žä¾‹æ˜¯çˆ¶ç±»çš„å®žä¾‹ï¼Œä¸æ˜¯å­ç±»çš„å®žä¾‹ ä¸æ”¯æŒå¤šç»§æ‰¿ 4. æ‹·è´ç»§æ‰¿1234567891011121314function Cat() &#123; var animal = new Animal(); for (var i in animal) &#123; Cat.prototype[i] = animal[i]; &#125; Cat.prototype.name = name || 'Tom';&#125;var cat = new Cat();console.log(cat.name); // Tomconsole.log(cat.sleep()); // Tom~~~console.log(cat instanceof Animal); // falseconsole.log(cat instanceof Cat); // true ç‰¹ç‚¹ï¼š æ”¯æŒå¤šç»§æ‰¿ ç¼ºç‚¹ï¼š æ•ˆçŽ‡è¾ƒä½Žï¼Œå†…å­˜å ç”¨é«˜ï¼ˆå› ä¸ºè¦æ‹·è´çˆ¶ç±»çš„å±žæ€§ï¼‰ æ— æ³•èŽ·å–çˆ¶ç±»ä¸å¯æžšä¸¾çš„æ–¹æ³•ï¼ˆä¸å¯æžšä¸¾æ–¹æ³•ï¼Œä¸èƒ½ä½¿ç”¨for in è®¿é—®åˆ°ï¼‰ 5. ç»„åˆç»§æ‰¿æ ¸å¿ƒï¼šé€šè¿‡è°ƒç”¨çˆ¶ç±»æž„é€ ï¼Œç»§æ‰¿çˆ¶ç±»çš„å±žæ€§å¹¶ä¿ç•™ä¼ å‚çš„ä¼˜ç‚¹ï¼Œç„¶åŽé€šè¿‡å°†çˆ¶ç±»å®žä¾‹ä½œä¸ºå­ç±»åŽŸåž‹ï¼Œå®žçŽ°å‡½æ•°å¤ç”¨ 123456789101112function Cat(name) &#123; Animal.call(this); this.name = name || 'Tom';&#125;Cat.prototype = new Animal();Cat.prototype.constructor = Cat; // ä¿®å¤Catçš„æž„é€ å‡½æ•°var cat = new Cat();console.log(cat.name); // Tomconsole.log(cat.sleep()); // Tom~~~console.log(cat instanceof Animal); // trueconsole.log(cat instanceof Cat); // true ç‰¹ç‚¹ï¼š å¼¥è¡¥äº†æ–¹å¼2çš„ç¼ºé™·ï¼Œå¯ä»¥ç»§æ‰¿å®žä¾‹å±žæ€§/æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥ç»§æ‰¿åŽŸåž‹å±žæ€§/æ–¹æ³• æ—¢æ˜¯å­ç±»çš„å®žä¾‹ï¼Œä¹Ÿæ˜¯çˆ¶ç±»çš„å®žä¾‹ ä¸å­˜åœ¨å¼•ç”¨å±žæ€§å…±äº«é—®é¢˜ å¯ä¼ å‚ å‡½æ•°å¯å¤ç”¨ ç¼ºç‚¹ï¼š è°ƒç”¨äº†ä¸¤æ¬¡çˆ¶ç±»æž„é€ å‡½æ•°ï¼Œç”Ÿæˆäº†ä¸¤ä»½å®žä¾‹ï¼ˆå­ç±»å®žä¾‹å°†å­ç±»åŽŸåž‹ä¸Šçš„é‚£ä»½å±è”½äº†ï¼‰ 6. å¯„ç”Ÿç»„åˆç»§æ‰¿æ ¸å¿ƒï¼šé€šè¿‡å¯„ç”Ÿæ–¹å¼ï¼Œç æŽ‰çˆ¶ç±»çš„å®žä¾‹å±žæ€§ï¼Œè¿™æ ·ï¼Œåœ¨è°ƒç”¨ä¸¤æ¬¡çˆ¶ç±»çš„æž„é€ çš„æ—¶å€™ï¼Œå°±ä¸ä¼šåˆå§‹åŒ–ä¸¤æ¬¡å®žä¾‹æ–¹æ³•/å±žæ€§ï¼Œé¿å…çš„ç»„åˆç»§æ‰¿çš„ç¼ºç‚¹ 12345678910111213141516171819function Cat(name) &#123; Animal.call(this); this.name = name || 'Tom';&#125;(function() &#123; // åˆ›å»ºä¸€ä¸ªæ²¡æœ‰å®žä¾‹æ–¹æ³•çš„ç±» var Super = function() &#123;&#125;; Super.prototype = Animal.prototype; // å°†å®žä¾‹ä½œä¸ºå­ç±»çš„åŽŸåž‹ Cat.prototype = new Super(); Cat.prototype.constructor = Cat; // ä¿®å¤Catçš„æž„é€ å‡½æ•°&#125;)();var cat = new Cat();console.log(cat.name); // Tomconsole.log(cat.sleep()); // Tom~~~console.log(cat instanceof Animal); // trueconsole.log(cat instanceof Cat); //true ç‰¹ç‚¹ï¼š å ªç§°å®Œç¾Ž ç¼ºç‚¹ï¼š å®žçŽ°è¾ƒä¸ºå¤æ‚]]></content>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä¿®é¥°å™¨çš„ä½¿ç”¨]]></title>
    <url>%2F2019%2F05%2F09%2F2019%2FMay%2FDecorator%2FREADME%2F</url>
    <content type="text"><![CDATA[ç”±äºŽä½¿ç”¨äº†decorator, nodeä¸ç”¨æ­£å¸¸è¯†åˆ«ï¼Œéœ€è¦ä½¿ç”¨babelè½¬æ¢ 1$ babel-node test.js 1. ç±»ä¿®é¥°å™¨ï¼ˆåªæœ‰ä¸€ä¸ªå‚æ•°ï¼‰target: æŒ‡å‘ç±»ï¼Œå¦‚æžœæ˜¯ç±»åž‹æ˜¯functionï¼Œåˆ™æŒ‡å‘MyFunction.prototype 123456function testable(target) &#123; target.isTestable = false;&#125;@testabelclass MyTestableClass &#123;&#125; ä»¥ä¸Šä»£ç ï¼Œ@testableå°±æ˜¯ä¸€ä¸ªè£…é¥°å™¨ï¼Œå®ƒä¸ºMyTestableClassè¿™ä¸ªç±»æ·»åŠ äº†ä¸€ä¸ªé™æ€å±žæ€§isTestable 123456789function testable(isTestable) &#123; return function(target) &#123; target.isTestable = isTestable; target.prototype.name = 'achen'; &#125;&#125;@testabel(false)class MyTestabelClass &#123;&#125; ä»¥ä¸Šä»£ç ï¼Œå‘Šè¯‰æˆ‘ä»¬@testableä½•å¦‚ä¼ é€’å‚æ•°ï¼Œå¹¶ä¸”å¦‚ä½•ä¸ºç±»æ·»åŠ åŽŸåž‹å±žæ€§æˆ–è€…æ–¹æ³•ã€‚ 2. æ–¹æ³•ä¿®é¥°å™¨ï¼ˆæœ‰ä¸‰ä¸ªå‚æ•°ï¼‰target: æ–¹æ³•æ‰€åœ¨çš„ç±»name: æ–¹æ³•åç§°descriptor: æè¿°å¯¹è±¡12345678910111213141516171819202122class Math &#123; @log add(a, b) &#123; return a + b; &#125;&#125;function log(target, name, descriptor) &#123; var oldValue = descriptor.value; descriptor.value = function() &#123; console.log(`Calling $&#123;name&#125; with`, arguments); return oldValue.apply(this, arguments); &#125; return descriptor;&#125;const math = new Math();math.add(2, 4); ä¸ºä»€ä¹ˆä¿®é¥°å™¨ä¸èƒ½ç”¨äºŽå‡½æ•°ï¼Ÿä¿®é¥°å™¨åªèƒ½ç”¨äºŽç±»å’Œç±»çš„æ–¹æ³•ï¼Œä¸èƒ½ç”¨äºŽå‡½æ•°ï¼Œå› ä¸ºå­˜åœ¨å‡½æ•°æå‡123456789var conuter = 0;var add = function() &#123; counter++;&#125;;@addfunction foo() &#123;&#125;]]></content>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä»€ä¹ˆæ˜¯å‡½æ•°æŸ¯é‡ŒåŒ–ï¼Ÿ]]></title>
    <url>%2F2019%2F05%2F07%2F2019%2FMay%2FCurry%2FREADME%2F</url>
    <content type="text"><![CDATA[ä»€ä¹ˆæ˜¯å‡½æ•°æŸ¯é‡ŒåŒ–ï¼Ÿå®žçŽ° sum(1)(2)(3) è¿”å›žç»“æžœæ˜¯1,2,3ä¹‹å’Œå‡½æ•°æŸ¯é‡ŒåŒ–ï¼šæŠŠæŽ¥å—å¤šä¸ªå‚æ•°çš„å‡½æ•°å˜æ¢æˆæŽ¥å—ä¸€ä¸ªå•ä¸€å‚æ•°ï¼ˆæœ€åˆå‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼‰çš„å‡½æ•°ï¼Œå¹¶ä¸”è¿”å›žæŽ¥å—ä½™ä¸‹çš„å‚æ•°è€Œä¸”è¿”å›žç»“æžœçš„æ–°å‡½æ•° 1234567function sum(a) &#123; return function(b) &#123; return function(c) &#123; return a+b+c; &#125; &#125;&#125; å¼•ç”³ï¼šå®žçŽ°ä¸€ä¸ªcurryå‡½æ•°ï¼Œå°†æ™®é€šå‡½æ•°è¿›è¡ŒæŸ¯é‡ŒåŒ–123456789101112131415161718function curry(fn, args = []) &#123; return function() &#123; let rest = [...args, ...arguments]; if (rest.length &lt; fn.length) &#123; return curry.call(this, fn, rest); &#125; else &#123; return fn.apply(this, rest); &#125; &#125;&#125;//testfunction sum(a,b,c) &#123; return a+b+c;&#125;let sumFn = curry(sum);console.log(sumFn(1)(2)(3)); //6console.log(sumFn(1)(2, 3)); //6]]></content>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¸¸è§çš„æµè§ˆå™¨å…¼å®¹é—®é¢˜]]></title>
    <url>%2F2019%2F05%2F05%2F2019%2FMay%2FCompatible%2FREADME%2F</url>
    <content type="text"><![CDATA[å¸¸è§çš„æµè§ˆå™¨å…¼å®¹é—®é¢˜htmlä¸­çš„å…¼å®¹é—®é¢˜ä¸åŒæµè§ˆå™¨çš„æ ‡ç­¾é»˜è®¤çš„å¤–è¡¥ä¸å’Œå†…è¡¥ä¸ä¸åŒ åœºæ™¯ï¼šéšä¾¿å†™å‡ ä¸ªæ ‡ç­¾ï¼Œä¸åŠ æ ·å¼æŽ§åˆ¶çš„æƒ…å†µä¸‹ï¼Œå„è‡ªçš„marginå’Œpaddingå·®å¼‚è¾ƒå¤§ã€‚ è§£å†³æ–¹æ³•ï¼šä¸Šæ¥å…ˆæ¶ˆé™¤é»˜è®¤æ ·å¼* {margin: 0, padding: 0} å—å±žæ€§æ ‡ç­¾floatåŽï¼Œåˆæœ‰æ¨ªè¡Œçš„marginçš„æƒ…å†µä¸‹ï¼Œåœ¨IE6æ˜¾ç¤ºmarginæ¯”è®¾ç½®çš„å¤§ï¼ˆå³åŒå€è¾¹è·bugï¼‰ åœºæ™¯ï¼šå¸¸è§ç—‡çŠ¶æ˜¯IE6åŽé¢çš„ä¸€å—è¢«é¡¶åˆ°ä¸‹ä¸€è¡Œ; è§£å†³æ–¹æ³•ï¼šåœ¨floatçš„æ ‡ç­¾æ ·å¼æŽ§åˆ¶ä¸­åŠ å…¥display: inline-block; å°†å…¶è½¬åŒ–ä¸ºè¡Œå†…å±žæ€§ IE6 ä¸­z-indexå¤±æ•ˆ åœºæ™¯ï¼šå…ƒç´ çš„çˆ¶çº§å…ƒç´ è®¾ç½®çš„z-indexä¸º1ï¼Œé‚£ä¹ˆå…¶å­çº§å…ƒç´ å†è®¾ç½®z-indexæ—¶ä¼šå¤±æ•ˆï¼Œå…¶å±‚çº§ä¼šç»§æ‰¿çˆ¶çº§å…ƒç´ çš„è®¾ç½®ï¼Œé€ æˆæŸäº›å±‚çº§è°ƒæ•´ä¸Šçš„bug åŽŸå› ï¼šz-indexèµ·ä½œç”¨æœ‰ä¸ªå‰æï¼Œå°±æ˜¯å…ƒç´ çš„positionå±žæ€§è¦æ˜¯relativeã€absoluteæˆ–è€…fixedã€‚ è§£å†³æ–¹æ¡ˆï¼š1. position: relative æ”¹ä¸º position: absolute; 2. åŽ»é™¤æµ®åŠ¨; 3. æµ®åŠ¨å…ƒç´ æ·»åŠ positionå±žæ€§ï¼ˆå¦‚relativeï¼Œabsoluteç­‰ï¼‰ã€‚ åœ¨å†™aæ ‡ç­¾çš„æ ·å¼ï¼Œå†™çš„æ ·å¼æ²¡æœ‰æ•ˆæžœï¼Œå…¶å®žåªæ˜¯å†™çš„æ ·å¼è¢«è¦†ç›–äº† æ­£ç¡®çš„aæ ‡ç­¾é¡ºåºï¼šlink/visited/hover/active 24ä½pngå›¾ç‰‡ï¼ŒIE6ä¸­ä¸å…¼å®¹é€æ˜Žåº•å„¿ è§£å†³æ–¹å¼ï¼š1. ä½¿ç”¨8ä½pngå›¾ç‰‡; 2. ä¸ºie6å‡†å¤‡ä¸€å¥—ç‰¹æ®Šçš„å›¾ç‰‡ jsåœ¨ä¸åŒæµè§ˆå™¨ä¸­çš„å…¼å®¹é—®é¢˜äº‹ä»¶ç›‘å¬çš„å…¼å®¹ IEä¸æ”¯æŒaddEventListener; è§£å†³ï¼šç»™IEä½¿ç”¨attachEvent 12345678910111213141516171819var addHandler = function(e, type, handler) &#123; if (e.addEventListener) &#123; e.addEventListener(type, handler, false); &#125; else if (e.attachEvent) &#123; e.attachEvent('on' + type, handler); &#125; else &#123; e['on' + type] = handler; &#125;&#125;var removeHandler = function(e, type, handler) &#123; if (e.removeEventListener) &#123; e.removeEventListener(type, handler, false); &#125; else if (e.detachEvent) &#123; e.detachEvent('on' + type, handler); &#125; else &#123; on['on' + type] = null &#125;&#125; event.targeyçš„å…¼å®¹ï¼Œå¼•å‘äº‹ä»¶çš„DOMå…ƒç´ ã€‚ IE 6789ä¸æ”¯æŒevent.target è§£å†³æ–¹æ³•ï¼ševent.srcElement; 1target = event.target || event.srcElement; é˜»æ­¢ç³»ç»Ÿé»˜è®¤çš„å…¼å®¹ IE 6789ä¸æ”¯æŒevent.preventDefault; 1event.preventDefault ? event.preventDefault() : event.returnValue = false é˜»æ­¢äº‹ä»¶å†’æ³¡çš„å…¼å®¹ IE 6789ä¸æ”¯æŒevent.stopPropagation; 1event.stopPropagation ? event.stopPropagation() : event.cancelBubble = false]]></content>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æž„é€ æ–¹æ³•constructor]]></title>
    <url>%2F2019%2F05%2F03%2F2019%2FMay%2FClasses%2FREADME%2F</url>
    <content type="text"><![CDATA[æž„é€ æ–¹æ³•constructoræ˜¯ä¸€ç§ç”¨äºŽåˆ›å»ºå’Œåˆå§‹åŒ–classåˆ›å»ºçš„å¯¹è±¡çš„ç‰¹æ®Šæ–¹æ³•ã€‚æè¿° åœ¨ä¸€ä¸ªç±»ä¸­åªèƒ½æœ‰ä¸€ä¸ªåå«â€constructorâ€çš„ç‰¹æ®Šæ–¹æ³•ã€‚ä¸€ä¸ªç±»ä¸­å‡ºçŽ°å¤šæ¬¡å°†ä¼šæŠ›å‡ºSyntaxErroré”™è¯¯ã€‚ åœ¨ä¸€ä¸ªæž„é€ æ–¹æ³•ä¸­å¯ä»¥ä½¿ç”¨superå…³é”®å­—æ¥è°ƒç”¨ä¸€ä¸ªçˆ¶ç±»çš„æž„é€ æ–¹æ³• å¦‚æžœæ²¡æœ‰æ˜¾ç¤ºæŒ‡å®šæž„é€ æ–¹æ³•ï¼Œåˆ™ä¼šæ·»åŠ é»˜è®¤çš„construtoræ–¹æ³•ã€‚ å¦‚æžœä¸æŒ‡å®šä¸€ä¸ªæž„é€ å‡½æ•°ï¼ˆconstructorï¼‰æ–¹æ³•ï¼Œåˆ™ä½¿ç”¨ä¸€ä¸ªé»˜è®¤çš„æž„é€ å‡½æ•°ï¼ˆconstructorï¼‰ å¦‚æžœä¸æŒ‡å®šæž„é€ æ–¹æ³•ï¼Œåˆ™ä½¿ç”¨é»˜è®¤æž„é€ å‡½æ•°ã€‚å¯¹äºŽåŸºç±»ï¼Œé»˜è®¤æž„é€ å‡½æ•°æ˜¯ï¼š 1constructor() &#123;&#125; å¯¹äºŽæ´¾ç”Ÿç±»ï¼Œé»˜è®¤æž„é€ å‡½æ•°æ˜¯ï¼š 123constructor(...args) &#123; super(...args);&#125; extendsextendså…³é”®å­—ç”¨äºŽç±»å£°æ˜Žæˆ–è€…ç±»è¡¨è¾¾å¼ä¸­ï¼Œä»¥åˆ›å»ºä¸€ä¸ªç±»ï¼Œè¯¥ç±»æ˜¯å¦ä¸€ä¸ªç±»çš„å­ç±»ã€‚æè¿° extendså…³é”®å­—ç”¨æ¥åˆ›å»ºä¸€ä¸ªæ™®é€šç±»æˆ–è€…å†…å»ºå¯¹è±¡çš„å­ç±»ç»§æ‰¿çš„.prototypeå¿…é¡»æ˜¯ä¸€ä¸ªObjectæˆ–è€…nullã€‚ staticç±»ï¼ˆclassï¼‰é€šè¿‡staticå…³é”®å­—å®šä¹‰é™æ€æ–¹æ³•ã€‚ä¸èƒ½åœ¨ç±»çš„å®žä¾‹ä¸Šè°ƒç”¨é™æ€æ–¹æ³•ï¼Œè€Œåº”è¯¥é€šè¿‡ç±»æœ¬èº«è°ƒç”¨ã€‚è¿™äº›é€šå¸¸æ˜¯å®žç”¨ç¨‹åºæ–¹æ³•ï¼Œä¾‹å¦‚åˆ›å»ºæˆ–å…‹éš†å¯¹è±¡çš„åŠŸèƒ½ 123456class ClassWithStaticMethod &#123; static staticMethod() &#123; return 'static method has been called.'; &#125;&#125;ClassWithStaticMethod.staticMethod(); è°ƒç”¨é™æ€æ–¹æ³• ä»Žå¦ä¸€ä¸ªé™æ€æ–¹æ³•ï¼Œé™æ€æ–¹æ³•è°ƒç”¨åŒä¸€ä¸ªç±»ä¸­çš„å…¶ä»–é™æ€æ–¹æ³•ï¼Œå¯ä½¿ç”¨thiså…³é”®å­— 12345678class StaticMethodCall &#123; static staticMethod() &#123; return 'Static method has been called'; &#125; static anotherStaticMethod() &#123; return this.staticMethod() + ' from another static method'; &#125;&#125; ä»Žç±»çš„æž„é€ å‡½æ•°å’Œå…¶ä»–æ–¹æ³•ï¼Œéžé™æ€æ–¹æ³•ä¸­ï¼Œä¸èƒ½ç›´æŽ¥ä½¿ç”¨thiså…³é”®å­—æ¥è®¿é—®é™æ€æ–¹æ³•ã€‚è€Œæ˜¯è¦ç”¨ç±»åæ¥è°ƒç”¨ï¼›CLASSNAME.STATIC_METHOD_NAME()ï¼Œæˆ–è€…ç”¨æž„é€ å‡½æ•°çš„å±žæ€§æ¥è°ƒç”¨è¯¥æ–¹æ³•ï¼›this.constructor.STATIC_METHOD_NAME()ã€‚ 1234567891011class StaticMethodCall &#123; constructor() &#123; console.log(StaticMethodCall.staticMethod()); // 'static method has been called.' console.log(this.constructor.staticMethod()); // 'static method has been called.' &#125; static staticMethod() &#123; return 'static method has been called.'; &#125;&#125; è¡¥å…… ç›®å‰ECMAScriptï¼Œclassä¸­è¿˜æ²¡æœ‰å®šä¹‰Privateï¼ˆç§æœ‰å±žæ€§ï¼‰çš„èƒ½åŠ›ï¼Œæ‰€ä»¥æˆ‘ä»¬é€šè¿‡çº¦å®šï¼Œç”¨ä¸‹åˆ’çº¿æ¥æ ‡è®°å®ƒä»¬ã€‚ 123456789class Car &#123; _milesDriven = 0; drive(distance) &#123; this._milesDriven += distance; &#125; getMilesDriven() &#123; return this._milesDriven; &#125;&#125; åœ¨ä¸Šé¢çš„äº‹ä¾‹ä¸­ï¼Œæˆ‘ä»¬ä¾é Carçš„å®žä¾‹è°ƒç”¨getMilesDrivenæ–¹æ³•æ¥èŽ·å–åˆ°å®ƒçš„ç§æœ‰å±žæ€§_milesDrivenã€‚ä½†æ˜¯ï¼Œå› ä¸ºæ²¡æœ‰ä»€ä¹ˆèƒ½ä½¿_milesDrivenæˆä¸ºç§æœ‰çš„ï¼Œæ‰€ä»¥ä»»ä½•å®žä¾‹éƒ½å¯ä»¥è®¿é—®å®ƒã€‚ 123const tesla = new Cal();tesla.drive(10);console.log(tesla._milesDriven); ç›®å‰Class Fieldsæœ‰ä¸ªææ¡ˆï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡#åˆ›å»ºç§æœ‰å­—æ®µã€‚ 1234567891011121314class Car &#123; #milesDriven = 0; drive(distance) &#123; this.#milesDriven += distance; &#125; getMilesDriven() &#123; return this.#milesDriven; &#125;&#125;const tesla = new Car()tesla.drive(10)tesla.getMilesDriven() // 10tesla.#milesDriven // Invalid]]></content>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[callã€applyæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿcallã€applyå’Œbindçš„å†…éƒ¨å®žçŽ°]]></title>
    <url>%2F2019%2F05%2F01%2F2019%2FMay%2FBind%2FREADME%2F</url>
    <content type="text"><![CDATA[callã€applyæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿcallã€applyå’Œbindçš„å†…éƒ¨å®žçŽ°callã€applyçš„åŠŸèƒ½ç›¸åŒï¼ŒåŒºåˆ«åœ¨äºŽä¼ å‚çš„æ–¹å¼ä¸ä¸€æ ·ï¼š fn.call(obj, arg1, arg2, â€¦)ï¼Œè°ƒç”¨ä¸€ä¸ªå‡½æ•°ï¼Œå…·æœ‰ä¸€ä¸ªæŒ‡å®šçš„thiså€¼å’Œåˆ†åˆ«æä¾›çš„å‚æ•°ï¼ˆå‚æ•°çš„åˆ—è¡¨ï¼‰ã€‚ fn.apply(obj, [argsArray])ï¼Œè°ƒç”¨ä¸€ä¸ªå‡½æ•°ï¼Œå…·æœ‰ä¸€ä¸ªæŒ‡å®šçš„thiså€¼ï¼Œä»¥åŠä½œä¸ºä¸€ä¸ªæ•°ç»„ï¼ˆæˆ–ç±»æ•°ç»„å¯¹è±¡ï¼‰æä¾›å‚æ•°ã€‚ callæ ¸å¿ƒ å°†å‡½æ•°è®¾ä¸ºä¼ å…¥å‚æ•°çš„å±žæ€§ æŒ‡å®šthisåˆ°å‡½æ•°å¹¶ä¼ å…¥ç»™å®šå‚æ•°æ‰§è¡Œå‡½æ•° å¦‚æžœä¸ä¼ å…¥å‚æ•°æˆ–è€…å‚æ•°ä¸ºnullï¼Œé»˜è®¤æŒ‡å‘ä¸º window/global åˆ é™¤å‚æ•°ä¸Šçš„å‡½æ•° 123456789101112131415161718192021222324252627282930Function.prototype.call = function(context) &#123; /* * å¦‚æžœç¬¬ä¸€ä¸ªå‚æ•°ä¼ å…¥çš„æ˜¯ null æˆ–è€… undefinedï¼Œé‚£ä¹ˆthisæŒ‡å‘ window/global * å¦‚æžœç¬¬ä¸€ä¸ªå‚æ•°ä¼ å…¥çš„ä¸æ˜¯ null æˆ–è€… undefinedï¼Œé‚£ä¹ˆå¿…é¡»æ˜¯ä¸€ä¸ªå¯¹è±¡ */ if (!context) &#123; // contextä¸ºnullæˆ–è€…æ˜¯undefined // åˆ¤æ–­æ˜¯æµè§ˆå™¨çŽ¯å¢ƒè¿˜æ˜¯nodeçŽ¯å¢ƒ context = typeof window === 'undefined' ? global : window; &#125; context.fn = this; // thisæŒ‡å‘æ˜¯å½“å‰çš„å‡½æ•°ï¼ˆFunctionçš„å®žä¾‹ï¼‰ let rest = [...arguments].slice(1); // èŽ·å–é™¤äº†thisæŒ‡å‘å¯¹è±¡ä»¥å¤–çš„å‚æ•°ï¼Œç©ºæ•°ç»„sliceåŽè¿”å›žçš„ä»ç„¶æ˜¯ç©ºæ•°ç»„ let result = context.fn(...rest); // éšå¼ç»‘å®šï¼Œå½“å‰å‡½æ•°çš„thisæŒ‡å‘äº†context delete context.fn; return result;&#125;// test codevar foo = &#123; name: 'Selina'&#125;;var name = 'Chirs';function bar(job, age) &#123; console.log(this.name); console.log(job, age);&#125;bar.call(foo, 'programmer', 20);// Selina programmer, 20bar.call(null, 'teacher', 25);// browerçŽ¯å¢ƒï¼š Chirs teacher, 25ï¼› nodeçŽ¯å¢ƒï¼š undefined teacher, 25 applyæ ¸å¿ƒapplyçš„å®žçŽ°å’Œcallå¾ˆç±»ä¼¼ï¼Œä½†æ˜¯éœ€è¦æ³¨æ„ä»–ä»¬çš„å‚æ•°ä¸ä¸€æ ·ï¼Œapplyçš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯æ•°ç»„æˆ–ç±»æ•°ç»„ã€‚ 123456789101112131415161718192021222324252627282930313233343536Function.prototype.apply = function(context, rest) &#123; /* * å¦‚æžœç¬¬ä¸€ä¸ªå‚æ•°ä¼ å…¥çš„æ˜¯ null æˆ–è€… undefinedï¼Œé‚£ä¹ˆthisæŒ‡å‘ window/global * å¦‚æžœç¬¬ä¸€ä¸ªå‚æ•°ä¼ å…¥çš„ä¸æ˜¯ null æˆ–è€… undefinedï¼Œé‚£ä¹ˆå¿…é¡»æ˜¯ä¸€ä¸ªå¯¹è±¡ */ if (!context) &#123; // contextä¸ºnullæˆ–è€…æ˜¯undefined // åˆ¤æ–­æ˜¯æµè§ˆå™¨çŽ¯å¢ƒè¿˜æ˜¯nodeçŽ¯å¢ƒ context = typeof window === 'undefined' ? global : window; &#125; context.fn = this; let result; if (rest == null) &#123; // undefined æˆ–è€… null ä¸æ˜¯ Iterator å¯¹è±¡ï¼Œä¸èƒ½è¢«... result = context.fn(rest); &#125; else if (typeof rest === 'object') &#123; result = context.fn(...rest); &#125; delete result.fn; return result;&#125;// test codevar foo = &#123; name: 'Selina'&#125;;var name = 'Chirs';function bar(job, age) &#123; console.log(this.name); console.log(job, age);&#125;bar.apply(foo, ['programmer', 20]);// Selina programmer, 20bar.apply(null, ['teacher', 25]);// browerçŽ¯å¢ƒï¼š Chirs teacher, 25ï¼› nodeçŽ¯å¢ƒï¼š undefined teacher, 25 bindæ ¸å¿ƒbind å’Œ call/apply æœ‰ä¸€ä¸ªå¾ˆé‡è¦çš„åŒºåˆ«ï¼Œä¸€ä¸ªå‡½æ•°è¢« call/apply çš„æ—¶å€™ï¼Œä¼šç›´æŽ¥è°ƒç”¨ï¼Œä½†æ˜¯ bindä¼šåˆ›å»ºä¸€ä¸ªæ–°å‡½æ•°ã€‚å½“è¿™ä¸ªæ–°å‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œbind()çš„ç¬¬ä¸€ä¸ªå‚æ•°å°†ä½œä¸ºå®ƒè¿è¡Œæ—¶çš„thisï¼Œä¹‹åŽçš„ä¸€ç³»åˆ—å‚æ•°å°†ä¼šåœ¨ä¼ é€’çš„å®žå‚å‰ä¼ å…¥ä½œä¸ºå®ƒçš„å‚æ•°ã€‚ 12345678910111213141516171819202122232425Function.prototype.bind = function(context) &#123; if (typeof this !== 'function') &#123; throw new TypeError('not a function'); &#125; let self = this; let args = [...arguments].slice(1); function Fn() &#123;&#125;; Fn.prototype = this.prototype; let bound = function() &#123; let res = [...args, ...arguments]; // bindä¼ é€’çš„å‚æ•°å’Œå‡½æ•°è°ƒç”¨æ—¶ä¼ é€’çš„å‚æ•°æ‹¼æŽ¥ context = this instanceof Fn ? this : context || this; return self.apply(context, res); &#125; // åŽŸåž‹é“¾ bound.prototype = new Fn(); return bound;&#125;var name = 'Jack';function person(age, job, gender)&#123; console.log(this.name , age, job, gender);&#125;var Yve = &#123;name : 'Yvette'&#125;;let result = person.bind(Yve, 22, 'enginner')('female');]]></content>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[fileReaderè¯»å–æ–‡ä»¶ï¼Œå®žçŽ°å›¾ç‰‡æœ¬åœ°é¢„è§ˆ]]></title>
    <url>%2F2018%2F10%2F09%2FfileReader%E8%AF%BB%E5%8F%96%E6%96%87%E4%BB%B6%2F</url>
    <content type="text"><![CDATA[FileReaderFileReader å¯¹è±¡å…è®¸Webåº”ç”¨ç¨‹åºå¼‚æ­¥è¯»å–å­˜å‚¨åœ¨ç”¨æˆ·è®¡ç®—æœºä¸Šçš„æ–‡ä»¶(æˆ–åŽŸå§‹æ•°æ®ç¼“å†²åŒº)çš„å†…å®¹,ä½¿ç”¨ File æˆ– Blob å¯¹è±¡æŒ‡å®šè¦è¯»å–çš„æ–‡ä»¶æˆ–æ•°æ®ã€‚ é¦–å…ˆåˆ›å»ºä¸€ä¸ªFileReaderå®žä¾‹ï¼š1var reader = new FileReader(); æ–¹æ³• æ–¹æ³• æè¿° abort() ä¸­æ­¢è¯»å–æ“ä½œã€‚åœ¨è¿”å›žæ—¶ï¼ŒreadyStateå±žæ€§ä¸ºDONEã€‚ readAsArrayBuffer() å¼€å§‹è¯»å–æŒ‡å®šçš„ Blobä¸­çš„å†…å®¹, ä¸€æ—¦å®Œæˆ, result å±žæ€§ä¸­ä¿å­˜çš„å°†æ˜¯è¢«è¯»å–æ–‡ä»¶çš„ ArrayBuffer æ•°æ®å¯¹è±¡. readAsBinaryString() å¼€å§‹è¯»å–æŒ‡å®šçš„Blobä¸­çš„å†…å®¹ã€‚ä¸€æ—¦å®Œæˆï¼Œresultå±žæ€§ä¸­å°†åŒ…å«æ‰€è¯»å–æ–‡ä»¶çš„åŽŸå§‹äºŒè¿›åˆ¶æ•°æ®ã€‚ readAsDataURL() å¼€å§‹è¯»å–æŒ‡å®šçš„Blobä¸­çš„å†…å®¹ã€‚ä¸€æ—¦å®Œæˆï¼Œresultå±žæ€§ä¸­å°†åŒ…å«ä¸€ä¸ªdata: URLæ ¼å¼çš„å­—ç¬¦ä¸²ä»¥è¡¨ç¤ºæ‰€è¯»å–æ–‡ä»¶çš„å†…å®¹ readAsText() å¼€å§‹è¯»å–æŒ‡å®šçš„Blobä¸­çš„å†…å®¹ã€‚ä¸€æ—¦å®Œæˆï¼Œresultå±žæ€§ä¸­å°†åŒ…å«ä¸€ä¸ªå­—ç¬¦ä¸²ä»¥è¡¨ç¤ºæ‰€è¯»å–çš„æ–‡ä»¶å†…å®¹ã€‚ å…·ä½“äº‹ä¾‹input fileå®žçŽ°æœ¬åœ°å›¾ç‰‡é¢„è§ˆ123456789var inputBox = document.getElementById(&quot;inputBox&quot;);inputBox.addEventListener(&quot;change&quot;,function()&#123; var reader = new FileReader(); reader.readAsDataURL(inputBox.files[0]);//å‘èµ·å¼‚æ­¥è¯·æ±‚ reader.onload = function()&#123; // è¯»å–å®ŒæˆåŽï¼Œbase64æ•°æ®ä¿å­˜åœ¨å¯¹è±¡çš„resultå±žæ€§ä¸­ console.log(this.result) &#125;&#125;) å¼•ç”¨ FileReaderè¯¦è§£]]></content>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[react-routerè§£è¯»ï¼ˆä¸‰ï¼‰]]></title>
    <url>%2F2018%2F08%2F28%2Freact-router%E8%A7%A3%E8%AF%BB%EF%BC%88%E4%B8%89%EF%BC%89%2F</url>
    <content type="text"><![CDATA[history methods createBrowserHistoryé€šè¿‡ä¹‹å‰æˆ‘ä»¬å·²ç»çŸ¥é“äº†react-router-domçš„ historyæ¨¡å¼ä½¿ç”¨çš„æ˜¯historyåº“ä¸­çš„createBrowserHistoryæ–¹æ³•ã€‚ä¸‹é¢æˆ‘ä»¬æ¥ä¸€èµ·çœ‹çœ‹å…¶ä¸­çš„å¥¥ç§˜ã€‚ var createBrowserHistory = function createBrowserHistory() { // arguments[0], ç”±ä¸Šä¸€èŠ‚å¯çŸ¥å®ƒæ˜¯ä¸€ä¸ªéžå¿…ä¼ çš„object var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {}; (0, _invariant2.default)(_DOMUtils.canUseDOM, 'Browser history needs a DOM'); // ä¹‹å‰å°†historyèµ‹å€¼ç»™å˜é‡globalHistory var globalHistory = window.history; // _DOMUtils.js ä¸­å¤„ç†ä¸€äº›æµè§ˆå™¨å…¼å®¹æ€§ å’Œ æµè§ˆå™¨å†…æ ¸ã€æœºåž‹åˆ¤æ–­çš„æ–¹æ³• // åˆ¤æ–­æ˜¯å¦éžä¸»æµæœºåž‹ä»¥åŠæµè§ˆå™¨ var canUseHistory = (0, _DOMUtils.supportsHistory)(); // æ˜¯å¦ä¸ºIEæµè§ˆå™¨ var needsHashChangeListener = !(0, _DOMUtils.supportsPopStateOnHashChange)(); // forceRefreshä¸ºtrueï¼Œä»£è¡¨å°†åœ¨é¡µé¢å¯¼èˆªæ—¶ä½¿ç”¨å®Œæ•´é¡µé¢åˆ·æ–°ã€‚å…¶ä»–å‚æ•°è¯·è‡ªè¡Œå‚è€ƒå®˜ç½‘æ–‡æ¡£ var _props$forceRefresh = props.forceRefresh, forceRefresh = _props$forceRefresh === undefined ? false : _props$forceRefresh, _props$getUserConfirm = props.getUserConfirmation, getUserConfirmation = _props$getUserConfirm === undefined ? _DOMUtils.getConfirmation : _props$getUserConfirm, _props$keyLength = props.keyLength, keyLength = _props$keyLength === undefined ? 6 : _props$keyLength; var basename = props.basename ? (0, _PathUtils.stripTrailingSlash)((0, _PathUtils.addLeadingSlash)(props.basename)) : ''; var getDOMLocation = function getDOMLocation(historyState) { var _ref = historyState || {}, key = _ref.key, state = _ref.state; var _window$location = window.location, pathname = _window$location.pathname, search = _window$location.search, hash = _window$location.hash; var path = pathname + search + hash; (0, _warning2.default)(!basename || (0, _PathUtils.hasBasename)(path, basename), 'You are attempting to use a basename on a page whose URL path does not begin ' + 'with the basename. Expected path "' + path + '" to begin with "' + basename + '".'); if (basename) path = (0, _PathUtils.stripBasename)(path, basename); return (0, _LocationUtils.createLocation)(path, state, key); }; var createKey = function createKey() { return Math.random().toString(36).substr(2, keyLength); }; var transitionManager = (0, _createTransitionManager2.default)(); var setState = function setState(nextState) { _extends(history, nextState); history.length = globalHistory.length; transitionManager.notifyListeners(history.location, history.action); }; var handlePopState = function handlePopState(event) { if ((0, _DOMUtils.isExtraneousPopstateEvent)(event)) return; handlePop(getDOMLocation(event.state)); }; var handleHashChange = function handleHashChange() { handlePop(getDOMLocation(getHistoryState())); }; var forceNextPop = false; var handlePop = function handlePop(location) { if (forceNextPop) { forceNextPop = false; setState(); } else { var action = 'POP'; transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) { if (ok) { setState({ action: action, location: location }); } else { revertPop(location); } }); } }; var revertPop = function revertPop(fromLocation) { var toLocation = history.location; // TODO: We could probably make this more reliable by // keeping a list of keys we've seen in sessionStorage. // Instead, we just default to 0 for keys we don't know. var toIndex = allKeys.indexOf(toLocation.key); if (toIndex === -1) toIndex = 0; var fromIndex = allKeys.indexOf(fromLocation.key); if (fromIndex === -1) fromIndex = 0; var delta = toIndex - fromIndex; if (delta) { forceNextPop = true; go(delta); } }; var initialLocation = getDOMLocation(getHistoryState()); var allKeys = [initialLocation.key]; var createHref = function createHref(location) { return basename + (0, _PathUtils.createPath)(location); }; var push = function push(path, state) { (0, _warning2.default)(!((typeof path === 'undefined' ? 'undefined' : _typeof(path)) === 'object' && path.state !== undefined && state !== undefined), 'You should avoid providing a 2nd state argument to push when the 1st ' + 'argument is a location-like object that already has state; it is ignored'); var action = 'PUSH'; // é‡å†™locationå¯¹è±¡ var location = (0, _LocationUtils.createLocation)(path, state, createKey(), history.location); transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) { if (!ok) return; var href = createHref(location); var key = location.key, state = location.state; if (canUseHistory) { globalHistory.pushState({ key: key, state: state }, null, href); if (forceRefresh) { window.location.href = href; } else { var prevIndex = allKeys.indexOf(history.location.key); var nextKeys = allKeys.slice(0, prevIndex === -1 ? 0 : prevIndex + 1); nextKeys.push(location.key); allKeys = nextKeys; setState({ action: action, location: location }); } } else { (0, _warning2.default)(state === undefined, 'Browser history cannot push state in browsers that do not support HTML5 history'); window.location.href = href; } }); }; var replace = function replace(path, state) { (0, _warning2.default)(!((typeof path === 'undefined' ? 'undefined' : _typeof(path)) === 'object' && path.state !== undefined && state !== undefined), 'You should avoid providing a 2nd state argument to replace when the 1st ' + 'argument is a location-like object that already has state; it is ignored'); var action = 'REPLACE'; var location = (0, _LocationUtils.createLocation)(path, state, createKey(), history.location); transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) { if (!ok) return; var href = createHref(location); var key = location.key, state = location.state; if (canUseHistory) { globalHistory.replaceState({ key: key, state: state }, null, href); if (forceRefresh) { window.location.replace(href); } else { var prevIndex = allKeys.indexOf(history.location.key); if (prevIndex !== -1) allKeys[prevIndex] = location.key; setState({ action: action, location: location }); } } else { (0, _warning2.default)(state === undefined, 'Browser history cannot replace state in browsers that do not support HTML5 history'); window.location.replace(href); } }); }; var go = function go(n) { globalHistory.go(n); }; var goBack = function goBack() { return go(-1); }; var goForward = function goForward() { return go(1); }; var listenerCount = 0; var checkDOMListeners = function checkDOMListeners(delta) { listenerCount += delta; if (listenerCount === 1) { (0, _DOMUtils.addEventListener)(window, PopStateEvent, handlePopState); if (needsHashChangeListener) (0, _DOMUtils.addEventListener)(window, HashChangeEvent, handleHashChange); } else if (listenerCount === 0) { (0, _DOMUtils.removeEventListener)(window, PopStateEvent, handlePopState); if (needsHashChangeListener) (0, _DOMUtils.removeEventListener)(window, HashChangeEvent, handleHashChange); } }; var isBlocked = false; var block = function block() { var prompt = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false; var unblock = transitionManager.setPrompt(prompt); if (!isBlocked) { checkDOMListeners(1); isBlocked = true; } return function () { if (isBlocked) { isBlocked = false; checkDOMListeners(-1); } return unblock(); }; }; var listen = function listen(listener) { var unlisten = transitionManager.appendListener(listener); checkDOMListeners(1); return function () { checkDOMListeners(-1); unlisten(); }; }; var history = { length: globalHistory.length, action: 'POP', location: initialLocation, createHref: createHref, push: push, replace: replace, go: go, goBack: goBack, goForward: goForward, block: block, listen: listen }; return history; };]]></content>
      <tags>
        <tag>react</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[react-routerè§£è¯»ï¼ˆäºŒï¼‰]]></title>
    <url>%2F2018%2F08%2F27%2Freact-router%E8%A7%A3%E8%AF%BB%EF%BC%88%E4%BA%8C%EF%BC%89%2F</url>
    <content type="text"><![CDATA[react-router çš„è·¯ç”±å®žçŽ°æ—¢ç„¶çŸ¥é“äº†è¿™ä¸ªåŽŸç†ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸‹ react-router çš„å®žçŽ°ï¼Œæˆ‘ä»¬æ‰“å¼€ react-router é¡¹ç›®åœ°å€,æŠŠé¡¹ç›®å…‹éš†ä¸‹æ¥ï¼Œæˆ–åˆ™ç›´æŽ¥åœ¨ github ä¸Šé¢„è§ˆï¼Œåœ¨ React å¼€å‘çš„é¡¹ç›®é‡Œï¼Œæˆ‘ä»¬é€šè¿‡ router.push(â€˜homeâ€™) æ¥å®žçŽ°é¡µé¢çš„è·³è½¬ï¼Œæ‰€ä»¥æˆ‘ä»¬æ£€ç´¢ä¸‹ï¼Œpush æ–¹æ³•çš„å®žçŽ° æˆ‘ä»¬æ£€ç´¢åˆ°äº† 46ä¸ª js æ–‡ä»¶ï¼ŒðŸ˜‚ï¼Œä¸€èˆ¬åˆ°è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬ä¼šæ”¾å¼ƒæºç é˜…è¯»ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä»Šå¤©çš„æ–‡ç« å°±åˆ°è¿™ç»“æŸï¼Œè°¢è°¢å¤§å®¶ï¼ å¼€ä¸ªçŽ©ç¬‘ï¼Œæºç é˜…è¯»ä¸èƒ½è¿™ä¹ˆç²—ç³™ï¼Œreact-router 4.xç”¨æ³•ï¼Œæˆ‘ä»¬åªéœ€è¦å®‰è£… react-router-domã€‚æ‰€ä»¥æˆ‘ä»¬æ‰¾åˆ° package ä¸‹çš„ react-router-dom/modules ç›®å½•ï¼Œç‚¹å¼€ index.js æ–‡ä»¶ã€‚ export BrowserRouter from "./BrowserRouter"; export HashRouter from "./HashRouter"; export Link from "./Link"; export MemoryRouter from "./MemoryRouter"; export NavLink from "./NavLink"; export Prompt from "./Prompt"; export Redirect from "./Redirect"; export Route from "./Route"; export Router from "./Router"; export StaticRouter from "./StaticRouter"; export Switch from "./Switch"; export generatePath from "./generatePath"; export matchPath from "./matchPath"; export withRouter from "./withRouter"; çœ‹åˆ° history å¯¹è±¡çš„å®žä¾‹ä¸Žé…ç½®çš„ mode æœ‰å…³ï¼Œreact-router-dom é€šè¿‡3ç§æ–¹å¼å®žçŽ°äº†è·¯ç”±åˆ‡æ¢ã€‚æˆ‘ä»¬ä»Šå¤©è®²çš„å†…å®¹ç›¸åŒ¹é…çš„æ˜¯ createBrowserHistory çš„å®žçŽ°æ–¹æ¡ˆ (å¦å¤–ä¸¤ä¸ªåˆ†åˆ«æ˜¯ï¼šcreateHashHistoryå’ŒcreateMemoryHistory)ã€‚ è¿™é‡Œ react-router-dom å°† BrowserRouterã€HashRouterã€Link æ‹†åˆ†ä¸ºå•ç‹¬ç»„ä»¶å®žçŽ°ï¼Œä¹Ÿæ˜¯ä¸Ž react-router 3 ä¹‹é—´çš„åŒºåˆ«ä¹‹ä¸€ã€‚è¯¦ç»†æ–‡æ¡£æˆ‘ä»¬æ¥çœ‹ react-router-dom ä¸­çš„ BrowserRouter æºç ï¼š import warning from "warning"; import React from "react"; import PropTypes from "prop-types"; import { createBrowserHistory as createHistory } from "history"; import Router from "./Router"; /** * The public API for a that uses HTML5 history. */ class BrowserRouter extends React.Component { static propTypes = { basename: PropTypes.string, forceRefresh: PropTypes.bool, getUserConfirmation: PropTypes.func, keyLength: PropTypes.number, children: PropTypes.node }; history = createHistory(this.props); componentWillMount() { warning( !this.props.history, " ignores the history prop. To use a custom history, " + "use `import { Router }` instead of `import { BrowserRouter as Router }`." ); } render() { return ; } } export default BrowserRouter; ç”±ä¸Šå¯çŸ¥æˆ‘ä»¬åœ¨é¡¹ç›®ä¸­ä½¿ç”¨çš„ç»„ä»¶ï¼Œhistoryæ–¹å¼æ˜¯ä½¿ç”¨äº†ä¸€ä¸ªå«historyåº“ä¸­çš„ createBrowserHistory æ–¹æ³•ã€‚ æ¨¡æ‹Ÿå•é¡µé¢è·¯ç”±é€šè¿‡ä¸Šé¢çš„å­¦ä¹ ï¼Œæˆ‘ä»¬çŸ¥é“äº†ï¼Œå•é¡µé¢åº”ç”¨è·¯ç”±çš„å®žçŽ°åŽŸç†ï¼Œæˆ‘ä»¬ä¹Ÿå°è¯•åŽ»å®žçŽ°ä¸€ä¸ªã€‚åœ¨åšç®¡ç†ç³»ç»Ÿçš„æ—¶å€™ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šåœ¨é¡µé¢çš„å·¦ä¾§æ”¾ç½®ä¸€ä¸ªå›ºå®šçš„å¯¼èˆª sidebarï¼Œé¡µé¢çš„å³ä¾§æ”¾ä¸Žä¹‹åŒ¹é…çš„å†…å®¹ main ã€‚ç‚¹å‡»å¯¼èˆªæ—¶ï¼Œæˆ‘ä»¬åªå¸Œæœ›å†…å®¹è¿›è¡Œæ›´æ–°ï¼Œå¦‚æžœåˆ·æ–°äº†æ•´ä¸ªé¡µé¢ï¼Œåˆ°æ—¶å¯¼èˆªå’Œé€šç”¨çš„å¤´éƒ¨åº•éƒ¨ä¹Ÿè¿›è¡Œé‡ç»˜é‡æŽ’çš„è¯ï¼Œååˆ†æµªè´¹èµ„æºï¼Œä½“éªŒä¹Ÿä¼šä¸å¥½ã€‚è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬å°±èƒ½ç”¨åˆ°æˆ‘ä»¬ä»Šå¤©å­¦ä¹ åˆ°çš„å†…å®¹ï¼Œé€šè¿‡ä½¿ç”¨ HTML5 çš„ pushState æ–¹æ³•å’Œ replaceState æ–¹æ³•æ¥å®žçŽ°ï¼Œ æ€è·¯ï¼šé¦–å…ˆç»‘å®š click äº‹ä»¶ã€‚å½“ç”¨æˆ·ç‚¹å‡»ä¸€ä¸ªé“¾æŽ¥æ—¶ï¼Œé€šè¿‡ preventDefault å‡½æ•°é˜²æ­¢é»˜è®¤çš„è¡Œä¸ºï¼ˆé¡µé¢è·³è½¬ï¼‰ï¼ŒåŒæ—¶è¯»å–é“¾æŽ¥çš„åœ°å€ï¼ˆå¦‚æžœæœ‰ jQueryï¼Œå¯ä»¥å†™æˆ$(this).attr(â€˜hrefâ€™)ï¼‰ï¼ŒæŠŠè¿™ä¸ªåœ°å€é€šè¿‡pushStateå¡žå…¥æµè§ˆå™¨åŽ†å²è®°å½•ä¸­ï¼Œå†åˆ©ç”¨ AJAX æŠ€æœ¯æ‹‰å–ï¼ˆå¦‚æžœæœ‰ jQueryï¼Œå¯ä»¥ä½¿ç”¨$.getæ–¹æ³•ï¼‰è¿™ä¸ªåœ°å€ä¸­çœŸæ­£çš„å†…å®¹ï¼ŒåŒæ—¶æ›¿æ¢å½“å‰ç½‘é¡µçš„å†…å®¹ã€‚ ä¸ºäº†å¤„ç†ç”¨æˆ·å‰è¿›ã€åŽé€€ï¼Œæˆ‘ä»¬ç›‘å¬ popstate äº‹ä»¶ã€‚å½“ç”¨æˆ·ç‚¹å‡»å‰è¿›æˆ–åŽé€€æŒ‰é’®æ—¶ï¼Œæµè§ˆå™¨åœ°å€è‡ªåŠ¨è¢«è½¬æ¢æˆç›¸åº”çš„åœ°å€ï¼ŒåŒæ—¶popstateäº‹ä»¶å‘ç”Ÿã€‚åœ¨äº‹ä»¶å¤„ç†å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬æ ¹æ®å½“å‰çš„åœ°å€æŠ“å–ç›¸åº”çš„å†…å®¹ï¼Œç„¶åŽåˆ©ç”¨ AJAX æ‹‰å–è¿™ä¸ªåœ°å€çš„çœŸæ­£å†…å®¹ï¼Œå‘ˆçŽ°ï¼Œå³å¯ã€‚ æœ€åŽï¼Œæ•´ä¸ªè¿‡ç¨‹æ˜¯ä¸ä¼šæ”¹å˜é¡µé¢æ ‡é¢˜çš„ï¼Œå¯ä»¥é€šè¿‡ç›´æŽ¥å¯¹ document.title èµ‹å€¼æ¥æ›´æ”¹é¡µé¢æ ‡é¢˜ã€‚ æ‰©å±•å¥½äº†,æˆ‘ä»¬ä»Šå¤©é€šè¿‡å¤šä¸ªæ–¹é¢æ¥è®²äº† pushState æ–¹æ³•å’Œ replaceState çš„åº”ç”¨ï¼Œä½ åº”è¯¥å¯¹è¿™ä¸ªä¸¤ä¸ªæ–¹æ³•èƒ½æœ‰ä¸€ä¸ªæ¯”è¾ƒæ·±åˆ»çš„å°è±¡ï¼Œå¦‚æžœæƒ³è¦äº†è§£æ›´å¤šï¼Œä½ å¯ä»¥å‚è€ƒä»¥ä¸‹é“¾æŽ¥ historyå¯¹è±¡]]></content>
      <tags>
        <tag>react</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[react-routerè§£è¯»ï¼ˆä¸€ï¼‰]]></title>
    <url>%2F2018%2F08%2F27%2Freact-router%E8%A7%A3%E8%AF%BB%EF%BC%88%E4%B8%80%EF%BC%89%2F</url>
    <content type="text"><![CDATA[å‰è¨€å‰ç«¯è·¯ç”±æ˜¯é€šè¿‡æ”¹å˜URLï¼Œåœ¨ä¸é‡æ–°è¯·æ±‚é¡µé¢çš„æƒ…å†µä¸‹ï¼Œæ›´æ–°é¡µé¢è§†å›¾ã€‚ç›®å‰åœ¨æµè§ˆå™¨çŽ¯å¢ƒä¸­è¿™ä¸€åŠŸèƒ½çš„å®žçŽ°ä¸»è¦æœ‰2ç§: åˆ©ç”¨URLä¸­çš„hash åˆ©ç”¨H5ä¸­history pushState å’Œ replaceState äº†è§£ä¸€ä¸‹ history æä¾›äº†ä¸¤ä¸ªæ–¹æ³•ï¼Œèƒ½å¤Ÿæ— åˆ·æ–°çš„ä¿®æ”¹ç”¨æˆ·çš„æµè§ˆè®°å½•ï¼ŒpushSateï¼Œå’Œ replaceStateï¼ŒåŒºåˆ«çš„ pushState åœ¨ç”¨æˆ·è®¿é—®é¡µé¢åŽé¢æ·»åŠ ä¸€ä¸ªè®¿é—®è®°å½•ï¼Œ replaceState åˆ™æ˜¯ç›´æŽ¥æ›¿æ¢äº†å½“å‰è®¿é—®è®°å½• history å¯¹è±¡çš„è¯¦ç»†ä¿¡æ¯å·²ç»æœ‰å¾ˆå¤šå¾ˆå¥½å¾ˆè¯¦ç»†çš„ä»‹ç»æ–‡çŒ®ï¼Œè¿™é‡Œä¸å†åšæ€»ç»“historyå¯¹è±¡ history.pushStatehistory.pushStateæ–¹æ³•æŽ¥å—ä¸‰ä¸ªå‚æ•°ï¼Œä¾æ¬¡ä¸ºï¼š stateï¼šä¸€ä¸ªä¸ŽæŒ‡å®šç½‘å€ç›¸å…³çš„çŠ¶æ€å¯¹è±¡ï¼Œpopstateäº‹ä»¶è§¦å‘æ—¶ï¼Œè¯¥å¯¹è±¡ä¼šä¼ å…¥å›žè°ƒå‡½æ•°ã€‚å¦‚æžœä¸éœ€è¦è¿™ä¸ªå¯¹è±¡ï¼Œæ­¤å¤„å¯ä»¥å¡«nullã€‚titleï¼šæ–°é¡µé¢çš„æ ‡é¢˜ï¼Œä½†æ˜¯æ‰€æœ‰æµè§ˆå™¨ç›®å‰éƒ½å¿½ç•¥è¿™ä¸ªå€¼ï¼Œå› æ­¤è¿™é‡Œå¯ä»¥å¡«nullã€‚urlï¼šæ–°çš„ç½‘å€ï¼Œå¿…é¡»ä¸Žå½“å‰é¡µé¢å¤„åœ¨åŒä¸€ä¸ªåŸŸã€‚æµè§ˆå™¨çš„åœ°å€æ å°†æ˜¾ç¤ºè¿™ä¸ªç½‘å€ã€‚å‡å®šå½“å‰ç½‘å€æ˜¯example.com/1.htmlï¼Œæˆ‘ä»¬ä½¿ç”¨pushStateæ–¹æ³•åœ¨æµè§ˆè®°å½•ï¼ˆhistoryå¯¹è±¡ï¼‰ä¸­æ·»åŠ ä¸€ä¸ªæ–°è®°å½•ã€‚ var stateObj = { foo: 'bar' }; history.pushState(stateObj, 'page 2', '2.html'); æ·»åŠ ä¸Šé¢è¿™ä¸ªæ–°è®°å½•åŽï¼Œæµè§ˆå™¨åœ°å€æ ç«‹åˆ»æ˜¾ç¤º example.com/2.htmlï¼Œä½†å¹¶ä¸ä¼šè·³è½¬åˆ° 2.htmlï¼Œç”šè‡³ä¹Ÿä¸ä¼šæ£€æŸ¥2.html æ˜¯å¦å­˜åœ¨ï¼Œå®ƒåªæ˜¯æˆä¸ºæµè§ˆåŽ†å²ä¸­çš„æœ€æ–°è®°å½•ã€‚è¿™æ—¶ï¼Œä½ åœ¨åœ°å€æ è¾“å…¥ä¸€ä¸ªæ–°çš„åœ°å€(æ¯”å¦‚è®¿é—® google.com )ï¼Œç„¶åŽç‚¹å‡»äº†å€’é€€æŒ‰é’®ï¼Œé¡µé¢çš„ URL å°†æ˜¾ç¤º 2.htmlï¼›ä½ å†ç‚¹å‡»ä¸€æ¬¡å€’é€€æŒ‰é’®ï¼ŒURL å°†æ˜¾ç¤º 1.htmlã€‚ æ€»ä¹‹ï¼ŒpushState æ–¹æ³•ä¸ä¼šè§¦å‘é¡µé¢åˆ·æ–°ï¼Œåªæ˜¯å¯¼è‡´ history å¯¹è±¡å‘ç”Ÿå˜åŒ–ï¼Œåœ°å€æ ä¼šæœ‰ååº”ã€‚ å¦‚æžœ pushState çš„ urlå‚æ•°ï¼Œè®¾ç½®äº†ä¸€ä¸ªæ–°çš„é”šç‚¹å€¼ï¼ˆå³hashï¼‰ï¼Œå¹¶ä¸ä¼šè§¦å‘ hashchange äº‹ä»¶ã€‚å¦‚æžœè®¾ç½®äº†ä¸€ä¸ªè·¨åŸŸç½‘å€ï¼Œåˆ™ä¼šæŠ¥é”™ã€‚ // æŠ¥é”™ history.pushState(null, null, 'https://twitter.com/hello'); ä¸Šé¢ä»£ç ä¸­ï¼ŒpushStateæƒ³è¦æ’å…¥ä¸€ä¸ªè·¨åŸŸçš„ç½‘å€ï¼Œå¯¼è‡´æŠ¥é”™ã€‚è¿™æ ·è®¾è®¡çš„ç›®çš„æ˜¯ï¼Œé˜²æ­¢æ¶æ„ä»£ç è®©ç”¨æˆ·ä»¥ä¸ºä»–ä»¬æ˜¯åœ¨å¦ä¸€ä¸ªç½‘ç«™ä¸Šã€‚ history.replaceStatehistory.replaceState æ–¹æ³•çš„å‚æ•°ä¸Ž pushState æ–¹æ³•ä¸€æ¨¡ä¸€æ ·ï¼ŒåŒºåˆ«æ˜¯å®ƒä¿®æ”¹æµè§ˆåŽ†å²ä¸­å½“å‰çºªå½•,å‡å®šå½“å‰ç½‘é¡µæ˜¯ example.com/example.htmlã€‚ history.pushState({page: 1}, 'title 1', '?page=1'); history.pushState({page: 2}, 'title 2', '?page=2'); history.replaceState({page: 3}, 'title 3', '?page=3'); history.back() // urlæ˜¾ç¤ºä¸ºhttp://example.com/example.html?page=1 history.back() // urlæ˜¾ç¤ºä¸ºhttp://example.com/example.html history.go(2) // urlæ˜¾ç¤ºä¸ºhttp://example.com/example.html?page=3]]></content>
      <tags>
        <tag>react</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hello Hexo]]></title>
    <url>%2F2018%2F08%2F24%2Fhello-world%2F</url>
    <content type="text"><![CDATA[Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new "My New Post" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment]]></content>
  </entry>
</search>
