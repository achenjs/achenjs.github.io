<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Hello Hexo</title>
    <url>/2018/08/24/hello-world/</url>
    <content><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>
]]></content>
  </entry>
  <entry>
    <title>fileReaderè¯»å–æ–‡ä»¶ï¼Œå®ç°å›¾ç‰‡æœ¬åœ°é¢„è§ˆ</title>
    <url>/2018/10/09/fileReader%E8%AF%BB%E5%8F%96%E6%96%87%E4%BB%B6/</url>
    <content><![CDATA[<h3 id="FileReader"><a href="#FileReader" class="headerlink" title="FileReader"></a>FileReader</h3><p>FileReader å¯¹è±¡å…è®¸Webåº”ç”¨ç¨‹åºå¼‚æ­¥è¯»å–å­˜å‚¨åœ¨ç”¨æˆ·è®¡ç®—æœºä¸Šçš„æ–‡ä»¶(æˆ–åŸå§‹æ•°æ®ç¼“å†²åŒº)çš„å†…å®¹,ä½¿ç”¨ File æˆ– Blob å¯¹è±¡æŒ‡å®šè¦è¯»å–çš„æ–‡ä»¶æˆ–æ•°æ®ã€‚</p>
<p>é¦–å…ˆåˆ›å»ºä¸€ä¸ªFileReaderå®ä¾‹ï¼š<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var reader = new FileReader();</span><br></pre></td></tr></table></figure></p>
<h4 id="æ–¹æ³•"><a href="#æ–¹æ³•" class="headerlink" title="æ–¹æ³•"></a>æ–¹æ³•</h4><table>
<thead>
<tr>
<th>æ–¹æ³•</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td>abort()</td>
<td>ä¸­æ­¢è¯»å–æ“ä½œã€‚åœ¨è¿”å›æ—¶ï¼ŒreadyStateå±æ€§ä¸ºDONEã€‚</td>
</tr>
<tr>
<td>readAsArrayBuffer()</td>
<td>å¼€å§‹è¯»å–æŒ‡å®šçš„ Blobä¸­çš„å†…å®¹, ä¸€æ—¦å®Œæˆ, result å±æ€§ä¸­ä¿å­˜çš„å°†æ˜¯è¢«è¯»å–æ–‡ä»¶çš„ ArrayBuffer æ•°æ®å¯¹è±¡.</td>
</tr>
<tr>
<td>readAsBinaryString()</td>
<td>å¼€å§‹è¯»å–æŒ‡å®šçš„Blobä¸­çš„å†…å®¹ã€‚ä¸€æ—¦å®Œæˆï¼Œresultå±æ€§ä¸­å°†åŒ…å«æ‰€è¯»å–æ–‡ä»¶çš„åŸå§‹äºŒè¿›åˆ¶æ•°æ®ã€‚</td>
</tr>
<tr>
<td>readAsDataURL()</td>
<td>å¼€å§‹è¯»å–æŒ‡å®šçš„Blobä¸­çš„å†…å®¹ã€‚ä¸€æ—¦å®Œæˆï¼Œresultå±æ€§ä¸­å°†åŒ…å«ä¸€ä¸ªdata: URLæ ¼å¼çš„å­—ç¬¦ä¸²ä»¥è¡¨ç¤ºæ‰€è¯»å–æ–‡ä»¶çš„å†…å®¹</td>
</tr>
<tr>
<td>readAsText()</td>
<td>å¼€å§‹è¯»å–æŒ‡å®šçš„Blobä¸­çš„å†…å®¹ã€‚ä¸€æ—¦å®Œæˆï¼Œresultå±æ€§ä¸­å°†åŒ…å«ä¸€ä¸ªå­—ç¬¦ä¸²ä»¥è¡¨ç¤ºæ‰€è¯»å–çš„æ–‡ä»¶å†…å®¹ã€‚</td>
</tr>
</tbody>
</table>
<h4 id="å…·ä½“äº‹ä¾‹"><a href="#å…·ä½“äº‹ä¾‹" class="headerlink" title="å…·ä½“äº‹ä¾‹"></a>å…·ä½“äº‹ä¾‹</h4><p>input fileå®ç°æœ¬åœ°å›¾ç‰‡é¢„è§ˆ<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var inputBox = document.getElementById(&quot;inputBox&quot;);</span><br><span class="line">inputBox.addEventListener(&quot;change&quot;,function()&#123;</span><br><span class="line">  var reader = new FileReader();</span><br><span class="line">  reader.readAsDataURL(inputBox.files[0]);//å‘èµ·å¼‚æ­¥è¯·æ±‚</span><br><span class="line">  reader.onload = function()&#123;</span><br><span class="line">    // è¯»å–å®Œæˆåï¼Œbase64æ•°æ®ä¿å­˜åœ¨å¯¹è±¡çš„resultå±æ€§ä¸­</span><br><span class="line">    console.log(this.result)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p>
<h4 id="å¼•ç”¨"><a href="#å¼•ç”¨" class="headerlink" title="å¼•ç”¨"></a>å¼•ç”¨</h4><ul>
<li><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/FileReader" target="_blank" rel="noopener">FileReaderè¯¦è§£</a></li>
</ul>
]]></content>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title>react-routerè§£è¯»ï¼ˆäºŒï¼‰</title>
    <url>/2018/08/27/react-router%E8%A7%A3%E8%AF%BB%EF%BC%88%E4%BA%8C%EF%BC%89/</url>
    <content><![CDATA[<h3 id="react-router-çš„è·¯ç”±å®ç°"><a href="#react-router-çš„è·¯ç”±å®ç°" class="headerlink" title="react-router çš„è·¯ç”±å®ç°"></a>react-router çš„è·¯ç”±å®ç°</h3><p>æ—¢ç„¶çŸ¥é“äº†è¿™ä¸ªåŸç†ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸‹ react-router çš„å®ç°ï¼Œæˆ‘ä»¬æ‰“å¼€ <a href="https://github.com/ReactTraining/react-router" target="_blank" rel="noopener">react-router é¡¹ç›®åœ°å€</a>,æŠŠé¡¹ç›®å…‹éš†ä¸‹æ¥ï¼Œæˆ–åˆ™ç›´æ¥åœ¨ github ä¸Šé¢„è§ˆï¼Œåœ¨ React å¼€å‘çš„é¡¹ç›®é‡Œï¼Œæˆ‘ä»¬é€šè¿‡ router.push(â€˜homeâ€™) æ¥å®ç°é¡µé¢çš„è·³è½¬ï¼Œæ‰€ä»¥æˆ‘ä»¬æ£€ç´¢ä¸‹ï¼Œpush æ–¹æ³•çš„å®ç°</p>
<p><img src="/images/router/1.jpg" alt="pushæ–¹æ³•æ£€ç´¢"></p>
<p>æˆ‘ä»¬æ£€ç´¢åˆ°äº† 46ä¸ª js æ–‡ä»¶ï¼ŒğŸ˜‚ï¼Œä¸€èˆ¬åˆ°è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬ä¼šæ”¾å¼ƒæºç é˜…è¯»ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä»Šå¤©çš„æ–‡ç« å°±åˆ°è¿™ç»“æŸï¼Œè°¢è°¢å¤§å®¶ï¼</p>
<p>å¼€ä¸ªç©ç¬‘ï¼Œæºç é˜…è¯»ä¸èƒ½è¿™ä¹ˆç²—ç³™ï¼Œreact-router 4.xç”¨æ³•ï¼Œæˆ‘ä»¬åªéœ€è¦å®‰è£… react-router-domã€‚æ‰€ä»¥æˆ‘ä»¬æ‰¾åˆ° package ä¸‹çš„ react-router-dom/modules ç›®å½•ï¼Œç‚¹å¼€ <code>index.js</code> æ–‡ä»¶ã€‚</p>
<pre>
  export BrowserRouter from "./BrowserRouter";
  export HashRouter from "./HashRouter";
  export Link from "./Link";
  export MemoryRouter from "./MemoryRouter";
  export NavLink from "./NavLink";
  export Prompt from "./Prompt";
  export Redirect from "./Redirect";
  export Route from "./Route";
  export Router from "./Router";
  export StaticRouter from "./StaticRouter";
  export Switch from "./Switch";
  export generatePath from "./generatePath";
  export matchPath from "./matchPath";
  export withRouter from "./withRouter";
</pre>

<p>çœ‹åˆ° history å¯¹è±¡çš„å®ä¾‹ä¸é…ç½®çš„ mode æœ‰å…³ï¼Œreact-router-dom é€šè¿‡3ç§æ–¹å¼å®ç°äº†è·¯ç”±åˆ‡æ¢ã€‚æˆ‘ä»¬ä»Šå¤©è®²çš„å†…å®¹ç›¸åŒ¹é…çš„æ˜¯ <code>createBrowserHistory</code> çš„å®ç°æ–¹æ¡ˆ (å¦å¤–ä¸¤ä¸ªåˆ†åˆ«æ˜¯ï¼šcreateHashHistoryå’ŒcreateMemoryHistory)ã€‚ è¿™é‡Œ react-router-dom å°† BrowserRouterã€HashRouterã€Link æ‹†åˆ†ä¸ºå•ç‹¬ç»„ä»¶å®ç°ï¼Œä¹Ÿæ˜¯ä¸ react-router 3 ä¹‹é—´çš„åŒºåˆ«ä¹‹ä¸€ã€‚<br><a href="https://github.com/ReactTraining/history#blocking-transitions" target="_blank" rel="noopener">è¯¦ç»†æ–‡æ¡£</a><br>æˆ‘ä»¬æ¥çœ‹ react-router-dom ä¸­çš„ BrowserRouter æºç ï¼š</p>
<pre>
    import warning from "warning";
    import React from "react";
    import PropTypes from "prop-types";
    import { createBrowserHistory as createHistory } from "history";
    import Router from "./Router";

    /**
    * The public API for a <router> that uses HTML5 history.
    */
    class BrowserRouter extends React.Component {
      static propTypes = {
        basename: PropTypes.string,
        forceRefresh: PropTypes.bool,
        getUserConfirmation: PropTypes.func,
        keyLength: PropTypes.number,
        children: PropTypes.node
      };

      history = createHistory(this.props);

      componentWillMount() {
        warning(
          !this.props.history,
          "<browserrouter> ignores the history prop. To use a custom history, " +
            "use `import { Router }` instead of `import { BrowserRouter as Router }`."
        );
      }

      render() {
        return <router history="{this.history}" children="{this.props.children}">;
      }
    }

    export default BrowserRouter;
</router></browserrouter></router></pre>

<p>ç”±ä¸Šå¯çŸ¥æˆ‘ä»¬åœ¨é¡¹ç›®ä¸­ä½¿ç”¨çš„<browserrouter>ç»„ä»¶ï¼Œhistoryæ–¹å¼æ˜¯ä½¿ç”¨äº†ä¸€ä¸ªå«<a href="https://github.com/ReactTraining/history" target="_blank" rel="noopener">history</a>åº“ä¸­çš„ createBrowserHistory æ–¹æ³•ã€‚</browserrouter></p>
<h3 id="æ¨¡æ‹Ÿå•é¡µé¢è·¯ç”±"><a href="#æ¨¡æ‹Ÿå•é¡µé¢è·¯ç”±" class="headerlink" title="æ¨¡æ‹Ÿå•é¡µé¢è·¯ç”±"></a>æ¨¡æ‹Ÿå•é¡µé¢è·¯ç”±</h3><p>é€šè¿‡ä¸Šé¢çš„å­¦ä¹ ï¼Œæˆ‘ä»¬çŸ¥é“äº†ï¼Œå•é¡µé¢åº”ç”¨è·¯ç”±çš„å®ç°åŸç†ï¼Œæˆ‘ä»¬ä¹Ÿå°è¯•å»å®ç°ä¸€ä¸ªã€‚åœ¨åšç®¡ç†ç³»ç»Ÿçš„æ—¶å€™ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šåœ¨é¡µé¢çš„å·¦ä¾§æ”¾ç½®ä¸€ä¸ªå›ºå®šçš„å¯¼èˆª sidebarï¼Œé¡µé¢çš„å³ä¾§æ”¾ä¸ä¹‹åŒ¹é…çš„å†…å®¹ main ã€‚ç‚¹å‡»å¯¼èˆªæ—¶ï¼Œæˆ‘ä»¬åªå¸Œæœ›å†…å®¹è¿›è¡Œæ›´æ–°ï¼Œå¦‚æœåˆ·æ–°äº†æ•´ä¸ªé¡µé¢ï¼Œåˆ°æ—¶å¯¼èˆªå’Œé€šç”¨çš„å¤´éƒ¨åº•éƒ¨ä¹Ÿè¿›è¡Œé‡ç»˜é‡æ’çš„è¯ï¼Œååˆ†æµªè´¹èµ„æºï¼Œä½“éªŒä¹Ÿä¼šä¸å¥½ã€‚è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬å°±èƒ½ç”¨åˆ°æˆ‘ä»¬ä»Šå¤©å­¦ä¹ åˆ°çš„å†…å®¹ï¼Œé€šè¿‡ä½¿ç”¨ HTML5 çš„ pushState æ–¹æ³•å’Œ replaceState æ–¹æ³•æ¥å®ç°ï¼Œ</p>
<p>æ€è·¯ï¼šé¦–å…ˆç»‘å®š click äº‹ä»¶ã€‚å½“ç”¨æˆ·ç‚¹å‡»ä¸€ä¸ªé“¾æ¥æ—¶ï¼Œé€šè¿‡ preventDefault å‡½æ•°é˜²æ­¢é»˜è®¤çš„è¡Œä¸ºï¼ˆé¡µé¢è·³è½¬ï¼‰ï¼ŒåŒæ—¶è¯»å–é“¾æ¥çš„åœ°å€ï¼ˆå¦‚æœæœ‰ jQueryï¼Œå¯ä»¥å†™æˆ$(this).attr(â€˜hrefâ€™)ï¼‰ï¼ŒæŠŠè¿™ä¸ªåœ°å€é€šè¿‡pushStateå¡å…¥æµè§ˆå™¨å†å²è®°å½•ä¸­ï¼Œå†åˆ©ç”¨ AJAX æŠ€æœ¯æ‹‰å–ï¼ˆå¦‚æœæœ‰ jQueryï¼Œå¯ä»¥ä½¿ç”¨$.getæ–¹æ³•ï¼‰è¿™ä¸ªåœ°å€ä¸­çœŸæ­£çš„å†…å®¹ï¼ŒåŒæ—¶æ›¿æ¢å½“å‰ç½‘é¡µçš„å†…å®¹ã€‚</p>
<p>ä¸ºäº†å¤„ç†ç”¨æˆ·å‰è¿›ã€åé€€ï¼Œæˆ‘ä»¬ç›‘å¬ popstate äº‹ä»¶ã€‚å½“ç”¨æˆ·ç‚¹å‡»å‰è¿›æˆ–åé€€æŒ‰é’®æ—¶ï¼Œæµè§ˆå™¨åœ°å€è‡ªåŠ¨è¢«è½¬æ¢æˆç›¸åº”çš„åœ°å€ï¼ŒåŒæ—¶popstateäº‹ä»¶å‘ç”Ÿã€‚åœ¨äº‹ä»¶å¤„ç†å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬æ ¹æ®å½“å‰çš„åœ°å€æŠ“å–ç›¸åº”çš„å†…å®¹ï¼Œç„¶ååˆ©ç”¨ AJAX æ‹‰å–è¿™ä¸ªåœ°å€çš„çœŸæ­£å†…å®¹ï¼Œå‘ˆç°ï¼Œå³å¯ã€‚</p>
<p>æœ€åï¼Œæ•´ä¸ªè¿‡ç¨‹æ˜¯ä¸ä¼šæ”¹å˜é¡µé¢æ ‡é¢˜çš„ï¼Œå¯ä»¥é€šè¿‡ç›´æ¥å¯¹ document.title èµ‹å€¼æ¥æ›´æ”¹é¡µé¢æ ‡é¢˜ã€‚</p>
<h3 id="æ‰©å±•"><a href="#æ‰©å±•" class="headerlink" title="æ‰©å±•"></a>æ‰©å±•</h3><p>å¥½äº†,æˆ‘ä»¬ä»Šå¤©é€šè¿‡å¤šä¸ªæ–¹é¢æ¥è®²äº† pushState æ–¹æ³•å’Œ replaceState çš„åº”ç”¨ï¼Œä½ åº”è¯¥å¯¹è¿™ä¸ªä¸¤ä¸ªæ–¹æ³•èƒ½æœ‰ä¸€ä¸ªæ¯”è¾ƒæ·±åˆ»çš„å°è±¡ï¼Œå¦‚æœæƒ³è¦äº†è§£æ›´å¤šï¼Œä½ å¯ä»¥å‚è€ƒä»¥ä¸‹é“¾æ¥</p>
<p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/History_API" target="_blank" rel="noopener">historyå¯¹è±¡</a></p>
]]></content>
      <tags>
        <tag>react</tag>
      </tags>
  </entry>
  <entry>
    <title>react-routerè§£è¯»ï¼ˆä¸€ï¼‰</title>
    <url>/2018/08/27/react-router%E8%A7%A3%E8%AF%BB%EF%BC%88%E4%B8%80%EF%BC%89/</url>
    <content><![CDATA[<h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>å‰ç«¯è·¯ç”±æ˜¯é€šè¿‡æ”¹å˜URLï¼Œåœ¨ä¸é‡æ–°è¯·æ±‚é¡µé¢çš„æƒ…å†µä¸‹ï¼Œæ›´æ–°é¡µé¢è§†å›¾ã€‚<br>ç›®å‰åœ¨æµè§ˆå™¨ç¯å¢ƒä¸­è¿™ä¸€åŠŸèƒ½çš„å®ç°ä¸»è¦æœ‰2ç§:</p>
<ul>
<li>åˆ©ç”¨URLä¸­çš„hash</li>
<li>åˆ©ç”¨H5ä¸­history</li>
</ul>
<h3 id="pushState-å’Œ-replaceState-äº†è§£ä¸€ä¸‹"><a href="#pushState-å’Œ-replaceState-äº†è§£ä¸€ä¸‹" class="headerlink" title="pushState å’Œ replaceState äº†è§£ä¸€ä¸‹"></a>pushState å’Œ replaceState äº†è§£ä¸€ä¸‹</h3><blockquote>
<p>history æä¾›äº†ä¸¤ä¸ªæ–¹æ³•ï¼Œèƒ½å¤Ÿæ— åˆ·æ–°çš„ä¿®æ”¹ç”¨æˆ·çš„æµè§ˆè®°å½•ï¼ŒpushSateï¼Œå’Œ replaceStateï¼ŒåŒºåˆ«çš„ pushState åœ¨ç”¨æˆ·è®¿é—®é¡µé¢åé¢æ·»åŠ ä¸€ä¸ªè®¿é—®è®°å½•ï¼Œ replaceState åˆ™æ˜¯ç›´æ¥æ›¿æ¢äº†å½“å‰è®¿é—®è®°å½•</p>
</blockquote>
<p>history å¯¹è±¡çš„è¯¦ç»†ä¿¡æ¯å·²ç»æœ‰å¾ˆå¤šå¾ˆå¥½å¾ˆè¯¦ç»†çš„ä»‹ç»æ–‡çŒ®ï¼Œè¿™é‡Œä¸å†åšæ€»ç»“<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/History_API" target="_blank" rel="noopener">historyå¯¹è±¡</a></p>
<h4 id="history-pushState"><a href="#history-pushState" class="headerlink" title="history.pushState"></a>history.pushState</h4><p>history.pushStateæ–¹æ³•æ¥å—ä¸‰ä¸ªå‚æ•°ï¼Œä¾æ¬¡ä¸ºï¼š</p>
<blockquote>
<p>stateï¼šä¸€ä¸ªä¸æŒ‡å®šç½‘å€ç›¸å…³çš„çŠ¶æ€å¯¹è±¡ï¼Œpopstateäº‹ä»¶è§¦å‘æ—¶ï¼Œè¯¥å¯¹è±¡ä¼šä¼ å…¥å›è°ƒå‡½æ•°ã€‚å¦‚æœä¸éœ€è¦è¿™ä¸ªå¯¹è±¡ï¼Œæ­¤å¤„å¯ä»¥å¡«nullã€‚<br>titleï¼šæ–°é¡µé¢çš„æ ‡é¢˜ï¼Œä½†æ˜¯æ‰€æœ‰æµè§ˆå™¨ç›®å‰éƒ½å¿½ç•¥è¿™ä¸ªå€¼ï¼Œå› æ­¤è¿™é‡Œå¯ä»¥å¡«nullã€‚<br>urlï¼šæ–°çš„ç½‘å€ï¼Œå¿…é¡»ä¸å½“å‰é¡µé¢å¤„åœ¨åŒä¸€ä¸ªåŸŸã€‚æµè§ˆå™¨çš„åœ°å€æ å°†æ˜¾ç¤ºè¿™ä¸ªç½‘å€ã€‚<br>å‡å®šå½“å‰ç½‘å€æ˜¯example.com/1.htmlï¼Œæˆ‘ä»¬ä½¿ç”¨pushStateæ–¹æ³•åœ¨æµè§ˆè®°å½•ï¼ˆhistoryå¯¹è±¡ï¼‰ä¸­æ·»åŠ ä¸€ä¸ªæ–°è®°å½•ã€‚</p>
</blockquote>
<pre>
    var stateObj = { foo: 'bar' };
    history.pushState(stateObj, 'page 2', '2.html');
</pre>

<p>æ·»åŠ ä¸Šé¢è¿™ä¸ªæ–°è®°å½•åï¼Œæµè§ˆå™¨åœ°å€æ ç«‹åˆ»æ˜¾ç¤º example.com/2.htmlï¼Œä½†å¹¶ä¸ä¼šè·³è½¬åˆ° 2.htmlï¼Œç”šè‡³ä¹Ÿä¸ä¼šæ£€æŸ¥2.html æ˜¯å¦å­˜åœ¨ï¼Œå®ƒåªæ˜¯æˆä¸ºæµè§ˆå†å²ä¸­çš„æœ€æ–°è®°å½•ã€‚è¿™æ—¶ï¼Œä½ åœ¨åœ°å€æ è¾“å…¥ä¸€ä¸ªæ–°çš„åœ°å€(æ¯”å¦‚è®¿é—® google.com )ï¼Œç„¶åç‚¹å‡»äº†å€’é€€æŒ‰é’®ï¼Œé¡µé¢çš„ URL å°†æ˜¾ç¤º 2.htmlï¼›ä½ å†ç‚¹å‡»ä¸€æ¬¡å€’é€€æŒ‰é’®ï¼ŒURL å°†æ˜¾ç¤º 1.htmlã€‚</p>
<p>æ€»ä¹‹ï¼ŒpushState æ–¹æ³•ä¸ä¼šè§¦å‘é¡µé¢åˆ·æ–°ï¼Œåªæ˜¯å¯¼è‡´ history å¯¹è±¡å‘ç”Ÿå˜åŒ–ï¼Œåœ°å€æ ä¼šæœ‰ååº”ã€‚</p>
<p>å¦‚æœ pushState çš„ urlå‚æ•°ï¼Œè®¾ç½®äº†ä¸€ä¸ªæ–°çš„é”šç‚¹å€¼ï¼ˆå³hashï¼‰ï¼Œå¹¶ä¸ä¼šè§¦å‘ hashchange äº‹ä»¶ã€‚å¦‚æœè®¾ç½®äº†ä¸€ä¸ªè·¨åŸŸç½‘å€ï¼Œåˆ™ä¼šæŠ¥é”™ã€‚</p>
<pre>
    // æŠ¥é”™
    history.pushState(null, null, 'https://twitter.com/hello');

    ä¸Šé¢ä»£ç ä¸­ï¼ŒpushStateæƒ³è¦æ’å…¥ä¸€ä¸ªè·¨åŸŸçš„ç½‘å€ï¼Œå¯¼è‡´æŠ¥é”™ã€‚è¿™æ ·è®¾è®¡çš„ç›®çš„æ˜¯ï¼Œé˜²æ­¢æ¶æ„ä»£ç è®©ç”¨æˆ·ä»¥ä¸ºä»–ä»¬æ˜¯åœ¨å¦ä¸€ä¸ªç½‘ç«™ä¸Šã€‚
</pre>

<h4 id="history-replaceState"><a href="#history-replaceState" class="headerlink" title="history.replaceState"></a>history.replaceState</h4><p>history.replaceState æ–¹æ³•çš„å‚æ•°ä¸ pushState æ–¹æ³•ä¸€æ¨¡ä¸€æ ·ï¼ŒåŒºåˆ«æ˜¯å®ƒä¿®æ”¹æµè§ˆå†å²ä¸­å½“å‰çºªå½•,å‡å®šå½“å‰ç½‘é¡µæ˜¯ example.com/example.htmlã€‚</p>
<pre>
    history.pushState({page: 1}, 'title 1', '?page=1');
    history.pushState({page: 2}, 'title 2', '?page=2');
    history.replaceState({page: 3}, 'title 3', '?page=3');

    history.back()
    // urlæ˜¾ç¤ºä¸ºhttp://example.com/example.html?page=1

    history.back()
    // urlæ˜¾ç¤ºä¸ºhttp://example.com/example.html

    history.go(2)
    // urlæ˜¾ç¤ºä¸ºhttp://example.com/example.html?page=3

</pre>]]></content>
      <tags>
        <tag>react</tag>
      </tags>
  </entry>
  <entry>
    <title>react-routerè§£è¯»ï¼ˆä¸‰ï¼‰</title>
    <url>/2018/08/28/react-router%E8%A7%A3%E8%AF%BB%EF%BC%88%E4%B8%89%EF%BC%89/</url>
    <content><![CDATA[<h2 id="history-methods-createBrowserHistory"><a href="#history-methods-createBrowserHistory" class="headerlink" title="history methods createBrowserHistory"></a>history methods createBrowserHistory</h2><p>é€šè¿‡ä¹‹å‰æˆ‘ä»¬å·²ç»çŸ¥é“äº†react-router-domçš„<browserrouter> historyæ¨¡å¼ä½¿ç”¨çš„æ˜¯historyåº“ä¸­çš„createBrowserHistoryæ–¹æ³•ã€‚ä¸‹é¢æˆ‘ä»¬æ¥ä¸€èµ·çœ‹çœ‹å…¶ä¸­çš„å¥¥ç§˜ã€‚</browserrouter></p>
<pre>
  var createBrowserHistory = function createBrowserHistory() {
    //  arguments[0], ç”±ä¸Šä¸€èŠ‚å¯çŸ¥å®ƒæ˜¯ä¸€ä¸ªéå¿…ä¼ çš„object
    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};

    (0, _invariant2.default)(_DOMUtils.canUseDOM, 'Browser history needs a DOM');
    //  ä¹‹å‰å°†historyèµ‹å€¼ç»™å˜é‡globalHistory
    var globalHistory = window.history;
    //  _DOMUtils.js ä¸­å¤„ç†ä¸€äº›æµè§ˆå™¨å…¼å®¹æ€§ å’Œ æµè§ˆå™¨å†…æ ¸ã€æœºå‹åˆ¤æ–­çš„æ–¹æ³•
    //  åˆ¤æ–­æ˜¯å¦éä¸»æµæœºå‹ä»¥åŠæµè§ˆå™¨
    var canUseHistory = (0, _DOMUtils.supportsHistory)();
    //  æ˜¯å¦ä¸ºIEæµè§ˆå™¨
    var needsHashChangeListener = !(0, _DOMUtils.supportsPopStateOnHashChange)();
    //  forceRefreshä¸ºtrueï¼Œä»£è¡¨å°†åœ¨é¡µé¢å¯¼èˆªæ—¶ä½¿ç”¨å®Œæ•´é¡µé¢åˆ·æ–°ã€‚å…¶ä»–å‚æ•°è¯·è‡ªè¡Œå‚è€ƒå®˜ç½‘æ–‡æ¡£
    var _props$forceRefresh = props.forceRefresh,
        forceRefresh = _props$forceRefresh === undefined ? false : _props$forceRefresh,
        _props$getUserConfirm = props.getUserConfirmation,
        getUserConfirmation = _props$getUserConfirm === undefined ? _DOMUtils.getConfirmation : _props$getUserConfirm,
        _props$keyLength = props.keyLength,
        keyLength = _props$keyLength === undefined ? 6 : _props$keyLength;

    var basename = props.basename ? (0, _PathUtils.stripTrailingSlash)((0, _PathUtils.addLeadingSlash)(props.basename)) : '';

    var getDOMLocation = function getDOMLocation(historyState) {
      var _ref = historyState || {},
          key = _ref.key,
          state = _ref.state;

      var _window$location = window.location,
          pathname = _window$location.pathname,
          search = _window$location.search,
          hash = _window$location.hash;

      var path = pathname + search + hash;

      (0, _warning2.default)(!basename || (0, _PathUtils.hasBasename)(path, basename), 'You are attempting to use a basename on a page whose URL path does not begin ' + 'with the basename. Expected path "' + path + '" to begin with "' + basename + '".');

      if (basename) path = (0, _PathUtils.stripBasename)(path, basename);

      return (0, _LocationUtils.createLocation)(path, state, key);
    };

    var createKey = function createKey() {
      return Math.random().toString(36).substr(2, keyLength);
    };

    var transitionManager = (0, _createTransitionManager2.default)();

    var setState = function setState(nextState) {
      _extends(history, nextState);

      history.length = globalHistory.length;

      transitionManager.notifyListeners(history.location, history.action);
    };

    var handlePopState = function handlePopState(event) {
      if ((0, _DOMUtils.isExtraneousPopstateEvent)(event)) return;

      handlePop(getDOMLocation(event.state));
    };

    var handleHashChange = function handleHashChange() {
      handlePop(getDOMLocation(getHistoryState()));
    };

    var forceNextPop = false;

    var handlePop = function handlePop(location) {
      if (forceNextPop) {
        forceNextPop = false;
        setState();
      } else {
        var action = 'POP';

        transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {
          if (ok) {
            setState({ action: action, location: location });
          } else {
            revertPop(location);
          }
        });
      }
    };

    var revertPop = function revertPop(fromLocation) {
      var toLocation = history.location;

      // TODO: We could probably make this more reliable by
      // keeping a list of keys we've seen in sessionStorage.
      // Instead, we just default to 0 for keys we don't know.

      var toIndex = allKeys.indexOf(toLocation.key);

      if (toIndex === -1) toIndex = 0;

      var fromIndex = allKeys.indexOf(fromLocation.key);

      if (fromIndex === -1) fromIndex = 0;

      var delta = toIndex - fromIndex;

      if (delta) {
        forceNextPop = true;
        go(delta);
      }
    };

    var initialLocation = getDOMLocation(getHistoryState());
    var allKeys = [initialLocation.key];

    var createHref = function createHref(location) {
      return basename + (0, _PathUtils.createPath)(location);
    };

    var push = function push(path, state) {
      (0, _warning2.default)(!((typeof path === 'undefined' ? 'undefined' : _typeof(path)) === 'object' && path.state !== undefined && state !== undefined), 'You should avoid providing a 2nd state argument to push when the 1st ' + 'argument is a location-like object that already has state; it is ignored');

      var action = 'PUSH';
      //  é‡å†™locationå¯¹è±¡
      var location = (0, _LocationUtils.createLocation)(path, state, createKey(), history.location);

      transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {
        if (!ok) return;

        var href = createHref(location);
        var key = location.key,
            state = location.state;

        if (canUseHistory) {
          globalHistory.pushState({ key: key, state: state }, null, href);

          if (forceRefresh) {
            window.location.href = href;
          } else {
            var prevIndex = allKeys.indexOf(history.location.key);
            var nextKeys = allKeys.slice(0, prevIndex === -1 ? 0 : prevIndex + 1);

            nextKeys.push(location.key);
            allKeys = nextKeys;

            setState({ action: action, location: location });
          }
        } else {
          (0, _warning2.default)(state === undefined, 'Browser history cannot push state in browsers that do not support HTML5 history');

          window.location.href = href;
        }
      });
    };

    var replace = function replace(path, state) {
      (0, _warning2.default)(!((typeof path === 'undefined' ? 'undefined' : _typeof(path)) === 'object' && path.state !== undefined && state !== undefined), 'You should avoid providing a 2nd state argument to replace when the 1st ' + 'argument is a location-like object that already has state; it is ignored');

      var action = 'REPLACE';
      var location = (0, _LocationUtils.createLocation)(path, state, createKey(), history.location);

      transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {
        if (!ok) return;

        var href = createHref(location);
        var key = location.key,
            state = location.state;


        if (canUseHistory) {
          globalHistory.replaceState({ key: key, state: state }, null, href);

          if (forceRefresh) {
            window.location.replace(href);
          } else {
            var prevIndex = allKeys.indexOf(history.location.key);

            if (prevIndex !== -1) allKeys[prevIndex] = location.key;

            setState({ action: action, location: location });
          }
        } else {
          (0, _warning2.default)(state === undefined, 'Browser history cannot replace state in browsers that do not support HTML5 history');

          window.location.replace(href);
        }
      });
    };

    var go = function go(n) {
      globalHistory.go(n);
    };

    var goBack = function goBack() {
      return go(-1);
    };

    var goForward = function goForward() {
      return go(1);
    };

    var listenerCount = 0;

    var checkDOMListeners = function checkDOMListeners(delta) {
      listenerCount += delta;

      if (listenerCount === 1) {
        (0, _DOMUtils.addEventListener)(window, PopStateEvent, handlePopState);

        if (needsHashChangeListener) (0, _DOMUtils.addEventListener)(window, HashChangeEvent, handleHashChange);
      } else if (listenerCount === 0) {
        (0, _DOMUtils.removeEventListener)(window, PopStateEvent, handlePopState);

        if (needsHashChangeListener) (0, _DOMUtils.removeEventListener)(window, HashChangeEvent, handleHashChange);
      }
    };

    var isBlocked = false;

    var block = function block() {
      var prompt = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;

      var unblock = transitionManager.setPrompt(prompt);

      if (!isBlocked) {
        checkDOMListeners(1);
        isBlocked = true;
      }

      return function () {
        if (isBlocked) {
          isBlocked = false;
          checkDOMListeners(-1);
        }

        return unblock();
      };
    };

    var listen = function listen(listener) {
      var unlisten = transitionManager.appendListener(listener);
      checkDOMListeners(1);

      return function () {
        checkDOMListeners(-1);
        unlisten();
      };
    };

    var history = {
      length: globalHistory.length,
      action: 'POP',
      location: initialLocation,
      createHref: createHref,
      push: push,
      replace: replace,
      go: go,
      goBack: goBack,
      goForward: goForward,
      block: block,
      listen: listen
    };

    return history;
  };
</pre>
]]></content>
      <tags>
        <tag>react</tag>
      </tags>
  </entry>
  <entry>
    <title>iframeçš„ä¼˜ç¼ºç‚¹</title>
    <url>/2019/10/09/2019/%E6%B5%85%E8%B0%88iframe/</url>
    <content><![CDATA[<h1 id="iframeçš„ä¼˜ç¼ºç‚¹"><a href="#iframeçš„ä¼˜ç¼ºç‚¹" class="headerlink" title="iframeçš„ä¼˜ç¼ºç‚¹"></a>iframeçš„ä¼˜ç¼ºç‚¹</h1><h2 id="iframeçš„ä¼˜ç‚¹ï¼š"><a href="#iframeçš„ä¼˜ç‚¹ï¼š" class="headerlink" title="iframeçš„ä¼˜ç‚¹ï¼š"></a>iframeçš„ä¼˜ç‚¹ï¼š</h2><ol>
<li><p>iframeèƒ½å¤ŸåŸå°ä¸åŠ¨çš„æŠŠåµŒå…¥çš„ç½‘é¡µå±•ç°å‡ºæ¥ã€‚</p>
</li>
<li><p>å¦‚æœæœ‰å¤šä¸ªç½‘é¡µå¼•ç”¨iframeï¼Œé‚£ä¹ˆä½ åªéœ€è¦ä¿®æ”¹iframeçš„å†…å®¹ï¼Œå°±å¯ä»¥å®ç°è°ƒç”¨çš„æ¯ä¸€ä¸ªé¡µé¢å†…å®¹çš„æ›´æ”¹ï¼Œæ–¹ä¾¿å¿«æ·ã€‚</p>
</li>
<li><p>ç½‘é¡µå¦‚æœä¸ºäº†ç»Ÿä¸€é£æ ¼ï¼Œå¤´éƒ¨å’Œç‰ˆæœ¬éƒ½æ˜¯ä¸€æ ·çš„ï¼Œå°±å¯ä»¥å†™æˆä¸€ä¸ªé¡µé¢ï¼Œç”¨iframeæ¥åµŒå¥—ï¼Œå¯ä»¥å¢åŠ ä»£ç çš„å¯é‡ç”¨ã€‚</p>
</li>
<li><p>å¦‚æœé‡åˆ°åŠ è½½ç¼“æ…¢çš„ç¬¬ä¸‰æ–¹å†…å®¹å¦‚å›¾æ ‡å’Œå¹¿å‘Šï¼Œè¿™äº›é—®é¢˜å¯ä»¥ç”±iframeæ¥è§£å†³ã€‚</p>
</li>
</ol>
<h2 id="iframeçš„ç¼ºç‚¹ï¼š"><a href="#iframeçš„ç¼ºç‚¹ï¼š" class="headerlink" title="iframeçš„ç¼ºç‚¹ï¼š"></a>iframeçš„ç¼ºç‚¹ï¼š</h2><ol>
<li><p>ä¼šäº§ç”Ÿå¾ˆå¤šé¡µé¢ï¼Œä¸å®¹æ˜“ç®¡ç†ã€‚</p>
</li>
<li><p>iframeæ¡†æ¶ç»“æ„æœ‰æ—¶ä¼šè®©äººæ„Ÿåˆ°è¿·æƒ‘ï¼Œå¦‚æœæ¡†æ¶ä¸ªæ•°å¤šçš„è¯ï¼Œå¯èƒ½ä¼šå‡ºç°ä¸Šä¸‹ã€å·¦å³æ»šåŠ¨æ¡ï¼Œä¼šåˆ†æ•£è®¿é—®è€…çš„æ³¨æ„åŠ›ï¼Œç”¨æˆ·ä½“éªŒåº¦å·®ã€‚</p>
</li>
<li><p>ä»£ç å¤æ‚ï¼Œæ— æ³•è¢«ä¸€äº›æœç´¢å¼•æ“ç´¢å¼•åˆ°ï¼Œè¿™ä¸€ç‚¹å¾ˆå…³é”®ï¼Œç°åœ¨çš„æœç´¢å¼•æ“çˆ¬è™«è¿˜ä¸èƒ½å¾ˆå¥½çš„å¤„ç†iframeä¸­çš„å†…å®¹ï¼Œæ‰€ä»¥ä½¿ç”¨iframeä¼šä¸åˆ©äºæœç´¢å¼•æ“ä¼˜åŒ–ã€‚</p>
</li>
<li><p>å¾ˆå¤šçš„ç§»åŠ¨è®¾å¤‡ï¼ˆPDA æ‰‹æœºï¼‰æ— æ³•å®Œå…¨æ˜¾ç¤ºæ¡†æ¶ï¼Œè®¾å¤‡å…¼å®¹æ€§å·®ã€‚</p>
</li>
<li><p>iframeæ¡†æ¶é¡µé¢ä¼šå¢åŠ æœåŠ¡å™¨çš„httpè¯·æ±‚ï¼Œå¯¹äºå¤§å‹ç½‘ç«™ä¸æ˜¯å¯å–çš„ã€‚</p>
</li>
</ol>
<h3 id="iframeè¿ç§»é—®é¢˜ä»¥åŠè§£å†³æ–¹æ¡ˆ"><a href="#iframeè¿ç§»é—®é¢˜ä»¥åŠè§£å†³æ–¹æ¡ˆ" class="headerlink" title="iframeè¿ç§»é—®é¢˜ä»¥åŠè§£å†³æ–¹æ¡ˆ"></a>iframeè¿ç§»é—®é¢˜ä»¥åŠè§£å†³æ–¹æ¡ˆ</h3><ol>
<li>import React, { propTypes } from â€˜reactâ€™;</li>
</ol>
<p>error: PropTypes is undefined;</p>
<p>å‡ºç°åŸå› : Reactåœ¨æ–°ç‰ˆæœ¬ä¸­åºŸå¼ƒäº†é›†æˆç±»ä¼¼propTypesè¿™ç§ç¬¬ä¸‰æ–¹åº“æ–¹æ¡ˆã€‚</p>
<p>è§£å†³æ–¹æ¡ˆ: æ–°ä»“åº“ä½¿ç”¨çš„reactç‰ˆæœ¬è¾ƒé«˜ï¼Œä»¥ä¸Šæ–¹å¼å·²è¢«åºŸå¼ƒï¼Œåº”ä½¿ç”¨</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> PropTypes <span class="keyword">from</span> <span class="string">'prop-types'</span>;</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>import â€˜./style.lessâ€™;</li>
</ol>
<p>error: æ ·å¼å¤±æ•ˆé—®é¢˜ã€‚</p>
<p>å‡ºç°åŸå› : æ–°é¡¹ç›®ä¸­å¼€å¯äº†css-moduleï¼Œéœ€è¦é€šè¿‡é…ç½®:globalæ¥å£°æ˜ä¸€ä¸ªå…¨å±€classï¼Œä½¿å…¶åœ¨å…¨å±€èµ·ä½œç”¨ã€‚</p>
<p>è§£å†³æ–¹æ¡ˆ1:</p>
<figure class="highlight less"><table><tr><td class="code"><pre><span class="line">### <span class="selector-tag">style</span><span class="selector-class">.less</span></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.content</span> &#123;</span><br><span class="line">    <span class="selector-pseudo">:global</span> &#123;</span><br><span class="line">        <span class="selector-class">.items</span> &#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> styles <span class="keyword">from</span> <span class="string">'./style.less'</span>;</span><br><span class="line"></span><br><span class="line">&lt;div className=&#123;styles.content&#125;&gt;</span><br><span class="line">    &lt;div className=<span class="string">"items"</span>&gt;&lt;/div&gt;</span><br><span class="line">&lt;<span class="regexp">/div&gt;</span></span><br></pre></td></tr></table></figure>
<p>è§£å†³æ–¹æ¡ˆ2:</p>
<figure class="highlight less"><table><tr><td class="code"><pre><span class="line"># <span class="selector-tag">style</span><span class="selector-class">.less</span></span><br><span class="line"></span><br><span class="line"><span class="selector-pseudo">:global</span> &#123;</span><br><span class="line">    <span class="selector-class">.content</span> &#123;</span><br><span class="line">        <span class="selector-class">.items</span> &#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'./style.less'</span>;</span><br><span class="line">&lt;div className=<span class="string">"content"</span>&gt;</span><br><span class="line">    &lt;div className=<span class="string">"items"</span>&gt;&lt;/div&gt;</span><br><span class="line">&lt;<span class="regexp">/div&gt;</span></span><br></pre></td></tr></table></figure>
<p>æ¨èä½¿ç”¨æ–¹æ¡ˆ1ï¼Œå¯ä»¥åˆ©ç”¨css-moduleçš„å‘½åè§„åˆ™å‡å°‘é¡¹ç›®ä¸­æ ·å¼çš„å†²çªé—®é¢˜ã€‚æ–¹æ¡ˆ2æ”¹åŠ¨å°ä½†æ˜¯å¤ªæš´åŠ›ï¼Œéå¸¸å¯èƒ½äº§ç”Ÿæ ·å¼å†²çªé—®é¢˜ã€‚</p>
<ol start="3">
<li>commå’Œcomponentsä¸­ç»„ä»¶å‡ºç°ä¸å¯ç”¨æƒ…å†µã€‚</li>
</ol>
<p>error: åŠŸèƒ½ä¸å¯ç”¨æƒ…å†µã€‚</p>
<p>è§£å†³æ–¹æ¡ˆ: å»ºè®®ç›´æ¥ä½¿ç”¨antdæ›¿æ¢ï¼Œéœ€è¦èŠ±ä¸Šä¸€ç‚¹æ—¶é—´å¯¹åº”antd apiåšä¸€å®šä»£ç é‡æ„ã€‚(!è¿™å—éœ€è¦ä»”ç»†æ•ˆéªŒåŠŸèƒ½æ˜¯å¦æ­£å¸¸)</p>
<ol start="4">
<li>ec_feä¸­ä½¿ç”¨äº†Component.contextTypesã€‚</li>
</ol>
<p>ä¾‹å¦‚ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">Manage.contextTypes = &#123;</span><br><span class="line">    history: PropTypes.object.isRequired,</span><br><span class="line">    store: PropTypes.object.isRequired</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>Warning: Failed context type: The context <code>history</code> is marked as required in <code>Connect(ContractReview)</code>, but its value is <code>undefined</code>.</p>
<p>è§£å†³æ–¹æ¡ˆï¼šæ‹†åˆ†å‡ºå»çš„ä»“åº“ï¼Œreact-routerç‰ˆæœ¬ä½¿ç”¨çš„æ˜¯4.xï¼Œå·²ç»ä¸éœ€è¦åƒè€ç‰ˆæœ¬ä¸€æ ·ä¸€å±‚å±‚ä¼ é€’historyæˆ–è€…ç»‘å®šåœ¨Contextä¸Šå…±äº«çš„æ–¹å¼ã€‚</p>
<ol start="5">
<li>ec_feä¸­ä½¿ç”¨äº†this.props.routerç­‰è·¯ç”±api</li>
</ol>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">this</span>.props.router.replace(&#123;</span><br><span class="line">    pathname: <span class="string">`/admin/web/packageconfig/function.html`</span>,</span><br><span class="line">    query: &#123;</span><br><span class="line">        id: moduleList[<span class="number">0</span>].f_id,</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>é”™è¯¯ï¼šindex.jsx:59 Uncaught TypeError: Cannot read property â€˜replaceâ€™ of undefined</p>
<p>è§£å†³æ–¹æ¡ˆï¼šæ‹†åˆ†å‡ºå»çš„ä»“åº“ï¼Œreact-routerç‰ˆæœ¬ä½¿ç”¨çš„æ˜¯4.xï¼Œè¯·ä½¿ç”¨react-router-domæä¾›çš„apiä¿®æ”¹ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">this</span>.props.history.replace(&#123;</span><br><span class="line">    pathname: <span class="string">`/packageconfig/funModule`</span>,</span><br><span class="line">    search: <span class="string">`id=<span class="subst">$&#123;moduleList[<span class="number">0</span>].f_id&#125;</span>`</span>,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h4 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h4><ul>
<li><a href="https://www.jianshu.com/p/8fbee843437c" target="_blank" rel="noopener">æµ…è°ˆiframe</a></li>
<li><a href="https://reacttraining.com/react-router/web/api/history/history-is-mutable" target="_blank" rel="noopener">react-router-dom</a></li>
</ul>
]]></content>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title>Symbolçš„åº”ç”¨åœºæ™¯</title>
    <url>/2020/02/20/2020/2%E6%9C%88/0220/</url>
    <content><![CDATA[<h4 id="Symbolçš„åº”ç”¨åœºæ™¯"><a href="#Symbolçš„åº”ç”¨åœºæ™¯" class="headerlink" title="Symbolçš„åº”ç”¨åœºæ™¯"></a>Symbolçš„åº”ç”¨åœºæ™¯</h4><h5 id="åº”ç”¨åœºæ™¯1ï¼šä½¿ç”¨Symbolæ¥ä½œä¸ºå¯¹è±¡å±æ€§åï¼ˆkeyï¼‰"><a href="#åº”ç”¨åœºæ™¯1ï¼šä½¿ç”¨Symbolæ¥ä½œä¸ºå¯¹è±¡å±æ€§åï¼ˆkeyï¼‰" class="headerlink" title="åº”ç”¨åœºæ™¯1ï¼šä½¿ç”¨Symbolæ¥ä½œä¸ºå¯¹è±¡å±æ€§åï¼ˆkeyï¼‰"></a>åº”ç”¨åœºæ™¯1ï¼šä½¿ç”¨Symbolæ¥ä½œä¸ºå¯¹è±¡å±æ€§åï¼ˆkeyï¼‰</h5><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">  [<span class="built_in">Symbol</span>()]: <span class="string">'test'</span>,</span><br><span class="line">  a: <span class="number">1</span>,</span><br><span class="line">  b: <span class="number">2</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.keys(obj); <span class="comment">// ['a', 'b']</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> p <span class="keyword">in</span> obj) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(p);   <span class="comment">//  åˆ†åˆ«è¾“å‡º: a å’Œ b</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.getOwnPropertyNames(obj);  <span class="comment">//   ['a', 'b']</span></span><br></pre></td></tr></table></figure>
<p>ç”±ä¸Šä»£ç å¯çŸ¥ï¼ŒSymbolç±»å‹çš„keyæ˜¯ä¸èƒ½é€šè¿‡Object.keys()æˆ–è€…forâ€¦inæ¥æšä¸¾çš„ï¼Œå®ƒæœªè¢«åŒ…å«å¯¹è±¡è‡ªèº«çš„å±æ€§åé›†åˆï¼ˆproperty namesï¼‰ä¹‹ä¸­ã€‚æ‰€ä»¥ï¼Œåˆ©ç”¨è¯¥ç‰¹æ€§ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠä¸€äº›ä¸éœ€è¦å¯¹å¤–æ“ä½œå’Œè®¿é—®çš„å±æ€§ä½¿ç”¨Symbolæ¥å®šä¹‰ã€‚</p>
<h5 id="åº”ç”¨åœºæ™¯2ï¼šä½¿ç”¨Symbolæ¥æ›¿ä»£å¸¸é‡"><a href="#åº”ç”¨åœºæ™¯2ï¼šä½¿ç”¨Symbolæ¥æ›¿ä»£å¸¸é‡" class="headerlink" title="åº”ç”¨åœºæ™¯2ï¼šä½¿ç”¨Symbolæ¥æ›¿ä»£å¸¸é‡"></a>åº”ç”¨åœºæ™¯2ï¼šä½¿ç”¨Symbolæ¥æ›¿ä»£å¸¸é‡</h5><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> TYPE_AUDIO = <span class="string">'AUDIO'</span></span><br><span class="line"><span class="keyword">const</span> TYPE_VIDEO = <span class="string">'VIDEO'</span></span><br><span class="line"><span class="keyword">const</span> TYPE_IMAGE = <span class="string">'IMAGE'</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">handleFileResource</span>(<span class="params">resource</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">switch</span>(resource.type) &#123;</span><br><span class="line">    <span class="keyword">case</span> TYPE_AUDIO:</span><br><span class="line">      playAudio(resource)</span><br><span class="line">      <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">case</span> TYPE_VIDEO:</span><br><span class="line">      playVideo(resource)</span><br><span class="line">      <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">case</span> TYPE_IMAGE:</span><br><span class="line">      previewImage(resource)</span><br><span class="line">      <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'Unknown type of resource'</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¦‚ä¸Šé¢çš„ä»£ç ä¸­é‚£æ ·ï¼Œæˆ‘ä»¬ç»å¸¸å®šä¹‰ä¸€ç»„å¸¸é‡æ¥ä»£è¡¨ä¸€ç§ä¸šåŠ¡é€»è¾‘ä¸‹çš„å‡ ä¸ªä¸åŒç±»å‹ï¼Œæˆ‘ä»¬é€šå¸¸å¸Œæœ›è¿™å‡ ä¸ªå¸¸é‡ä¹‹é—´æ˜¯å”¯ä¸€çš„å…³ç³»ï¼Œå¸¸é‡å°‘çš„æ—¶å€™è¿˜ç®—å¥½ï¼Œä½†æ˜¯å¸¸é‡ä¸€å¤šï¼Œä½ å¯èƒ½è¿˜å¾—èŠ±ç‚¹è„‘å­å¥½å¥½ä¸ºä»–ä»¬å–ä¸ªå¥½ç‚¹çš„åå­—ã€‚</p>
<p>ç°åœ¨æœ‰äº†Symbolï¼Œæˆ‘ä»¬å¤§å¯ä¸å¿…è¿™ä¹ˆéº»çƒ¦äº†ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> TYPE_AUDIO = <span class="built_in">Symbol</span>()</span><br><span class="line"><span class="keyword">const</span> TYPE_VIDEO = <span class="built_in">Symbol</span>()</span><br><span class="line"><span class="keyword">const</span> TYPE_IMAGE = <span class="built_in">Symbol</span>()</span><br></pre></td></tr></table></figure>
<h5 id="åº”ç”¨åœºæ™¯3ï¼šä½¿ç”¨Symbolå®šä¹‰ç±»çš„ç§æœ‰å±æ€§-æ–¹æ³•"><a href="#åº”ç”¨åœºæ™¯3ï¼šä½¿ç”¨Symbolå®šä¹‰ç±»çš„ç§æœ‰å±æ€§-æ–¹æ³•" class="headerlink" title="åº”ç”¨åœºæ™¯3ï¼šä½¿ç”¨Symbolå®šä¹‰ç±»çš„ç§æœ‰å±æ€§/æ–¹æ³•"></a>åº”ç”¨åœºæ™¯3ï¼šä½¿ç”¨Symbolå®šä¹‰ç±»çš„ç§æœ‰å±æ€§/æ–¹æ³•</h5><p>ä½¿ç”¨çš„å°‘</p>
<h3 id="å½»åº•ææ‡‚æµè§ˆå™¨Event-loop"><a href="#å½»åº•ææ‡‚æµè§ˆå™¨Event-loop" class="headerlink" title="å½»åº•ææ‡‚æµè§ˆå™¨Event-loop"></a>å½»åº•ææ‡‚æµè§ˆå™¨Event-loop</h3><h4 id="1-é¢„å¤‡çŸ¥è¯†"><a href="#1-é¢„å¤‡çŸ¥è¯†" class="headerlink" title="1. é¢„å¤‡çŸ¥è¯†"></a>1. é¢„å¤‡çŸ¥è¯†</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">JavaScriptçš„è¿è¡Œæœºåˆ¶</span><br></pre></td></tr></table></figure>
<p>(1) æ‰€æœ‰åŒæ­¥ä»»åŠ¡éƒ½åœ¨ä¸»çº¿ç¨‹ä¸Šæ‰§è¡Œï¼Œå½¢æˆä¸€ä¸ªæ‰§è¡Œæ ˆï¼ˆexecution context stackï¼‰ã€‚<br>(2) ä¸»çº¿ç¨‹ä¹‹å¤–ï¼Œè¿˜å­˜åœ¨â€ä»»åŠ¡é˜Ÿåˆ—â€ï¼ˆtask queueï¼‰ã€‚åªè¦å¼‚æ­¥ä»»åŠ¡æœ‰äº†è¿è¡Œç»“æœï¼Œå°±åœ¨â€ä»»åŠ¡é˜Ÿåˆ—â€ä¹‹ä¸­æ”¾ç½®ä¸€ä¸ªäº‹ä»¶ã€‚<br>(3) ä¸€æ—¦â€æ‰§è¡Œæ ˆâ€ä¸­çš„æ‰€æœ‰åŒæ­¥ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼Œç³»ç»Ÿå°±ä¼šè¯»å–â€ä»»åŠ¡é˜Ÿåˆ—â€ï¼Œçœ‹çœ‹é‡Œé¢æœ‰å“ªäº›äº‹ä»¶ã€‚é‚£äº›å¯¹åº”çš„å¼‚æ­¥ä»»åŠ¡ï¼Œäºæ˜¯ç»“æŸç­‰å¾…çŠ¶æ€ï¼Œè¿›å…¥æ‰§è¡Œæ ˆï¼Œå¼€å§‹æ‰§è¡Œã€‚<br>(4) ä¸»çº¿ç¨‹ä¸æ–­é‡å¤ä¸Šé¢çš„ç¬¬ä¸‰æ­¥</p>
<p>æ¦‚å†µå°±æ˜¯ï¼šè°ƒç”¨æ ˆä¸­çš„åŒæ­¥ä»»åŠ¡éƒ½æ‰§è¡Œå®Œæ¯•ï¼Œæ ˆå†…è¢«æ¸…ç©ºäº†ï¼Œå°±ä»£è¡¨ä¸»çº¿ç¨‹ç©ºé—²äº†ï¼Œè¿™ä¸ªæ—¶å€™å°±ä¼šå»ä»»åŠ¡é˜Ÿåˆ—ä¸­æŒ‰ç…§é¡ºåºè¯»å–ä¸€ä¸ªä»»åŠ¡æ”¾å…¥åˆ°æ ˆä¸­æ‰§è¡Œã€‚æ¯æ¬¡æ ˆå†…è¢«æ¸…ç©ºï¼Œéƒ½ä¼šå»è¯»å–ä»»åŠ¡é˜Ÿåˆ—æœ‰æ²¡æœ‰ä»»åŠ¡ï¼Œæœ‰å°±è¯»å–æ‰§è¡Œï¼Œä¸€ç›´å¾ªç¯è¯»å–-æ‰§è¡Œçš„æ“ä½œã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">JavaScriptä¸­æœ‰ä¸¤ç§å¼‚æ­¥ä»»åŠ¡ï¼š</span><br></pre></td></tr></table></figure>
<ol>
<li>å®ä»»åŠ¡ï¼šscriptï¼ˆæ•´ä½“ä»£ç ï¼‰ï¼ŒsetTimeoutã€setIntervalã€setImmediateã€I/Oã€UI rendering</li>
<li>å¾®ä»»åŠ¡ï¼šprocess.nextTickï¼ˆNodejsï¼‰ã€Promiseã€Object.observeã€ MutationObServer</li>
</ol>
<h4 id="2-äº‹ä»¶å¾ªç¯ï¼ˆevent-loopï¼‰æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#2-äº‹ä»¶å¾ªç¯ï¼ˆevent-loopï¼‰æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="2. äº‹ä»¶å¾ªç¯ï¼ˆevent-loopï¼‰æ˜¯ä»€ä¹ˆï¼Ÿ"></a>2. äº‹ä»¶å¾ªç¯ï¼ˆevent-loopï¼‰æ˜¯ä»€ä¹ˆï¼Ÿ</h4><p>ä¸»çº¿ç¨‹ä»â€ä»»åŠ¡é˜Ÿåˆ—â€ä¸­è¯»å–æ‰§è¡Œäº‹ä»¶ï¼Œè¿™ä¸ªè¿‡ç¨‹æ˜¯å¾ªç¯ä¸æ–­çš„ï¼Œè¿™ä¸ªæœºåˆ¶è¢«ç§°ä¸ºäº‹ä»¶å¾ªç¯ã€‚æ­¤æœºåˆ¶å…·ä½“å¦‚ä¸‹ï¼šä¸»çº¿ç¨‹ä¼šä¸æ–­ä»ä»»åŠ¡é˜Ÿåˆ—ä¸­æŒ‰é¡ºåºè¯»å–ä»»åŠ¡æ‰§è¡Œï¼Œæ¯æ‰§è¡Œä¸€ä¸ªä»»åŠ¡éƒ½ä¼šæ£€æŸ¥microtaské˜Ÿåˆ—æ˜¯å¦ä¸ºç©ºï¼ˆæ‰§è¡Œå®Œä¸€ä¸ªä»»åŠ¡çš„å…·ä½“æ ‡å¿—æ˜¯å‡½æ•°æ‰§è¡Œæ ˆä¸ºç©ºï¼‰ï¼Œå¦‚æœä¸ä¸ºç©ºåˆ™ä¼šä¸€æ¬¡æ€§æ‰§è¡Œå®Œæ‰€æœ‰microtaskã€‚ç„¶åè¿›å…¥ä¸‹ä¸€ä¸ªå¾ªç¯å»ä»»åŠ¡é˜Ÿåˆ—ä¸­å–ä¸‹ä¸€ä¸ªä»»åŠ¡æ‰§è¡Œã€‚</p>
<p><strong>å½“å‰æ‰§è¡Œæ ˆæ‰§è¡Œå®Œæ¯•æ—¶ä¼šç«‹åˆ»å…ˆå¤„ç†æ‰€æœ‰å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­çš„äº‹ä»¶, ç„¶åå†å»å®ä»»åŠ¡é˜Ÿåˆ—ä¸­å–å‡ºä¸€ä¸ªäº‹ä»¶ã€‚åŒä¸€æ¬¡äº‹ä»¶å¾ªç¯ä¸­, å¾®ä»»åŠ¡æ°¸è¿œåœ¨å®ä»»åŠ¡ä¹‹å‰æ‰§è¡Œã€‚</strong></p>
<h4 id="3-ä¸ºä»€ä¹ˆä¼šéœ€è¦event-loop"><a href="#3-ä¸ºä»€ä¹ˆä¼šéœ€è¦event-loop" class="headerlink" title="3. ä¸ºä»€ä¹ˆä¼šéœ€è¦event-loop?"></a>3. ä¸ºä»€ä¹ˆä¼šéœ€è¦event-loop?</h4><p>å› ä¸º JavaScript æ˜¯å•çº¿ç¨‹çš„ã€‚å•çº¿ç¨‹å°±æ„å‘³ç€ï¼Œæ‰€æœ‰ä»»åŠ¡éœ€è¦æ’é˜Ÿï¼Œå‰ä¸€ä¸ªä»»åŠ¡ç»“æŸï¼Œæ‰ä¼šæ‰§è¡Œåä¸€ä¸ªä»»åŠ¡ã€‚å¦‚æœå‰ä¸€ä¸ªä»»åŠ¡è€—æ—¶å¾ˆé•¿ï¼Œåä¸€ä¸ªä»»åŠ¡å°±ä¸å¾—ä¸ä¸€ç›´ç­‰ç€ã€‚ä¸ºäº†åè°ƒäº‹ä»¶ï¼ˆeventï¼‰ï¼Œç”¨æˆ·äº¤äº’ï¼ˆuser interactionï¼‰ï¼Œè„šæœ¬ï¼ˆscriptï¼‰ï¼Œæ¸²æŸ“ï¼ˆrenderingï¼‰ï¼Œç½‘ç»œï¼ˆnetworkingï¼‰ç­‰ï¼Œç”¨æˆ·ä»£ç†ï¼ˆuser agentï¼‰å¿…é¡»ä½¿ç”¨äº‹ä»¶å¾ªç¯ï¼ˆevent loopsï¼‰ã€‚</p>
<h4 id="nodeä¸­çš„event-loopä¸æµè§ˆå™¨ä¹‹é—´çš„å·®å¼‚"><a href="#nodeä¸­çš„event-loopä¸æµè§ˆå™¨ä¹‹é—´çš„å·®å¼‚" class="headerlink" title="nodeä¸­çš„event-loopä¸æµè§ˆå™¨ä¹‹é—´çš„å·®å¼‚"></a>nodeä¸­çš„event-loopä¸æµè§ˆå™¨ä¹‹é—´çš„å·®å¼‚</h4><p>æµè§ˆå™¨å’Œ Node ç¯å¢ƒä¸‹ï¼Œmicrotask ä»»åŠ¡é˜Ÿåˆ—çš„æ‰§è¡Œæ—¶æœºä¸åŒ</p>
<ul>
<li>Node ç«¯ï¼Œmicrotask åœ¨äº‹ä»¶å¾ªç¯çš„å„ä¸ªé˜¶æ®µä¹‹é—´æ‰§è¡Œ</li>
<li>æµè§ˆå™¨ç«¯ï¼Œmicrotask åœ¨äº‹ä»¶å¾ªç¯çš„ macrotask æ‰§è¡Œå®Œä¹‹åæ‰§è¡Œ</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">'start'</span>)</span><br><span class="line">setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'timer1'</span>)</span><br><span class="line">  <span class="built_in">Promise</span>.resolve().then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'promise1'</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;, <span class="number">0</span>)</span><br><span class="line">setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'timer2'</span>)</span><br><span class="line">  <span class="built_in">Promise</span>.resolve().then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'promise2'</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;, <span class="number">0</span>)</span><br><span class="line"><span class="built_in">Promise</span>.resolve().then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'promise3'</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'end'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// æµè§ˆå™¨ start=&gt;end=&gt;promise3=&gt;timer1=&gt;promise1=&gt;timer2=&gt;promise2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// node start=&gt;end=&gt;promise3=&gt;timer1=&gt;timer2=&gt;promise1=&gt;promise2</span></span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title>cssé—®é¢˜</title>
    <url>/2020/02/25/2020/2%E6%9C%88/0225/</url>
    <content><![CDATA[<h4 id="cssé—®é¢˜"><a href="#cssé—®é¢˜" class="headerlink" title="cssé—®é¢˜"></a>cssé—®é¢˜</h4><h5 id="ç”¨çº¯cssåˆ›å»ºä¸€ä¸ªä¸‰è§’å½¢"><a href="#ç”¨çº¯cssåˆ›å»ºä¸€ä¸ªä¸‰è§’å½¢" class="headerlink" title="ç”¨çº¯cssåˆ›å»ºä¸€ä¸ªä¸‰è§’å½¢"></a>ç”¨çº¯cssåˆ›å»ºä¸€ä¸ªä¸‰è§’å½¢</h5><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">    div &#123;</span></span><br><span class="line"><span class="undefined">        width: 0;</span></span><br><span class="line"><span class="undefined">        height: 0;</span></span><br><span class="line"><span class="undefined">        border-top: 40px solid transparent;</span></span><br><span class="line"><span class="undefined">        border-left: 40px solid transparent;</span></span><br><span class="line"><span class="undefined">        border-right: 40px solid transparent;</span></span><br><span class="line"><span class="undefined">        border-bottom: 40px solid #ff0000;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined">  </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h5 id="å¦‚ä½•ç†è§£cssçš„ç›’æ¨¡å‹"><a href="#å¦‚ä½•ç†è§£cssçš„ç›’æ¨¡å‹" class="headerlink" title="å¦‚ä½•ç†è§£cssçš„ç›’æ¨¡å‹"></a>å¦‚ä½•ç†è§£cssçš„ç›’æ¨¡å‹</h5><blockquote>
<p>æ ‡å‡†ç›’å­æ¨¡å‹ï¼šå®½åº¦=å†…å®¹çš„å®½åº¦ï¼ˆcontentï¼‰+ border + padding<br>ä½ç‰ˆæœ¬IEç›’å­æ¨¡å‹ï¼šå®½åº¦=å†…å®¹å®½åº¦ï¼ˆcontent+border+padding)</p>
</blockquote>
<p>box-sizingå±æ€§</p>
<ul>
<li>content-boxï¼šé»˜è®¤å€¼ã€‚è¿™æ˜¯ CSS2.1 æŒ‡å®šçš„å®½åº¦å’Œé«˜åº¦çš„è¡Œä¸ºã€‚æŒ‡å®šå…ƒç´ çš„å®½åº¦å’Œé«˜åº¦ï¼ˆæœ€å°/æœ€å¤§å±æ€§ï¼‰é€‚ç”¨äºboxçš„å®½åº¦å’Œé«˜åº¦ã€‚å…ƒç´ çš„å¡«å……å’Œè¾¹æ¡†å¸ƒå±€å’Œç»˜åˆ¶æŒ‡å®šå®½åº¦å’Œé«˜åº¦é™¤å¤–ã€‚</li>
<li>border-boxï¼š æŒ‡å®šå®½åº¦å’Œé«˜åº¦ï¼ˆæœ€å°/æœ€å¤§å±æ€§ï¼‰ç¡®å®šå…ƒç´ è¾¹æ¡†ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹å…ƒç´ æŒ‡å®šå®½åº¦å’Œé«˜åº¦åŒ…æ‹¬äº† padding å’Œ border ã€‚é€šè¿‡ä»å·²è®¾å®šçš„å®½åº¦å’Œé«˜åº¦åˆ†åˆ«å‡å»è¾¹æ¡†å’Œå†…è¾¹è·æ‰èƒ½å¾—åˆ°å†…å®¹çš„å®½åº¦å’Œé«˜åº¦ã€‚</li>
<li>inheritï¼š æŒ‡å®š box-sizing å±æ€§çš„å€¼ï¼Œåº”è¯¥ä»çˆ¶å…ƒç´ ç»§æ‰¿</li>
</ul>
<p>æµè§ˆå™¨çš„å…¼å®¹æ€§é—®é¢˜<br>å¤§å¤šæ•°æµè§ˆå™¨éƒ½ä¼šæŒ‰ç…§ä¸Šé¢çš„å›¾ç¤ºæ¥å‘ˆç°å†…å®¹ã€‚ç„¶è€Œ IE 5 å’Œ 6 çš„å‘ˆç°å´æ˜¯ä¸æ­£ç¡®çš„ã€‚æ ¹æ® W3C çš„è§„èŒƒï¼Œå…ƒç´ å†…å®¹å æ®çš„ç©ºé—´æ˜¯ç”± width å±æ€§è®¾ç½®çš„ï¼Œè€Œå†…å®¹å‘¨å›´çš„ padding å’Œ border å€¼æ˜¯å¦å¤–è®¡ç®—çš„ã€‚ä¸å¹¸çš„æ˜¯ï¼ŒIE5.X å’Œ 6 åœ¨æ€ªå¼‚æ¨¡å¼ä¸­ä½¿ç”¨è‡ªå·±çš„éæ ‡å‡†æ¨¡å‹ã€‚è¿™äº›æµè§ˆå™¨çš„ width å±æ€§ä¸æ˜¯å†…å®¹çš„å®½åº¦ï¼Œè€Œæ˜¯å†…å®¹ã€å†…è¾¹è·å’Œè¾¹æ¡†çš„å®½åº¦çš„æ€»å’Œã€‚</p>
<h5 id="å¦‚ä½•æ¸…é™¤æµ®åŠ¨ï¼Ÿ"><a href="#å¦‚ä½•æ¸…é™¤æµ®åŠ¨ï¼Ÿ" class="headerlink" title="å¦‚ä½•æ¸…é™¤æµ®åŠ¨ï¼Ÿ"></a>å¦‚ä½•æ¸…é™¤æµ®åŠ¨ï¼Ÿ</h5><blockquote>
<p>clearæ¸…é™¤æµ®åŠ¨ï¼ˆæ·»åŠ ç©ºdivæ³•ï¼‰åœ¨æµ®åŠ¨å…ƒç´ ä¸‹æ–¹æ·»åŠ ç©ºdiv,å¹¶ç»™è¯¥å…ƒç´ å†™cssæ ·å¼ {clear:both;height:0;overflow:hidden;}</p>
</blockquote>
<blockquote>
<p>ç»™æµ®åŠ¨å…ƒç´ çˆ¶çº§è®¾ç½®é«˜åº¦</p>
</blockquote>
<blockquote>
<p>çˆ¶çº§åŒæ—¶æµ®åŠ¨ï¼ˆéœ€è¦ç»™çˆ¶çº§åŒçº§å…ƒç´ æ·»åŠ æµ®åŠ¨ï¼‰</p>
</blockquote>
<blockquote>
<p>çˆ¶çº§è®¾ç½®æˆinline-blockï¼Œå…¶margin: 0 autoå±…ä¸­æ–¹å¼å¤±æ•ˆ</p>
</blockquote>
<blockquote>
<p>ç»™çˆ¶çº§æ·»åŠ overflow:hidden æ¸…é™¤æµ®åŠ¨æ–¹æ³•</p>
</blockquote>
<blockquote>
<p>ä¸‡èƒ½æ¸…é™¤æ³• afterä¼ªç±» æ¸…æµ®åŠ¨ï¼ˆç°åœ¨ä¸»æµæ–¹æ³•ï¼Œæ¨èä½¿ç”¨ï¼‰</p>
</blockquote>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">  <span class="attribute">zoom</span>: <span class="number">1</span>;</span><br><span class="line">  &amp;:after &#123;</span><br><span class="line">    content: '';</span><br><span class="line">    <span class="selector-tag">clear</span>: <span class="selector-tag">both</span>;</span><br><span class="line">    <span class="selector-tag">display</span>: <span class="selector-tag">block</span>;</span><br><span class="line">    <span class="selector-tag">height</span>: 0;</span><br><span class="line">    <span class="selector-tag">overflow</span>: <span class="selector-tag">hidden</span>;</span><br><span class="line">    <span class="selector-tag">visibility</span>: <span class="selector-tag">hidden</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title>è°ˆè°ˆä½ å¯¹Reduxçš„ç†è§£</title>
    <url>/2020/02/24/2020/2%E6%9C%88/0224/</url>
    <content><![CDATA[<h4 id="è°ˆè°ˆä½ å¯¹Reduxçš„ç†è§£"><a href="#è°ˆè°ˆä½ å¯¹Reduxçš„ç†è§£" class="headerlink" title="è°ˆè°ˆä½ å¯¹Reduxçš„ç†è§£"></a>è°ˆè°ˆä½ å¯¹Reduxçš„ç†è§£</h4><p>ä½¿ç”¨Reduxåº”è¯¥éµå¾ªçš„åŸåˆ™ï¼š</p>
<ol>
<li>æ•´ä¸ªåº”ç”¨å…±äº«çš„stateåº”è¯¥å­˜å‚¨åœ¨storeçš„çŠ¶æ€æ ‘ä¸­ï¼Œstoreæ˜¯å”¯ä¸€çš„</li>
<li>stateä¸èƒ½ç›´æ¥ä¿®æ”¹ï¼Œåªèƒ½é€šè¿‡actionè¡¨è¾¾ä¿®æ”¹çš„æ„å›¾ï¼Œè°ƒç”¨dispatch()ä¿®æ”¹state</li>
<li>stateçš„ä¿®æ”¹è§„åˆ™reducerså¿…é¡»æ˜¯ä¸€ä¸ªçº¯å‡½æ•°ï¼Œä¸èƒ½æœ‰å‰¯ä½œç”¨</li>
</ol>
<h5 id="Reduxæä¾›çš„API"><a href="#Reduxæä¾›çš„API" class="headerlink" title="Reduxæä¾›çš„API"></a>Reduxæä¾›çš„API</h5><ol>
<li><p>createStore<br>createStoreçš„ä½œç”¨å°±æ˜¯åˆ›å»ºä¸€ä¸ªReduxï¼Œstoreç”¨æ¥å­˜æ”¾åº”ç”¨ä¸­æ‰€æœ‰çš„state<br>createStore(reducer, [perloadState], [enhancer])<br>createStoreæ–¹æ³•æ¥å—3ä¸ªå‚æ•°ï¼Œåé¢ä¸¤ä¸ªæ˜¯å¯é€‰å‚æ•°<br>reducer: å‚æ•°çš„ç±»å‹å¿…é¡»æ˜¯function<br>perloadState: è¿™ä¸ªå‚æ•°ä»£è¡¨åˆå§‹åŒ–çš„state(initialState), å¯ä»¥æ˜¯ä»»æ„ç±»å‹çš„å‚æ•°<br>enhancer: è¿™ä¸ªå‚æ•°ä»£è¡¨æ·»åŠ çš„å„ç§ä¸­é—´ä»¶ï¼Œå‚æ•°çš„ç±»å‹å¿…é¡»æ˜¯function</p>
</li>
<li><p>combineReducers<br>combineReducersä¸»è¦æ˜¯æŠŠå¤šä¸ªreduceråˆå¹¶æˆä¸€ä¸ªï¼Œå¹¶ä¸”è¿”å›ä¸€ä¸ªæ–°çš„reducerå‡½æ•°ï¼Œè¯¥å‡½æ•°æ¥æ”¶çš„å‚æ•°ä¹Ÿæ˜¯ä¸¤ä¸ªstateå’Œaction</p>
</li>
<li><p>compose<br>ä¸»è¦æ˜¯åœ¨ä¸­é—´ä»¶æ—¶å€™ä½¿ç”¨ï¼Œåˆæˆå‡½æ•°<br>compose(applyMiddleware(thunk),<br> window.devToolsExtension ?<br> window.devToolsExtension() : undefined<br>)</p>
</li>
<li><p>applyMiddleware</p>
</li>
<li><p>bindActionCreator<br>bindActionCreatorçš„ä¸»è¦ä½œç”¨å°±æ˜¯å°†acitonä¸dispatchå‡½æ•°ç»‘å®šï¼Œç”Ÿæˆç›´æ¥å¯ä»¥å‡ºå‘actionçš„å‡½æ•°</p>
</li>
</ol>
<h4 id="ä»è¾“å…¥URLåˆ°é¡µé¢åŠ è½½çš„å…¨è¿‡ç¨‹"><a href="#ä»è¾“å…¥URLåˆ°é¡µé¢åŠ è½½çš„å…¨è¿‡ç¨‹" class="headerlink" title="ä»è¾“å…¥URLåˆ°é¡µé¢åŠ è½½çš„å…¨è¿‡ç¨‹"></a>ä»è¾“å…¥URLåˆ°é¡µé¢åŠ è½½çš„å…¨è¿‡ç¨‹</h4><ol>
<li>é¦–å…ˆï¼Œåœ¨æµè§ˆå™¨åœ°å€ä¸­è¾“å…¥url</li>
<li>æµè§ˆå™¨å…ˆæŸ¥çœ‹<strong>æµè§ˆå™¨ç¼“å­˜</strong>-ç³»ç»Ÿç¼“å­˜-è·¯ç”±å™¨ç¼“å­˜ï¼Œå¦‚æœç¼“å­˜ä¸­æœ‰ï¼Œä¼šç›´æ¥åœ¨å±å¹•ä¸­æ˜¾ç¤ºé¡µé¢å†…å®¹ã€‚è‹¥æ²¡æœ‰ï¼Œåˆ™è·³åˆ°ç¬¬ä¸‰æ­¥æ“ä½œ</li>
<li>æµè§ˆå™¨å‘DNSï¼ˆDomain Name Systemï¼‰æœåŠ¡å™¨è¯·æ±‚è§£æè¯¥URLä¸­çš„åŸŸåå¯¹åº”çš„IPåœ°å€</li>
<li>è§£æå‡ºIPåœ°å€åï¼Œæ ¹æ®è¯¥IPåœ°å€å’Œé»˜è®¤ç«¯å£80ï¼Œå’ŒæœåŠ¡å™¨å»ºç«‹TCPè¿æ¥</li>
<li>æµè§ˆå™¨å‘å‡ºè¯»å–æ–‡ä»¶ï¼ˆURLä¸­åŸŸååé¢éƒ¨åˆ†å¯¹åº”çš„æ–‡ä»¶ï¼‰çš„HTTPè¯·æ±‚ï¼Œè¯¥è¯·æ±‚æŠ¥æ–‡ä½œä¸ºTCPä¸‰æ¬¡æ¡æ‰‹çš„ç¬¬ä¸‰ä¸ªæŠ¥æ–‡çš„æ•°æ®å‘é€ç»™æœåŠ¡å™¨</li>
<li>æœåŠ¡å™¨å¯¹æµè§ˆå™¨è¯·æ±‚åšå‡ºå“åº”ï¼Œå¹¶æŠŠå¯¹åº”çš„htmlæ–‡æœ¬å‘é€ç»™æµè§ˆå™¨</li>
<li>é‡Šæ”¾TCPè¿æ¥</li>
<li>æµè§ˆå™¨å°†è¯¥htmlæ–‡æœ¬å¹¶æ˜¾ç¤ºå†…å®¹</li>
</ol>
<h4 id="é‡ç»˜ï¼ˆRepaintï¼‰-amp-å›æµï¼ˆé‡æ’Reflowï¼‰"><a href="#é‡ç»˜ï¼ˆRepaintï¼‰-amp-å›æµï¼ˆé‡æ’Reflowï¼‰" class="headerlink" title="é‡ç»˜ï¼ˆRepaintï¼‰ &amp; å›æµï¼ˆé‡æ’Reflowï¼‰"></a>é‡ç»˜ï¼ˆRepaintï¼‰ &amp; å›æµï¼ˆé‡æ’Reflowï¼‰</h4><ol>
<li><p>é‡ç»˜(repaint)ï¼šå½“æˆ‘ä»¬å¯¹DOMçš„ä¿®æ”¹å¯¼è‡´çš„æ ·å¼å˜åŒ–ï¼Œä½†æœªå½±å“å‡ ä½•å±æ€§æ—¶ï¼Œæµè§ˆå™¨ä¸éœ€è¦é‡æ–°è®¡ç®—å…ƒç´ çš„å‡ ä½•å±æ€§ï¼Œç›´æ¥å¯ä»¥ä¸ºè¯¥å…ƒç´ ç»˜åˆ¶æ–°çš„æ ·å¼ï¼Œè·³è¿‡äº†å›æµç¯èŠ‚ï¼Œè¿™ä¸ªè¿‡ç¨‹å°±å«é‡ç»˜ã€‚</p>
</li>
<li><p>å›æµï¼ˆé‡æ’ reflowï¼‰ï¼šå¯¹DOMæ ‘è¿›è¡Œæ¸²æŸ“ï¼Œåªè¦ä¿®æ”¹DOMæˆ–ä¿®æ”¹å…ƒç´ çš„å½¢çŠ¶å¤§å°ï¼Œå°±ä¼šè§¦å‘reflowï¼Œreflowçš„æ—¶å€™ï¼Œæµè§ˆå™¨ä¼šä½¿å·²æ¸²æŸ“å¥½å—åˆ°å½±å“çš„éƒ¨åˆ†å¤±æ•ˆï¼Œå¹¶é‡æ–°æ„é€ è¿™éƒ¨åˆ†ï¼Œå®Œæˆreflowåï¼Œæµè§ˆå™¨ä¼šé‡æ–°ç»˜åˆ¶å—å½±å“çš„éƒ¨åˆ†åˆ°å±å¹•ä¸­</p>
</li>
</ol>
<p><strong>å›æµå¿…å®šä¼šå‘ç”Ÿé‡ç»˜ï¼Œé‡ç»˜ä¸ä¸€å®šå‘ç”Ÿå›æµ</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">//  è§¦å‘Reflow</span><br><span class="line">å¢åŠ ã€åˆ é™¤ã€ä¿®æ”¹DOMèŠ‚ç‚¹æ—¶ï¼Œä¼šå¯¼è‡´Reflowæˆ–Repaint</span><br><span class="line">ç§»åŠ¨DOMçš„ä½ç½®ï¼Œæˆ–æ˜¯æä¸ªåŠ¨ç”»çš„æ—¶å€™</span><br><span class="line">ä¿®æ”¹CSSæ ·å¼çš„æ—¶å€™ï¼ˆå®½ã€é«˜ã€å†…å¤–è¾¹è·ã€è¾¹æ¡†ç­‰ï¼‰</span><br><span class="line">Resizeçª—å£çš„æ—¶å€™ï¼ˆç§»åŠ¨ç«¯æ²¡æœ‰è¿™ä¸ªé—®é¢˜ï¼‰ï¼Œæˆ–æ˜¯æ»šåŠ¨çš„æ—¶å€™</span><br><span class="line">æ”¹å˜å…ƒç´ å†…å®¹ï¼ˆæ–‡æœ¬æˆ–å›¾ç‰‡ç­‰ï¼‰</span><br><span class="line">ä¿®æ”¹ç½‘é¡µçš„é»˜è®¤å­—ä½“æ—¶</span><br><span class="line">// è§¦å‘Repaint</span><br><span class="line">DOMæ”¹åŠ¨</span><br><span class="line">CSSæ”¹åŠ¨</span><br></pre></td></tr></table></figure>
<h5 id="å¦‚ä½•å‡å°‘å›æµã€é‡ç»˜ï¼Ÿ"><a href="#å¦‚ä½•å‡å°‘å›æµã€é‡ç»˜ï¼Ÿ" class="headerlink" title="å¦‚ä½•å‡å°‘å›æµã€é‡ç»˜ï¼Ÿ"></a>å¦‚ä½•å‡å°‘å›æµã€é‡ç»˜ï¼Ÿ</h5><p>å‡å°‘å›æµã€é‡ç»˜å°±æ˜¯å‡å°‘å¯¹DOMçš„æ“ä½œ</p>
<p>1.ç›´æ¥æ”¹å˜classNameï¼Œå¦‚æœåŠ¨æ€æ”¹å˜æ ·å¼ï¼Œåˆ™ä½¿ç”¨cssTextï¼ˆå‡å°‘è®¾ç½®å¤šé¡¹å†…è”æ ·å¼ï¼‰</p>
<p>2.è®©è¦æ“ä½œçš„å…ƒç´ è¿›è¡Œâ€œç¦»çº¿å¤„ç†â€ï¼Œå¤„ç†å®Œåä¸€èµ·æ›´æ–°</p>
<p>å½“ä½¿ç”¨DocumentFragmentè¿›è¡Œç¼“å­˜æ“ä½œï¼Œå¼•å‘ä¸€æ¬¡å›æµå’Œé‡ç»˜</p>
<p>ä½¿ç”¨display:none æŠ€æœ¯ï¼Œåªå¼•å‘ä¸¤æ¬¡å›æµå’Œé‡ç»˜</p>
<p>ä½¿ç”¨cloneNode(true or false)å’ŒreplaceChildæŠ€æœ¯ï¼Œå¼•å‘ä¸€æ¬¡å›æµå’Œé‡ç»˜</p>
<p>3.ä¸è¦ç»å¸¸è®¿é—®ä¼šå¼•èµ·æµè§ˆå™¨flushé˜Ÿåˆ—çš„å±æ€§ï¼Œå¦‚æœä½ ç¡®å®è¦è®¿é—®ï¼Œåˆ©ç”¨ç¼“å­˜</p>
<p>4.è®©å…ƒç´ è„±ç¦»åŠ¨ç”»æµï¼Œå‡å°‘render æ ‘çš„è§„æ¨¡</p>
<p>5.ç‰ºç‰²å¹³æ»‘åº¦æ¢å–é€Ÿåº¦</p>
<p>6.é¿å…ä½¿ç”¨tableå¸ƒå±€</p>
<p>7.IEä¸­é¿å…ä½¿ç”¨javascriptè¡¨è¾¾å¼</p>
<h4 id="è·¨åŸŸé€šä¿¡çš„å‡ ç§æ–¹å¼"><a href="#è·¨åŸŸé€šä¿¡çš„å‡ ç§æ–¹å¼" class="headerlink" title="è·¨åŸŸé€šä¿¡çš„å‡ ç§æ–¹å¼"></a>è·¨åŸŸé€šä¿¡çš„å‡ ç§æ–¹å¼</h4><ol>
<li>JSONPï¼ˆåªæ”¯æŒgetè¯·æ±‚ï¼‰</li>
<li>window + hash</li>
<li>window + domain</li>
<li>window + name</li>
<li>postMessage</li>
<li>WebSocket</li>
<li>CORSï¼ˆCross-origin resource sharingï¼‰è·¨åŸŸèµ„æºå…±äº«ï¼ˆæ‰€æœ‰çš„HTTPè¯·æ±‚ï¼‰</li>
<li>nginxåå‘ä»£ç†</li>
<li>http-proxyæœåŠ¡ç«¯ä»£ç†è¯·æ±‚</li>
</ol>
<h4 id="å‰ç«¯é”™è¯¯ç±»"><a href="#å‰ç«¯é”™è¯¯ç±»" class="headerlink" title="å‰ç«¯é”™è¯¯ç±»"></a>å‰ç«¯é”™è¯¯ç±»</h4><ol>
<li><p>å³æ—¶è¿è¡Œé”™è¯¯ï¼šä»£ç é”™è¯¯ï¼›æ•è·æ–¹å¼ï¼štryâ€¦catchâ€¦ã€window.onerror</p>
</li>
<li><p>èµ„æºåŠ è½½é”™è¯¯ï¼›object.onerrorï¼ˆä¸ä¼šå†’æ³¡ ï¼‰ã€performance.getEntriesã€Erroräº‹ä»¶æ•è·</p>
</li>
</ol>
<h4 id="æµ…æ‹·è´"><a href="#æµ…æ‹·è´" class="headerlink" title="æµ…æ‹·è´"></a>æµ…æ‹·è´</h4><ul>
<li>å¾ªç¯éå†</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> arr1 = [<span class="number">1</span>, <span class="number">2</span>, [<span class="string">'ming'</span>, <span class="string">'abc'</span>], <span class="number">5</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> shallowClone = <span class="function">(<span class="params">arr</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> dst = [];</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> prop <span class="keyword">in</span> arr) &#123;</span><br><span class="line">    <span class="keyword">if</span> (arr.hasOwnProperty(prop)) &#123;</span><br><span class="line">        dst[prop] = arr[prop];</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> dst;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> arr2 = shallowClone(arr1);</span><br><span class="line">arr2[<span class="number">2</span>].push(<span class="string">'wuhan'</span>);</span><br><span class="line">arr2[<span class="number">3</span>] = <span class="number">5</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(arr1);  [<span class="number">1</span>, <span class="number">2</span>, [<span class="string">'ming'</span>, <span class="string">'abc'</span>, <span class="string">'wuhan'</span>], <span class="number">5</span>]</span><br><span class="line"><span class="built_in">console</span>.log(arr2);  [<span class="number">1</span>, <span class="number">2</span>, [<span class="string">'ming'</span>, <span class="string">'abc'</span>, <span class="string">'wuhan'</span>], <span class="number">5</span>]</span><br></pre></td></tr></table></figure>
<ul>
<li>object.assign()</li>
<li>Array.prototype.concat()</li>
<li>Array.prototype.slice()</li>
<li>objå±•å¼€è¿ç®—ç¬¦</li>
</ul>
<h4 id="æ·±æ‹·è´"><a href="#æ·±æ‹·è´" class="headerlink" title="æ·±æ‹·è´"></a>æ·±æ‹·è´</h4><ul>
<li>æ‰‹åŠ¨é€’å½’</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">deepClone</span> (<span class="params">sourceObj, targetObj</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> cloneObj = targetObj || &#123;&#125;</span><br><span class="line">    <span class="keyword">if</span>(!sourceObj || <span class="keyword">typeof</span> sourceObj !== <span class="string">"object"</span> || sourceObj.length === <span class="literal">undefined</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> sourceObj</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(sourceObj <span class="keyword">instanceof</span> <span class="built_in">Array</span>)&#123;</span><br><span class="line">        cloneObj = sourceObj.concat()</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">let</span> i <span class="keyword">in</span> sourceObj)&#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">typeof</span> sourceObj[i] === <span class="string">'object'</span>) &#123;</span><br><span class="line">                cloneObj[i] = deepClone(sourceObj[i], &#123;&#125;)</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                cloneObj[i] = sourceObj[i]</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> cloneObj</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> sourceObj = &#123;</span><br><span class="line">  a: <span class="number">1</span>,</span><br><span class="line">  b: &#123;</span><br><span class="line">    a: <span class="number">1</span></span><br><span class="line">  &#125;,</span><br><span class="line">  c: &#123;</span><br><span class="line">    a: <span class="number">1</span>,</span><br><span class="line">    b: &#123;</span><br><span class="line">      a: <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  d: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'hello world'</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  e: [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> targetObj = deepClone(sourceObj, &#123;&#125;)</span><br><span class="line">targetObj.c.b.a = <span class="number">9</span></span><br><span class="line"><span class="built_in">console</span>.log(sourceObj)</span><br><span class="line"><span class="built_in">console</span>.log(targetObj)</span><br></pre></td></tr></table></figure>
<ul>
<li>JSON.parse(JSON.stringify())</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">1.å¦‚æœjsoné‡Œé¢æœ‰æ—¶é—´å¯¹è±¡ï¼Œåˆ™åºåˆ—åŒ–ç»“æœï¼šæ—¶é—´å¯¹è±¡=&gt;å­—ç¬¦ä¸²çš„å½¢å¼ï¼›</span><br><span class="line">2.å¦‚æœjsoné‡Œæœ‰RegExpã€Errorå¯¹è±¡ï¼Œåˆ™åºåˆ—åŒ–çš„ç»“æœå°†åªå¾—åˆ°ç©ºå¯¹è±¡ RegExpã€Error =&gt; &#123;&#125;ï¼›</span><br><span class="line">3.å¦‚æœjsoné‡Œæœ‰ function,undefinedï¼Œåˆ™åºåˆ—åŒ–çš„ç»“æœä¼šæŠŠ function,undefined ä¸¢å¤±ï¼›</span><br><span class="line">4.å¦‚æœjsoné‡Œæœ‰NaNã€Infinityå’Œ-Infinityï¼Œåˆ™åºåˆ—åŒ–çš„ç»“æœä¼šå˜æˆnullï¼›</span><br><span class="line">5.å¦‚æœjsoné‡Œæœ‰å¯¹è±¡æ˜¯ç”±æ„é€ å‡½æ•°ç”Ÿæˆçš„ï¼Œåˆ™åºåˆ—åŒ–çš„ç»“æœä¼šä¸¢å¼ƒå¯¹è±¡çš„ constructorï¼›</span><br><span class="line">6.å¦‚æœå¯¹è±¡ä¸­å­˜åœ¨å¾ªç¯å¼•ç”¨çš„æƒ…å†µä¹Ÿæ— æ³•å®ç°æ·±æ‹·è´</span><br></pre></td></tr></table></figure>
<ul>
<li>lodashå‡½æ•°åº“</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> _= <span class="built_in">require</span>(<span class="string">'lodash'</span>);</span><br><span class="line"><span class="keyword">const</span> obj1 = [</span><br><span class="line">  <span class="number">1</span>,</span><br><span class="line">  <span class="string">'Hello!'</span>,</span><br><span class="line">  &#123; <span class="attr">name</span>:<span class="string">'ming1'</span> &#125;,</span><br><span class="line">  [</span><br><span class="line">    &#123;</span><br><span class="line">      name:<span class="string">'meng1'</span>,</span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">]</span><br><span class="line"><span class="keyword">const</span> obj2 = _.cloneDeep(obj1);</span><br><span class="line">obj2[<span class="number">0</span>] = <span class="number">2</span>;</span><br><span class="line">obj2[<span class="number">1</span>] = <span class="string">'Hi!'</span>;</span><br><span class="line">obj2[<span class="number">2</span>].name = <span class="string">'ming2'</span></span><br><span class="line">obj2[<span class="number">3</span>][<span class="number">0</span>].name = <span class="string">'meng2'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(obj1);</span><br><span class="line"><span class="built_in">console</span>.log(obj2);</span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title>call bind applyçš„åŒºåˆ«ï¼Ÿjsåƒåœ¾å›æ”¶</title>
    <url>/2020/02/26/2020/2%E6%9C%88/0226/</url>
    <content><![CDATA[<h4 id="call-bind-applyçš„åŒºåˆ«ï¼Ÿ"><a href="#call-bind-applyçš„åŒºåˆ«ï¼Ÿ" class="headerlink" title="call bind applyçš„åŒºåˆ«ï¼Ÿ"></a>call bind applyçš„åŒºåˆ«ï¼Ÿ</h4><blockquote>
<p>call() å’Œ apply()çš„ç¬¬ä¸€ä¸ªå‚æ•°ç›¸åŒï¼Œå°±æ˜¯æŒ‡å®šçš„å¯¹è±¡ã€‚è¿™ä¸ªå¯¹è±¡å°±æ˜¯è¯¥å‡½æ•°çš„æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚</p>
</blockquote>
<blockquote>
<p>call()å’Œapply()çš„åŒºåˆ«å°±åœ¨äºï¼Œä¸¤è€…ä¹‹é—´çš„å‚æ•°ã€‚</p>
</blockquote>
<blockquote>
<p>call()åœ¨ç¬¬ä¸€ä¸ªå‚æ•°ä¹‹åçš„åç»­æ‰€æœ‰å‚æ•°å°±æ˜¯ä¼ å…¥è¯¥å‡½æ•°çš„å€¼</p>
</blockquote>
<blockquote>
<p>apply()åªæœ‰ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯å¯¹è±¡ï¼Œç¬¬äºŒä¸ªæ˜¯æ•°ç»„ï¼Œè¿™ä¸ªæ•°ç»„å°±æ˜¯è¯¥å‡½æ•°çš„å‚æ•°ã€‚<br>bind()æ–¹æ³•å’Œå‰ä¸¤è€…ä¸åŒåœ¨äºï¼šbind()æ–¹æ³•ä¼šè¿”å›æ‰§è¡Œä¸Šä¸‹æ–‡è¢«æ”¹å˜çš„å‡½æ•°è€Œä¸ä¼šç«‹å³æ‰§è¡Œï¼Œè€Œå‰ä¸¤è€…æ˜¯ç›´æ¥æ‰§è¡Œè¯¥å‡½æ•°ã€‚ä»–çš„å‚æ•°å’Œcall()ç›¸åŒ.</p>
</blockquote>
<h4 id="jsåƒåœ¾å›æ”¶"><a href="#jsåƒåœ¾å›æ”¶" class="headerlink" title="jsåƒåœ¾å›æ”¶"></a>jsåƒåœ¾å›æ”¶</h4><p>JavaScriptä¸­çš„å†…å­˜ç®¡ç†æ˜¯è‡ªåŠ¨æ‰§è¡Œçš„ï¼Œè€Œä¸”æ˜¯ä¸å¯è§çš„ã€‚æˆ‘ä»¬åˆ›å»ºåŸºæœ¬ç±»å‹ã€å¯¹è±¡ã€å‡½æ•°â€¦.æ‰€æœ‰è¿™äº›éƒ½éœ€è¦å†…å­˜.<br>å½“ä¸å†éœ€è¦æŸæ ·ä¸œè¥¿æ—¶ä¼šå‘ç”Ÿä»€ä¹ˆ? JavaScript å¼•æ“æ˜¯å¦‚ä½•å‘ç°å¹¶æ¸…ç†å®ƒ?</p>
<p>1ï¼‰é—®ä»€ä¹ˆæ˜¯åƒåœ¾</p>
<p>ä¸€èˆ¬æ¥è¯´æ²¡æœ‰è¢«å¼•ç”¨çš„å¯¹è±¡å°±æ˜¯åƒåœ¾ï¼Œå°±æ˜¯è¦è¢«æ¸…é™¤ï¼Œ æœ‰ä¸ªä¾‹å¤–å¦‚æœå‡ ä¸ªå¯¹è±¡å¼•ç”¨å½¢æˆä¸€ä¸ªç¯ï¼Œäº’ç›¸å¼•ç”¨ï¼Œä½†æ ¹è®¿é—®ä¸åˆ°å®ƒä»¬ï¼Œè¿™å‡ ä¸ªå¯¹è±¡ä¹Ÿæ˜¯åƒåœ¾ï¼Œä¹Ÿè¦è¢«æ¸…é™¤ã€‚</p>
<p>2ï¼‰å¦‚ä½•æ£€åƒåœ¾</p>
<ul>
<li>å¼•ç”¨è®¡æ•°ï¼Œæœ‰ç¼ºé™·æ— æ³•è§£å†³å¾ªç¯å¼•ç”¨é—®é¢˜</li>
<li>æ ‡è®°æ¸…é™¤ï¼Œç›®å‰é‡‡ç”¨çš„ç®—æ³•</li>
</ul>
]]></content>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title>å‰ç«¯æœ‰å“ªäº›é¡µé¢ä¼˜åŒ–æ–¹æ³•?</title>
    <url>/2020/02/27/2020/2%E6%9C%88/0227/</url>
    <content><![CDATA[<h4 id="å‰ç«¯æœ‰å“ªäº›é¡µé¢ä¼˜åŒ–æ–¹æ³•"><a href="#å‰ç«¯æœ‰å“ªäº›é¡µé¢ä¼˜åŒ–æ–¹æ³•" class="headerlink" title="å‰ç«¯æœ‰å“ªäº›é¡µé¢ä¼˜åŒ–æ–¹æ³•?"></a>å‰ç«¯æœ‰å“ªäº›é¡µé¢ä¼˜åŒ–æ–¹æ³•?</h4><ul>
<li><p>å‡å°‘httpè¯·æ±‚æ•°</p>
</li>
<li><p>ä»è®¾è®¡å®ç°å±‚é¢ç®€åŒ–é¡µé¢ï¼Œå‡å°‘å…ƒç´ çš„ä½¿ç”¨</p>
</li>
<li><p>åˆç†è®¾ç½®httpç¼“å­˜</p>
</li>
<li><p>èµ„æºåˆå¹¶ä¸å‹ç¼©</p>
</li>
<li><p>åˆå¹¶csså›¾ç‰‡ï¼Œå‡å°‘è¯·æ±‚æ•°çš„åˆä¸€ä¸ªå¥½åŠæ³•</p>
</li>
<li><p>å°†å¤–éƒ¨è„šæœ¬ç½®åº•ï¼ˆé¡µé¢ä¿¡æ¯åŠ è½½ååœ¨åŠ è½½ï¼‰</p>
</li>
<li><p>å¤šå›¾é¡µé¢ä½¿ç”¨å›¾ç‰‡æ‡’åŠ è½½</p>
</li>
<li><p>åœ¨jsä¸­å°½é‡å‡å°‘é—­åŒ…çš„ä½¿ç”¨</p>
</li>
<li><p>å°½é‡åˆå¹¶csså’Œjsæ–‡ä»¶</p>
</li>
<li><p>å°½é‡ä½¿ç”¨å­—ä½“å›¾æ ‡æˆ–è€…svgå›¾æ ‡ï¼Œæ¥ä»£æ›¿ä¼ ç»Ÿçš„pngç­‰æ ¼å¼å›¾ç‰‡</p>
</li>
<li><p>å‡å°‘å¯¹domçš„æ“ä½œ</p>
</li>
<li><p>å°½å¯èƒ½ä½¿ç”¨äº‹ä»¶å§”æ‰˜ï¼ˆäº‹ä»¶ä»£ç†ï¼‰æ¥å¤„ç†äº‹ä»¶ç»‘å®šçš„æ“ä½œ</p>
</li>
</ul>
<h4 id="ç§»åŠ¨ç«¯çš„å…¼å®¹é—®é¢˜"><a href="#ç§»åŠ¨ç«¯çš„å…¼å®¹é—®é¢˜" class="headerlink" title="ç§»åŠ¨ç«¯çš„å…¼å®¹é—®é¢˜"></a>ç§»åŠ¨ç«¯çš„å…¼å®¹é—®é¢˜</h4><ul>
<li><p>ç»™ç§»åŠ¨ç«¯æ·»åŠ ç‚¹å‡»äº‹ä»¶ä¼šæœ‰300Sçš„å»¶è¿Ÿ å¦‚æœç”¨ç‚¹å‡»äº‹ä»¶ï¼Œéœ€è¦å¼•ä¸€ä¸ªfastclick.jsæ–‡ä»¶ï¼Œè§£å†³300sçš„å»¶è¿Ÿ ä¸€èˆ¬åœ¨ç§»åŠ¨ç«¯ç”¨ontouchstartã€ontouchmoveã€ontouchend</p>
</li>
<li><p>ç§»åŠ¨ç«¯ç‚¹é€é—®é¢˜,touchstart æ—©äº touchend æ—©äºclick,clickçš„è§¦å‘æ˜¯æœ‰å»¶è¿Ÿçš„ï¼Œè¿™ä¸ªæ—¶é—´å¤§æ¦‚åœ¨300mså·¦å³ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬tapè§¦å‘ä¹‹åè’™å±‚éšè—ï¼Œ æ­¤æ—¶ clickè¿˜æ²¡æœ‰è§¦å‘ï¼Œ300msä¹‹åç”±äºè’™å±‚éšè—ï¼Œæˆ‘ä»¬çš„clickè§¦å‘åˆ°äº†ä¸‹é¢çš„aé“¾æ¥ä¸Š<br>å°½é‡éƒ½ä½¿ç”¨touchäº‹ä»¶æ¥æ›¿æ¢clickäº‹ä»¶ã€‚ä¾‹å¦‚ç”¨touchendäº‹ä»¶(æ¨è)ã€‚<br>ç”¨fastclickï¼Œgithub.com/ftlabs/fastâ€¦<br>ç”¨preventDefaulté˜»æ­¢aæ ‡ç­¾çš„click<br>æ¶ˆé™¤ IE10 é‡Œé¢çš„é‚£ä¸ªå‰å·<br>input:-ms-clear{display:none;}</p>
</li>
<li><p>è®¾ç½®ç¼“å­˜ æ‰‹æœºé¡µé¢é€šå¸¸åœ¨ç¬¬ä¸€æ¬¡åŠ è½½åä¼šè¿›è¡Œç¼“å­˜ï¼Œç„¶åæ¯æ¬¡åˆ·æ–°ä¼šä½¿ç”¨ç¼“å­˜è€Œä¸æ˜¯å»é‡æ–°å‘æœåŠ¡å™¨å‘é€è¯·æ±‚ã€‚å¦‚æœä¸å¸Œæœ›ä½¿ç”¨ç¼“å­˜å¯ä»¥è®¾ç½®no-cacheã€‚</p>
</li>
<li><p>åœ†è§’BUG æŸäº›Androidæ‰‹æœºåœ†è§’å¤±æ•ˆ background-clip: padding-box; é˜²æ­¢æ‰‹æœºä¸­ç½‘é¡µæ”¾å¤§å’Œç¼©å° è¿™ç‚¹æ˜¯æœ€åŸºæœ¬çš„ï¼Œåšä¸ºæ‰‹æœºç½‘ç«™å¼€å‘è€…æ¥è¯´åº”è¯¥éƒ½çŸ¥é“çš„ï¼Œå°±æ˜¯è®¾ç½®metaä¸­çš„viewport</p>
</li>
<li><p>è®¾ç½®ç”¨æˆ·æˆªæ­¢ç¼©æ”¾ï¼Œä¸€èˆ¬å†™è§†å£çš„æ—¶å€™å°±å·²ç»å†™å¥½äº†ã€‚</p>
</li>
</ul>
]]></content>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title>åˆ¤æ–­æ•°æ®ç±»å‹çš„å‡ ç§æ–¹å¼</title>
    <url>/2020/02/28/2020/2%E6%9C%88/0228/</url>
    <content><![CDATA[<h3 id="åˆ¤æ–­æ•°æ®ç±»å‹"><a href="#åˆ¤æ–­æ•°æ®ç±»å‹" class="headerlink" title="åˆ¤æ–­æ•°æ®ç±»å‹"></a>åˆ¤æ–­æ•°æ®ç±»å‹</h3><h4 id="1-typeof"><a href="#1-typeof" class="headerlink" title="1. typeof"></a>1. typeof</h4><p>è¿”å›æ•°æ®ç±»å‹ï¼ŒåŒ…å«è¿™7ç§ï¼š numberã€booleanã€symbolã€stringã€objectã€undefinedã€functionã€‚</p>
<p>å¼•ç”¨ç±»å‹ï¼Œé™¤äº†functionè¿”å›functionç±»å‹å¤–ï¼Œå…¶ä»–å‡è¿”å›objectã€‚</p>
<p>å…¶ä¸­ï¼Œnull æœ‰å±äºè‡ªå·±çš„æ•°æ®ç±»å‹ Null ï¼Œ å¼•ç”¨ç±»å‹ä¸­çš„ æ•°ç»„ã€æ—¥æœŸã€æ­£åˆ™ ä¹Ÿéƒ½æœ‰å±äºè‡ªå·±çš„å…·ä½“ç±»å‹ï¼Œè€Œ typeof å¯¹äºè¿™äº›ç±»å‹çš„å¤„ç†ï¼Œåªè¿”å›äº†å¤„äºå…¶åŸå‹é“¾æœ€é¡¶ç«¯çš„ Object ç±»å‹ï¼Œæ²¡æœ‰é”™ï¼Œä½†ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ç»“æœã€‚</p>
<h4 id="2-Object-prototype-toString-call"><a href="#2-Object-prototype-toString-call" class="headerlink" title="2. Object.prototype.toString.call()"></a>2. Object.prototype.toString.call()</h4><p>toString() æ˜¯ Object çš„åŸå‹æ–¹æ³•ï¼Œè°ƒç”¨è¯¥æ–¹æ³•ï¼Œé»˜è®¤è¿”å›å½“å‰å¯¹è±¡çš„ [[Class]] ã€‚è¿™æ˜¯ä¸€ä¸ªå†…éƒ¨å±æ€§ï¼Œå…¶æ ¼å¼ä¸º [object Xxx] ï¼Œå…¶ä¸­ Xxx å°±æ˜¯å¯¹è±¡çš„ç±»å‹ã€‚</p>
<p>å¯¹äº Object å¯¹è±¡ï¼Œç›´æ¥è°ƒç”¨ toString()  å°±èƒ½è¿”å› [object Object] ã€‚è€Œå¯¹äºå…¶ä»–å¯¹è±¡ï¼Œåˆ™éœ€è¦é€šè¿‡ call / apply æ¥è°ƒç”¨æ‰èƒ½è¿”å›æ­£ç¡®çš„ç±»å‹ä¿¡æ¯ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Object</span>.prototype.toString.call(<span class="string">''</span>) ;   <span class="comment">// [object String]</span></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call(<span class="number">1</span>) ;    <span class="comment">// [object Number]</span></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call(<span class="literal">true</span>) ; <span class="comment">// [object Boolean]</span></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call(<span class="built_in">Symbol</span>()); <span class="comment">//[object Symbol]</span></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call(<span class="literal">undefined</span>) ; <span class="comment">// [object Undefined]</span></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call(<span class="literal">null</span>) ; <span class="comment">// [object Null]</span></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call(<span class="keyword">new</span> <span class="built_in">Function</span>()) ; <span class="comment">// [object Function]</span></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call(<span class="keyword">new</span> <span class="built_in">Date</span>()) ; <span class="comment">// [object Date]</span></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call([]) ; <span class="comment">// [object Array]</span></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call(<span class="keyword">new</span> <span class="built_in">RegExp</span>()) ; <span class="comment">// [object RegExp]console.log(2 instanceof Number);                    // false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">true</span> <span class="keyword">instanceof</span> <span class="built_in">Boolean</span>);                <span class="comment">// false </span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'str'</span> <span class="keyword">instanceof</span> <span class="built_in">String</span>);                <span class="comment">// false  </span></span><br><span class="line"><span class="built_in">console</span>.log([] <span class="keyword">instanceof</span> <span class="built_in">Array</span>);                    <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125; <span class="keyword">instanceof</span> <span class="built_in">Function</span>);       <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(&#123;&#125; <span class="keyword">instanceof</span> <span class="built_in">Object</span>);                   <span class="comment">// true    </span></span><br><span class="line"><span class="comment">// console.log(undefined instanceof Undefined);</span></span><br><span class="line"><span class="comment">// console.log(null instanceof Null);</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call(<span class="keyword">new</span> <span class="built_in">Error</span>()) ; <span class="comment">// [object Error]</span></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call(<span class="built_in">document</span>) ; <span class="comment">// [object HTMLDocument]</span></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call(<span class="built_in">window</span>) ; <span class="comment">//[object global] window æ˜¯å…¨å±€å¯¹è±¡ global çš„å¼•ç”¨</span></span><br></pre></td></tr></table></figure>
<h4 id="3-constructor"><a href="#3-constructor" class="headerlink" title="3. constructor"></a>3. constructor</h4><p>constructoræ˜¯åŸå‹prototypeçš„ä¸€ä¸ªå±æ€§ï¼Œå½“å‡½æ•°è¢«å®šä¹‰æ—¶å€™ï¼Œjså¼•æ“ä¼šä¸ºå‡½æ•°æ·»åŠ åŸå‹prototypeï¼Œå¹¶ä¸”è¿™ä¸ªprototypeä¸­constructorå±æ€§æŒ‡å‘å‡½æ•°å¼•ç”¨ï¼Œ å› æ­¤é‡å†™prototypeä¼šä¸¢å¤±åŸæ¥çš„constructorã€‚</p>
<h5 id="ä¸è¿‡è¿™ç§æ–¹æ³•æœ‰é—®é¢˜ï¼š"><a href="#ä¸è¿‡è¿™ç§æ–¹æ³•æœ‰é—®é¢˜ï¼š" class="headerlink" title="ä¸è¿‡è¿™ç§æ–¹æ³•æœ‰é—®é¢˜ï¼š"></a>ä¸è¿‡è¿™ç§æ–¹æ³•æœ‰é—®é¢˜ï¼š</h5><p>1ï¼šnull å’Œ undefined æ— constructorï¼Œè¿™ç§æ–¹æ³•åˆ¤æ–­ä¸äº†ã€‚</p>
<p>2ï¼šè¿˜æœ‰ï¼Œå¦‚æœè‡ªå®šä¹‰å¯¹è±¡ï¼Œå¼€å‘è€…é‡å†™prototypeä¹‹åï¼ŒåŸæœ‰çš„constructorä¼šä¸¢å¤±ï¼Œå› æ­¤ï¼Œä¸ºäº†è§„èŒƒå¼€å‘ï¼Œåœ¨é‡å†™å¯¹è±¡åŸå‹æ—¶ä¸€èˆ¬éƒ½éœ€è¦é‡æ–°ç»™ constructor èµ‹å€¼ï¼Œä»¥ä¿è¯å¯¹è±¡å®ä¾‹çš„ç±»å‹ä¸è¢«ç¯¡æ”¹ã€‚</p>
<p><img src="./img/constructor.png" alt="avatar"></p>
<h4 id="4-instanceof"><a href="#4-instanceof" class="headerlink" title="4. instanceof"></a>4. instanceof</h4><p>instanceof æ˜¯ç”¨æ¥åˆ¤æ–­ A æ˜¯å¦ä¸º B çš„å®ä¾‹ï¼Œè¡¨è¾¾å¼ä¸ºï¼šA instanceof Bï¼Œå¦‚æœ A æ˜¯ B çš„å®ä¾‹ï¼Œåˆ™è¿”å› true,å¦åˆ™è¿”å› falseã€‚ åœ¨è¿™é‡Œéœ€è¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯ï¼šinstanceof æ£€æµ‹çš„æ˜¯åŸå‹ï¼Œ</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="number">2</span> <span class="keyword">instanceof</span> <span class="built_in">Number</span>);       <span class="comment">//  false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'str'</span> <span class="keyword">instanceof</span> <span class="built_in">String</span>);   <span class="comment">//  false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">true</span> <span class="keyword">instanceof</span> <span class="built_in">Boolean</span>);   <span class="comment">//  false</span></span><br><span class="line"><span class="built_in">console</span>.log([] <span class="keyword">instanceof</span> <span class="built_in">Array</span>);       <span class="comment">//  true</span></span><br><span class="line"><span class="built_in">console</span>.log(&#123;&#125; <span class="keyword">instanceof</span> <span class="built_in">Object</span>);      <span class="comment">//  true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125; <span class="keyword">instanceof</span> <span class="built_in">Function</span>)  <span class="comment">//  true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">undefined</span> <span class="keyword">instanceof</span> Undefined);  <span class="comment">//  true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">null</span> <span class="keyword">instanceof</span> Null);      <span class="comment">//  true</span></span><br></pre></td></tr></table></figure>
<p>åœ¨è¿™é‡Œå­—é¢é‡å€¼ï¼Œ2ï¼Œtrueï¼Œâ€™strâ€™ä¸æ˜¯å®ä¾‹ï¼Œæ‰€ä»¥åˆ¤æ–­ä¸ºfalseã€‚</p>
<p><img src="./img/instanceof.png" alt="avatar"></p>
<p>ç”±ä¸Šå›¾å¯ä»¥çœ‹å‡º[]çš„åŸå‹æŒ‡å‘Array.prototypeï¼Œé—´æ¥æŒ‡å‘Object.prototype, å› æ­¤ [] instanceof Array è¿”å›trueï¼Œ [] instanceof Object ä¹Ÿè¿”å›trueã€‚</p>
<p>instanceof åªèƒ½ç”¨æ¥åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦å±äºå®ä¾‹å…³ç³»ï¼Œ è€Œä¸èƒ½åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡å®ä¾‹å…·ä½“å±äºå“ªç§ç±»å‹ã€‚</p>
]]></content>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title>ä»€ä¹ˆæ˜¯babel?</title>
    <url>/2020/03/02/2020/3%E6%9C%88/0302/</url>
    <content><![CDATA[<h3 id="ä»€ä¹ˆæ˜¯babel"><a href="#ä»€ä¹ˆæ˜¯babel" class="headerlink" title="ä»€ä¹ˆæ˜¯babel?"></a>ä»€ä¹ˆæ˜¯babel?</h3><p>å®˜æ–¹çš„è§£é‡Š Babel æ˜¯ä¸€ä¸ª JavaScript ç¼–è¯‘å™¨ï¼Œç”¨äºå°† ECMAScript 2015+ ç‰ˆæœ¬çš„ä»£ç è½¬æ¢ä¸ºå‘åå…¼å®¹çš„ JavaScript è¯­æ³•ï¼Œä»¥ä¾¿èƒ½å¤Ÿè¿è¡Œåœ¨å½“å‰ç‰ˆæœ¬å’Œæ—§ç‰ˆæœ¬çš„æµè§ˆå™¨æˆ–å…¶ä»–ç¯å¢ƒä¸­ã€‚ç®€å•æ¥è¯´ Babel çš„å·¥ä½œå°±æ˜¯ï¼š</p>
<ul>
<li>è¯­æ³•è½¬æ¢</li>
<li>é€šè¿‡Polyfillçš„æ–¹å¼åœ¨ç›®æ ‡ç¯å¢ƒä¸­æ·»åŠ ç¼ºå¤±çš„ç‰¹æ€§</li>
<li>JSæºç è½¬æ¢</li>
</ul>
<h3 id="babelçš„åŸºæœ¬åŸç†"><a href="#babelçš„åŸºæœ¬åŸç†" class="headerlink" title="babelçš„åŸºæœ¬åŸç†"></a>babelçš„åŸºæœ¬åŸç†</h3><p>åŸç†å¾ˆç®€å•ï¼Œæ ¸å¿ƒå°±æ˜¯ AST (æŠ½è±¡è¯­æ³•æ ‘)ã€‚é¦–å…ˆå°†æºç è½¬æˆæŠ½è±¡è¯­æ³•æ ‘ï¼Œç„¶åå¯¹è¯­æ³•æ ‘è¿›è¡Œå¤„ç†ç”Ÿæˆæ–°çš„è¯­æ³•æ ‘ï¼Œæœ€åå°†æ–°è¯­æ³•æ ‘ç”Ÿæˆæ–°çš„ JS ä»£ç ï¼Œæ•´ä¸ªç¼–è¯‘è¿‡ç¨‹å¯ä»¥åˆ†ä¸º 3 ä¸ªé˜¶æ®µ parsing (è§£æ)ã€transforming (è½¬æ¢)ã€generating (ç”Ÿæˆ)ï¼Œéƒ½æ˜¯åœ¨å›´ç»•ç€ AST å»åšæ–‡ç« ï¼Œè¯ä¸å¤šè¯´ä¸Šå›¾ï¼š</p>
<p>Babel åªè´Ÿè´£ç¼–è¯‘æ–°æ ‡å‡†å¼•å…¥çš„æ–°è¯­æ³•ï¼Œæ¯”å¦‚ Arrow functionã€Classã€ES Module ç­‰ï¼Œå®ƒä¸ä¼šç¼–è¯‘åŸç”Ÿå¯¹è±¡æ–°å¼•å…¥çš„æ–¹æ³•å’Œ APIï¼Œæ¯”å¦‚ Array.includesï¼ŒMapï¼ŒSet ç­‰ï¼Œè¿™äº›éœ€è¦é€šè¿‡ Polyfill æ¥è§£å†³</p>
<h3 id="babelçš„ä½¿ç”¨"><a href="#babelçš„ä½¿ç”¨" class="headerlink" title="babelçš„ä½¿ç”¨"></a>babelçš„ä½¿ç”¨</h3><h5 id="è¿è¡Œbabelæ‰€éœ€çš„åŸºæœ¬ç¯å¢ƒ"><a href="#è¿è¡Œbabelæ‰€éœ€çš„åŸºæœ¬ç¯å¢ƒ" class="headerlink" title="è¿è¡Œbabelæ‰€éœ€çš„åŸºæœ¬ç¯å¢ƒ"></a>è¿è¡Œbabelæ‰€éœ€çš„åŸºæœ¬ç¯å¢ƒ</h5><ol>
<li><p>babel/cli</p>
</li>
<li><p>babel/core</p>
</li>
</ol>
<h5 id="é…ç½®babel"><a href="#é…ç½®babel" class="headerlink" title="é…ç½®babel"></a>é…ç½®babel</h5><ol>
<li><p>babel.config.js</p>
</li>
<li><p>.babelrc</p>
</li>
<li><p>babelrc.js</p>
</li>
<li><p>package.json</p>
</li>
</ol>
<p>å››ç§é…ç½®æ–¹å¼ä½œç”¨éƒ½ä¸€æ ·ï¼Œä½ å°±åˆç€è‡ªå·±çš„å£å‘³æ¥ï¼Œé‚£ç§çœ‹ç€é¡ºçœ¼ï¼Œä½ å°±ç¿»å®ƒã€‚</p>
<h3 id="æ’ä»¶-Plugins"><a href="#æ’ä»¶-Plugins" class="headerlink" title="æ’ä»¶(Plugins)"></a>æ’ä»¶(Plugins)</h3><p>æ’ä»¶ä½¿ç”¨æ¥å®šä¹‰å¦‚ä½•è½¬æ¢ä½ çš„ä»£ç çš„ã€‚åœ¨babelçš„é…ç½®é¡¹ä¸­å¡«å†™éœ€è¦ä½¿ç”¨çš„æ’ä»¶åç§°ï¼Œbabelåœ¨ç¼–è¯‘çš„æ—¶å€™å°±ä¼šå»åŠ è½½node_modulesä¸­å¯¹åº”çš„npmåŒ…ï¼Œç„¶åç¼–è¯‘æ’ä»¶å¯¹åº”çš„è¯­æ³•ã€‚</p>
<p>.babelrc</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"plugins"</span>: [</span><br><span class="line">    <span class="string">"transform-decorators-legacy"</span>,</span><br><span class="line">    <span class="string">"transform-class-properties"</span></span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="æ’ä»¶æ‰§è¡Œé¡ºåº"><a href="#æ’ä»¶æ‰§è¡Œé¡ºåº" class="headerlink" title="æ’ä»¶æ‰§è¡Œé¡ºåº"></a>æ’ä»¶æ‰§è¡Œé¡ºåº</h5><p>æ’ä»¶åœ¨é¢„è®¾(persets)å‰è¿è¡Œã€‚</p>
<p>æ’ä»¶çš„æ‰§è¡Œé¡ºåºæ˜¯ä»å·¦å¾€å³æ‰§è¡Œã€‚ä¹Ÿå°±æ˜¯è¯´åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œbabelåœ¨è¿›è¡ŒASTéå†çš„æ—¶å€™ä¼šå…ˆè°ƒç”¨transform-decorators-legacyæ’ä»¶ä¸­å®šä¹‰çš„è½¬æ¢æ–¹æ³•ï¼Œç„¶åå†è°ƒç”¨transform-class-propertiesä¸­çš„æ–¹æ³•ã€‚</p>
<h5 id="æ’ä»¶ä¼ å‚"><a href="#æ’ä»¶ä¼ å‚" class="headerlink" title="æ’ä»¶ä¼ å‚"></a>æ’ä»¶ä¼ å‚</h5><p>å‚æ•°æ˜¯ç”±æ’ä»¶åç§°å’Œå‚æ•°å¯¹è±¡ç»„æˆçš„ä¸€ä¸ªæ•°ç»„</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"plugins"</span>: [</span><br><span class="line">    [</span><br><span class="line">        <span class="string">"import"</span>,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">"libraryName"</span>: <span class="string">"antd"</span>,</span><br><span class="line">            <span class="attr">"libraryDirectory"</span>: <span class="string">"es"</span>,</span><br><span class="line">            <span class="attr">"style"</span>: <span class="string">"css"</span></span><br><span class="line">        &#125;</span><br><span class="line">    ],</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="æ’ä»¶åç§°"><a href="#æ’ä»¶åç§°" class="headerlink" title="æ’ä»¶åç§°"></a>æ’ä»¶åç§°</h5><p>æ’ä»¶åç§°å¦‚æœä¸º @babel/plugin-xxxï¼Œå¯ä»¥ä½¿ç”¨çŸ­åç§°@babel/xxï¼Œå¦‚æœä¸ºbabel-plugin-xxï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨xxã€‚</p>
<h5 id="è‡ªå®šä¹‰æ’ä»¶"><a href="#è‡ªå®šä¹‰æ’ä»¶" class="headerlink" title="è‡ªå®šä¹‰æ’ä»¶"></a>è‡ªå®šä¹‰æ’ä»¶</h5><h3 id="é¢„è®¾-Presets"><a href="#é¢„è®¾-Presets" class="headerlink" title="é¢„è®¾(Presets)"></a>é¢„è®¾(Presets)</h3><p>é¢„è®¾å°±æ˜¯ä¸€å †æ’ä»¶(Plugin)çš„ç»„åˆï¼Œä»è€Œè¾¾åˆ°æŸç§è½¬è¯‘çš„èƒ½åŠ›ï¼Œå°±æ¯”å¦‚reactä¸­ä½¿ç”¨åˆ°çš„@babel/perset-reactï¼Œä»–å°±æ˜¯ä¸‹é¢å‡ ç§æ’ä»¶çš„ç»„åˆã€‚</p>
<ul>
<li>@babel/plugin-syntax-jsx</li>
<li>@babel/plugin-transform-react-jsx</li>
<li>@babel/plugin-transform-react-display-name</li>
</ul>
<p>å½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥æ‰‹åŠ¨çš„åœ¨pluginsä¸­é…ç½®ä¸€ç³»åˆ—çš„pluginæ¥è¾¾åˆ°ç›®çš„ï¼Œå°±åƒè¿™æ ·ï¼š</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"plugins"</span>: [</span><br><span class="line">    <span class="string">"@babel/plugin-syntax-jsx"</span>,</span><br><span class="line">    <span class="string">"@babel/plugin-transform-react-jsx"</span>,</span><br><span class="line">    <span class="string">"@babel/plugin-transform-react-display-name"</span></span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä½†æ˜¯è¿™æ ·ä¸€æ–¹é¢æ˜¾å¾—ä¸é‚£ä¹ˆä¼˜é›…ï¼Œå¦ä¸€æ–¹é¢å¢åŠ äº†ä½¿ç”¨è€…çš„ä½¿ç”¨éš¾åº¦ã€‚å¦‚æœç›´æ¥ä½¿ç”¨é¢„è®¾å°±æ¸…æ–°è„±ä¿—å¤šäº†~</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"persets"</span>: [</span><br><span class="line">    <span class="string">"@babel/preset-react"</span></span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="é¢„è®¾-Presets-çš„æ‰§è¡Œé¡ºåº"><a href="#é¢„è®¾-Presets-çš„æ‰§è¡Œé¡ºåº" class="headerlink" title="é¢„è®¾(Presets)çš„æ‰§è¡Œé¡ºåº"></a>é¢„è®¾(Presets)çš„æ‰§è¡Œé¡ºåº</h5><p>å‰é¢æåˆ°æ’ä»¶çš„æ‰§è¡Œé¡ºåºæ˜¯ä»å·¦å¾€å³ï¼Œè€Œé¢„è®¾çš„æ‰§è¡Œé¡ºåºæ°å¥½åå…¶é“è¡Œä¹‹ï¼Œå®ƒæ˜¯ä»å³å¾€å·¦ã€‚</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"presets"</span>: [</span><br><span class="line">    <span class="string">"a"</span>,</span><br><span class="line">    <span class="string">"b"</span>,</span><br><span class="line">    <span class="string">"c"</span></span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å®ƒçš„æ‰§è¡Œé¡ºåºæ˜¯ cã€bã€aï¼Œæ˜¯ä¸æ˜¯æœ‰ç‚¹å¥‡æ€ªï¼Œè¿™ä¸»è¦æ˜¯ä¸ºäº†ç¡®ä¿å‘åå…¼å®¹ï¼Œå› ä¸ºå¤§å¤šæ•°ç”¨æˆ·å°† â€œes2015â€ æ”¾åœ¨ â€œstage-0â€ ä¹‹å‰ã€‚</p>
<h5 id="è‡ªå®šä¹‰é¢„è®¾-Presets"><a href="#è‡ªå®šä¹‰é¢„è®¾-Presets" class="headerlink" title="è‡ªå®šä¹‰é¢„è®¾(Presets)"></a>è‡ªå®šä¹‰é¢„è®¾(Presets)</h5><h5 id="é‚£äº›å¥¹è®¤è¯†ä½ è€Œä½ ä¸è®¤è¯†å¥¹çš„é¢„è®¾-Presets"><a href="#é‚£äº›å¥¹è®¤è¯†ä½ è€Œä½ ä¸è®¤è¯†å¥¹çš„é¢„è®¾-Presets" class="headerlink" title="é‚£äº›å¥¹è®¤è¯†ä½ è€Œä½ ä¸è®¤è¯†å¥¹çš„é¢„è®¾(Presets)"></a>é‚£äº›å¥¹è®¤è¯†ä½ è€Œä½ ä¸è®¤è¯†å¥¹çš„é¢„è®¾(Presets)</h5><ol>
<li>@babel/preset-stage-xxx</li>
</ol>
<p>@babel/perset-stage-xxx æ˜¯ESåœ¨ä¸åŒé˜¶æ®µè¯­æ³•ææ¡ˆçš„è½¬ç è§„åˆ™è€Œäº§ç”Ÿçš„é¢„è®¾ï¼Œéšç€è¢«æ‰¹å‡†ä¸ºESæ–°ç‰ˆæœ¬çš„ç»„æˆéƒ¨åˆ†è€Œè¿›è¡Œç›¸åº”çš„æ”¹å˜ï¼ˆä¾‹å¦‚ES6/ES2015ï¼‰ã€‚</p>
<p>ææ¡ˆåˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªé˜¶æ®µï¼š</p>
<ul>
<li>stage-0ï¼Œè®¾æƒ³ï¼šåªæ˜¯ä¸€ä¸ªæƒ³æ³•ï¼Œå¯èƒ½æœ‰babelæ’ä»¶ï¼Œstage-0çš„åŠŸèƒ½èŒƒå›´æœ€å¹¿ï¼ŒåŒ…å«stage-1ï¼Œstage-2ï¼Œstage-3çš„æ‰€æœ‰åŠŸèƒ½</li>
<li>stage-1ï¼Œå»ºè®®ï¼šè¿™æ˜¯å€¼å¾—è·Ÿè¿›çš„</li>
<li>stage-2ï¼Œè‰æ¡ˆï¼šåˆå§‹è§„èŒƒ</li>
<li>stage-3ï¼Œå€™é€‰ï¼šå®Œæˆè§„èŒƒå¹¶åœ¨æµè§ˆå™¨ä¸Šåˆæ­¥å®ç°</li>
<li>stage-4ï¼Œå®Œæˆï¼šå°†æ·»åŠ åˆ°ä¸‹ä¸€ä¸ªå¹´åº¦ç‰ˆæœ¬å‘å¸ƒä¸­</li>
</ul>
<ol start="2">
<li>@babel-preset-es2015</li>
</ol>
<p>preset-es2015æ˜¯ä»…åŒ…å«ES6åŠŸèƒ½çš„Babelé¢„è®¾ã€‚</p>
<p>å®é™…ä¸Šåœ¨babel7å‡ºæ¥åä¸Šé¢æåˆ°çš„è¿™äº›é¢„è®¾stage-xï¼Œpreset-es2015éƒ½å¯ä»¥åºŸå¼ƒäº†ï¼Œå› ä¸º@bael/preset-envå‡ºæ¥ä¸€ç»Ÿæ±Ÿæ¹–äº†ã€‚</p>
<ol start="3">
<li>@babel/preset-env</li>
</ol>
<p>å‰é¢ä¸¤ä¸ªé¢„è®¾æ˜¯ä»ESæ ‡å‡†çš„ç»´åº¦æ¥ç¡®å®šè½¬ç è§„åˆ™çš„ï¼Œè€Œ@babel/preset-envæ˜¯æ ¹æ®æµè§ˆå™¨çš„ä¸åŒç‰ˆæœ¬ä¸­ç¼ºå¤±çš„åŠŸèƒ½ç¡®å®šè½¬æ¢è§„åˆ™çš„ï¼Œåœ¨é…ç½®çš„æ—¶å€™æˆ‘ä»¬åªéœ€è¦é…ç½®éœ€è¦æ”¯æŒçš„æµè§ˆå™¨ç‰ˆæœ¬å°±å¥½äº†ï¼Œ@babel/preset-envä¼š<br>æ ¹æ®ç›®æ ‡æµè§ˆå™¨ç”Ÿæˆå¯¹åº”çš„æ’ä»¶åˆ—è¡¨ç„¶åè¿›è¡Œç¼–è¯‘ï¼š</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line"> <span class="attr">"presets"</span>: [</span><br><span class="line">   [<span class="string">"env"</span>, &#123;</span><br><span class="line">     <span class="attr">"targets"</span>: &#123;</span><br><span class="line">       <span class="attr">"browser"</span>: [<span class="string">"last 10 versions"</span>, <span class="string">"ie &gt;= 9"</span>]</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;],</span><br><span class="line"> ],</span><br><span class="line"> ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨é»˜è®¤æƒ…å†µä¸‹@babel/preset-envæ”¯æŒå°†JSç›®å‰æœ€æ–°çš„è¯­æ³•è½¬æˆES5ï¼Œä½†éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœä½ ä»£ç ä¸­ç”¨åˆ°äº†è¿˜æ²¡æœ‰æˆä¸ºJSæ ‡å‡†çš„è¯­æ³•ï¼Œè¯¥è¯­æ³•æš‚æ—¶è¿˜å¤„äºstageé˜¶æ®µï¼Œè¿™ä¸ªæ—¶å€™è¿˜æ˜¯éœ€è¦å®‰è£…å¯¹åº”çš„stageé¢„è®¾ï¼Œä¸ç„¶ç¼–è¯‘ä¼šæŠ¥é”™ã€‚</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line"> <span class="attr">"presets"</span>: [</span><br><span class="line">   [<span class="string">"env"</span>, &#123;</span><br><span class="line">     <span class="attr">"targets"</span>: &#123;</span><br><span class="line">       <span class="attr">"browsers"</span>: [<span class="string">"last 10 versions"</span>, <span class="string">"ie &gt;= 9"</span>]</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;],</span><br><span class="line"> ],</span><br><span class="line"> <span class="attr">"stage-0"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è™½ç„¶å¯ä»¥é‡‡ç”¨é»˜è®¤é…ç½®ï¼Œä½†å¦‚æœä¸éœ€è¦ç…§é¡¾æ‰€æœ‰çš„æµè§ˆå™¨ï¼Œè¿˜æ˜¯å»ºè®®ä½ é…ç½®ç›®æ ‡æµè§ˆå™¨å’Œç¯å¢ƒï¼Œè¿™æ ·å¯ä»¥ä¿è¯ç¼–è¯‘åçš„ä»£ç ä½“ç§¯è¶³å¤Ÿå°ï¼Œå› ä¸ºåœ¨æœ‰çš„ç‰ˆæœ¬æµè§ˆå™¨ä¸­ï¼Œæ–°è¯­æ³•æœ¬èº«å°±èƒ½æ‰§è¡Œï¼Œä¸éœ€è¦ç¼–è¯‘ã€‚@babel/preset-env åœ¨é»˜è®¤æƒ…å†µä¸‹å’Œ preset-stage-x ä¸€æ ·åªç¼–è¯‘è¯­æ³•ï¼Œä¸ä¼šå¯¹æ–°æ–¹æ³•å’Œæ–°çš„åŸç”Ÿå¯¹è±¡è¿›è¡Œè½¬è¯‘ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> arrFun = <span class="function"><span class="params">()</span>=&gt;</span>&#123;&#125;</span><br><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line"><span class="built_in">console</span>.log(arr.includes(<span class="number">1</span>))</span><br></pre></td></tr></table></figure>
<p>è½¬æ¢å</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="meta">"use strict"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> arrFun = <span class="function"><span class="keyword">function</span> <span class="title">arrFun</span>(<span class="params"></span>) </span>&#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="built_in">console</span>.log(arr.includes(<span class="number">1</span>));</span><br></pre></td></tr></table></figure>
<p>ç®­å¤´å‡½æ•°è¢«è½¬æ¢äº†ï¼Œä½†æ˜¯ Array.includes æ–¹æ³•ï¼Œå¹¶æ²¡æœ‰è¢«å¤„ç†ï¼Œè¿™ä¸ªæ—¶å€™è¦æ˜¯ç¨‹åºè·‘åœ¨ä½ç‰ˆæœ¬çš„æµè§ˆå™¨ä¸Šï¼Œå°±ä¼šå‡ºç° includes is not function çš„é”™è¯¯ã€‚è¿™ä¸ªæ—¶å€™å°±éœ€è¦ polyfill é—ªäº®ç™»åœºäº†ã€‚</p>
<h3 id="Polyfill"><a href="#Polyfill" class="headerlink" title="Polyfill"></a>Polyfill</h3><p>polyfill çš„ç¿»è¯‘è¿‡æ¥å°±æ˜¯å«ç‰‡ï¼Œå«ç‰‡å°±æ˜¯å«å¹³ä¸åŒæµè§ˆå™¨ç¯å¢ƒçš„å·®å¼‚ï¼Œè®©å¤§å®¶éƒ½ä¸€æ ·ã€‚</p>
<h5 id="babel-polyfill-æ¨¡å—å¯ä»¥æ¨¡æ‹Ÿå®Œæ•´çš„ES5ç¯å¢ƒã€‚-babel7-4ä»¥ä¸Šç‰ˆæœ¬å·²ç»å¼ƒç”¨ï¼Œå¯ä»¥ç”¨core-jsä»£æ›¿"><a href="#babel-polyfill-æ¨¡å—å¯ä»¥æ¨¡æ‹Ÿå®Œæ•´çš„ES5ç¯å¢ƒã€‚-babel7-4ä»¥ä¸Šç‰ˆæœ¬å·²ç»å¼ƒç”¨ï¼Œå¯ä»¥ç”¨core-jsä»£æ›¿" class="headerlink" title="@babel/polyfill æ¨¡å—å¯ä»¥æ¨¡æ‹Ÿå®Œæ•´çš„ES5ç¯å¢ƒã€‚ babel7.4ä»¥ä¸Šç‰ˆæœ¬å·²ç»å¼ƒç”¨ï¼Œå¯ä»¥ç”¨core-jsä»£æ›¿"></a>@babel/polyfill æ¨¡å—å¯ä»¥æ¨¡æ‹Ÿå®Œæ•´çš„ES5ç¯å¢ƒã€‚ babel7.4ä»¥ä¸Šç‰ˆæœ¬å·²ç»å¼ƒç”¨ï¼Œå¯ä»¥ç”¨core-jsä»£æ›¿</h5><p>æ³¨æ„ @babel/polyfill ä¸æ˜¯åœ¨ Babel é…ç½®æ–‡ä»¶ä¸­é…ç½®ï¼Œè€Œæ˜¯åœ¨æˆ‘ä»¬çš„ä»£ç ä¸­å¼•å…¥ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'@babel/polyfill'</span>;</span><br><span class="line"><span class="keyword">const</span> arrFun = <span class="function"><span class="params">()</span>=&gt;</span>&#123;&#125;</span><br><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line"><span class="built_in">console</span>.log(arr.includes(<span class="number">1</span>))</span><br><span class="line"><span class="built_in">Promise</span>.resolve(<span class="literal">true</span>)</span><br></pre></td></tr></table></figure>
<p>è¿™æ ·åœ¨ä½ç‰ˆæœ¬çš„æµè§ˆå™¨ä¸­ä¹Ÿèƒ½æ­£å¸¸è¿è¡Œäº†ã€‚</p>
<p>ä½¿ç”¨core-jsä»£æ›¿ï¼Œä¸éœ€è¦åœ¨æ–‡ä»¶ä¸­å¼•å…¥@babel/polyfill</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"presets"</span>: [</span><br><span class="line">    <span class="string">"@babel/preset-flow"</span>,</span><br><span class="line">    [</span><br><span class="line">      <span class="string">"@babel/preset-env"</span>,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">"targets"</span>: &#123;</span><br><span class="line">          <span class="attr">"node"</span>: <span class="string">"8.10"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        "corejs": "3", // å£°æ˜ corejs ç‰ˆæœ¬</span><br><span class="line">        "useBuiltIns": "usage"</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="ECMAScript-å’Œ-JavaScript-çš„å…³ç³»"><a href="#ECMAScript-å’Œ-JavaScript-çš„å…³ç³»" class="headerlink" title="ECMAScript å’Œ JavaScript çš„å…³ç³»"></a>ECMAScript å’Œ JavaScript çš„å…³ç³»</h4><p>ECMAScript å’Œ JavaScript çš„å…³ç³»æ˜¯ï¼Œå‰è€…æ˜¯åè€…çš„è§„æ ¼ï¼Œåè€…æ˜¯å‰è€…çš„ä¸€ç§å®ç°ã€‚</p>
]]></content>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title>JavaScript è§‚å¯Ÿè€…æ¨¡å¼ä¸å‘å¸ƒè®¢é˜…æ¨¡å¼</title>
    <url>/2020/03/06/2020/3%E6%9C%88/0306/</url>
    <content><![CDATA[<h4 id="è§‚å¯Ÿè€…æ¨¡å¼"><a href="#è§‚å¯Ÿè€…æ¨¡å¼" class="headerlink" title="è§‚å¯Ÿè€…æ¨¡å¼"></a>è§‚å¯Ÿè€…æ¨¡å¼</h4><p>è§‚å¯Ÿè€…æ¨¡å¼å®šä¹‰äº†å¯¹è±¡é—´ä¸€ç§ä¸€å¯¹å¤šçš„ä¾èµ–å…³ç³»ï¼Œå½“ç›®æ ‡å¯¹è±¡Subjectçš„çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ï¼Œæ‰€æœ‰ä¾èµ–å®ƒçš„å¯¹è±¡ObServeéƒ½ä¼šå¾—åˆ°é€šçŸ¥ã€‚</p>
<p>æ¨¡å¼ç‰¹å¾ï¼š</p>
<p>ä¸€ä¸ªç›®æ ‡è€…å¯¹è±¡Subjectï¼Œæ‹¥æœ‰æ–¹æ³•ï¼šæ·»åŠ /åˆ é™¤/é€šçŸ¥ObServerï¼›</p>
<p>å¤šä¸ªè§‚å¯Ÿè€…å¯¹è±¡ObServeï¼Œæ‹¥æœ‰æ–¹æ³•ï¼šæ¥æ”¶SubjectçŠ¶æ€å˜æ›´é€šçŸ¥å¹¶å¤„ç†ï¼›</p>
<p>ç›®æ ‡å¯¹è±¡SubjectçŠ¶æ€å˜æ›´æ—¶ï¼Œé€šçŸ¥æ‰€æœ‰ObServerã€‚</p>
<p>Subjectæ·»åŠ ä¸€ç³»åˆ—ObServerï¼ŒSubjectè´Ÿè´£ç»´æŠ¤ä¸è¿™äº›ObServeä¹‹é—´çš„è”ç³»ï¼Œ</p>
<p>ä»£ç å®ç°ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Subject</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>() &#123;</span><br><span class="line">    <span class="keyword">this</span>.observers = [];  <span class="comment">//  è§‚å¯Ÿè€…åˆ—è¡¨</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//  æ·»åŠ </span></span><br><span class="line">  add(observer) &#123;</span><br><span class="line">    <span class="keyword">this</span>.observers.push(observer);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//  åˆ é™¤</span></span><br><span class="line">  remove(observer) &#123;</span><br><span class="line">    <span class="keyword">let</span> idx = <span class="keyword">this</span>.observers.findIndex(<span class="function"><span class="params">item</span> =&gt;</span> item === observer);</span><br><span class="line">    idx &gt; <span class="number">-1</span> &amp;&amp; <span class="keyword">this</span>.observers.splice(idx, <span class="number">1</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">//  é€šçŸ¥</span></span><br><span class="line">  notify() &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> observer <span class="keyword">of</span> observers) &#123;</span><br><span class="line">      observer.update();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ObServer</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(name) &#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">  &#125;</span><br><span class="line">  update() &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`æ”¶åˆ°é€šçŸ¥ï¼š<span class="subst">$&#123;<span class="keyword">this</span>.name&#125;</span>`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//  å®ä¾‹åŒ–ç›®æ ‡è€…</span></span><br><span class="line"><span class="keyword">let</span> subject = <span class="keyword">new</span> Subject();</span><br><span class="line"><span class="comment">//  å®ä¾‹åŒ–ä¸¤ä¸ªè§‚å¯Ÿè€…</span></span><br><span class="line"><span class="keyword">let</span> obs1 = <span class="keyword">new</span> ObServer(<span class="string">'å‰ç«¯å¼€å‘è€…'</span>);</span><br><span class="line"><span class="keyword">let</span> obs2 = <span class="keyword">new</span> ObServer(<span class="string">'åç«¯å¼€å‘è€…'</span>);</span><br><span class="line"><span class="comment">//  å‘ç›®æ ‡è€…æ·»åŠ è§‚å¯Ÿè€…</span></span><br><span class="line">subject.add(obs1);</span><br><span class="line">subject.add(obs2);</span><br><span class="line"></span><br><span class="line"><span class="comment">//  ç›®æ ‡è€…é€šçŸ¥æ›´æ–°</span></span><br><span class="line">subject.notify();</span><br><span class="line"></span><br><span class="line"><span class="comment">//  è¾“å‡ºï¼š</span></span><br><span class="line"><span class="comment">//  æ”¶åˆ°é€šçŸ¥ï¼šå‰ç«¯å¼€å‘è€…</span></span><br><span class="line"><span class="comment">//  æ”¶åˆ°é€šçŸ¥ï¼šåç«¯å¼€å‘è€…</span></span><br></pre></td></tr></table></figure>
<p>ä¼˜åŠ¿ï¼šç›®æ ‡è€…ä¸è§‚å¯Ÿè€…ï¼ŒåŠŸèƒ½è€¦åˆåº¦é™ä½ï¼Œä¸“æ³¨è‡ªèº«åŠŸèƒ½é€»è¾‘ï¼›è§‚å¯Ÿè€…è¢«åŠ¨æ¥æ”¶æ›´æ–°ï¼Œæ—¶é—´ä¸Šè§£è€¦ï¼Œå®æ—¶æ¥æ”¶ç›®æ ‡è€…æ›´æ–°çŠ¶æ€ã€‚<br>ç¼ºç‚¹ï¼šè§‚å¯Ÿè€…æ¨¡å¼è™½ç„¶å®ç°äº†å¯¹è±¡é—´ä¾èµ–å…³ç³»çš„ä½è€¦åˆï¼Œä½†å´ä¸èƒ½å¯¹äº‹ä»¶é€šçŸ¥è¿›è¡Œç»†åˆ†ç®¡æ§ï¼Œå¦‚â€ç­›é€‰é€šçŸ¥â€œï¼Œâ€æŒ‡å®šä¸»é¢˜äº‹ä»¶é€šçŸ¥â€œã€‚</p>
<h4 id="å‘å¸ƒè®¢é˜…æ¨¡å¼"><a href="#å‘å¸ƒè®¢é˜…æ¨¡å¼" class="headerlink" title="å‘å¸ƒè®¢é˜…æ¨¡å¼"></a>å‘å¸ƒè®¢é˜…æ¨¡å¼</h4><p>å‘å¸ƒè®¢é˜…æ¨¡å¼åŸºäºä¸€ä¸ªäº‹ä»¶ï¼ˆä¸»é¢˜ï¼‰é€šé“ï¼Œå¸Œæœ›æ¥æ”¶é€šçŸ¥çš„å¯¹è±¡Subscriberé€šè¿‡è‡ªå®šä¹‰äº‹ä»¶è®¢é˜…ä¸»é¢˜ï¼Œè¢«æ¿€æ´»äº‹ä»¶çš„å¯¹è±¡Publisheré€šè¿‡å‘å¸ƒä¸»é¢˜äº‹ä»¶çš„æ–¹å¼é€šçŸ¥å„ä¸ªè®¢é˜…è¯¥ä¸»é¢˜çš„subscriberå¯¹è±¡ã€‚</p>
<p>ä»£ç å®ç°ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//  äº‹ä»¶ä¸­å¿ƒ</span></span><br><span class="line"><span class="keyword">let</span> pubSub = &#123;</span><br><span class="line">  list: &#123;&#125;,</span><br><span class="line">  <span class="comment">//  è®¢é˜…</span></span><br><span class="line">  subscribe: <span class="function"><span class="keyword">function</span>(<span class="params">key, fn</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="keyword">this</span>.list[key]) &#123;</span><br><span class="line">      <span class="keyword">this</span>.list[key] = [];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">this</span>.list[key].push(fn);</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">//  å‘å¸ƒ</span></span><br><span class="line">  publish: <span class="function"><span class="keyword">function</span>(<span class="params">key, ...arg</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> fn <span class="keyword">of</span> <span class="keyword">this</span>.list[key]) &#123;</span><br><span class="line">      fn.call(<span class="keyword">this</span>, ...arg);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">//  å–æ¶ˆè®¢é˜…</span></span><br><span class="line">  unSubscribe: <span class="function"><span class="keyword">function</span>(<span class="params">key, fn</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> fnList = <span class="keyword">this</span>.list[key];</span><br><span class="line">    <span class="keyword">if</span> (!fnList) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!fn) &#123;</span><br><span class="line">      <span class="comment">//  ä¸ä¼ å…¥æŒ‡å®šå–æ¶ˆçš„è®¢é˜…æ–¹æ³•ï¼Œåˆ™æ¸…ç©ºæ‰€æœ‰keyä¸‹çš„è®¢é˜…</span></span><br><span class="line">      fnList &amp;&amp; (fnList.length === <span class="number">0</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      fnList.forEach(<span class="function">(<span class="params">item, index</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (item === fn) &#123;</span><br><span class="line">          fnList.splice(index, <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//  è®¢é˜…</span></span><br><span class="line">pubSub.subscribe(<span class="string">'onwork'</span>, time =&gt; &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`ä¸Šç­äº†ï¼š<span class="subst">$&#123;time&#125;</span>`</span>);</span><br><span class="line">&#125;)</span><br><span class="line">pubSub.subscribe(<span class="string">'offwork'</span>, time =&gt; &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`ä¸‹ç­äº†ï¼š<span class="subst">$&#123;time&#125;</span>`</span>);</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//  å‘å¸ƒ</span></span><br><span class="line">pubSub.publish(<span class="string">'onwork'</span>, <span class="string">'9:00:00'</span>);</span><br><span class="line">pubSub.publish(<span class="string">'offwork'</span>, <span class="string">'18:00:00'</span>);</span><br><span class="line"><span class="comment">//  å–æ¶ˆè®¢é˜…</span></span><br><span class="line">pubSub.unSubscribe(<span class="string">'onwork'</span>);</span><br></pre></td></tr></table></figure>
<p>å‘å¸ƒè®¢é˜…æ¨¡å¼ä¸­ï¼Œè®¢é˜…è€…å„è‡ªå®ç°ä¸åŒçš„é€»è¾‘ï¼Œä¸”åªæ¥å—è‡ªå·±å¯¹åº”çš„äº‹ä»¶é€šçŸ¥ã€‚å®ç°ä½ æƒ³è¦çš„ â€œä¸ä¸€æ ·â€ã€‚</p>
<p>DOM äº‹ä»¶ç›‘å¬ä¹Ÿæ˜¯ â€œå‘å¸ƒè®¢é˜…æ¨¡å¼â€ çš„åº”ç”¨ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> loginBtn = <span class="built_in">document</span>.getElementById(<span class="string">'#loginBtn'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//  ç›‘å¬å›è°ƒå‡½æ•°ï¼ˆæŒ‡å®šäº‹ä»¶ï¼‰</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">notifyClick</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'ç‚¹å‡»'</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//  æ·»åŠ äº‹ä»¶ç›‘å¬</span></span><br><span class="line">loginBtn.addEventListener(<span class="string">'click'</span>, notifyClick);</span><br><span class="line"><span class="comment">//  è§¦å‘ç‚¹å‡»ï¼Œäº‹ä»¶ä¸­å¿ƒæ´¾å‘æŒ‡å®šäº‹ä»¶</span></span><br><span class="line">loginBtn.click();</span><br><span class="line"></span><br><span class="line"><span class="comment">//  å–æ¶ˆäº‹ä»¶ç›‘å¬</span></span><br><span class="line">loginBtn.removeEventListener(<span class="string">'click'</span>, notifyClick);</span><br></pre></td></tr></table></figure>
<p>å‘å¸ƒè®¢é˜…çš„é€šçŸ¥é¡ºåºï¼š</p>
<p>å…ˆè®¢é˜…åå‘å¸ƒæ—¶æ‰é€šçŸ¥ï¼ˆå¸¸è§„ï¼‰</p>
<p>è®¢é˜…åå¯è·å–è¿‡å¾€ä»¥åçš„å‘å¸ƒé€šçŸ¥ ï¼ˆQQç¦»çº¿æ¶ˆæ¯ï¼Œä¸Šçº¿åè·å–ä¹‹å‰çš„ä¿¡æ¯ï¼‰</p>
<p>æµè¡Œåº“çš„åº”ç”¨</p>
<p>jQuery çš„ on å’Œ triggerï¼Œ$.callback();</p>
<p>Vue çš„åŒå‘æ•°æ®ç»‘å®šï¼›</p>
<p>Vue çš„çˆ¶å­ç»„ä»¶é€šä¿¡ $on/$emit</p>
]]></content>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title>é¢ç»</title>
    <url>/2020/03/10/2020/3%E6%9C%88/0310-01/</url>
    <content><![CDATA[<h4 id="è¯´è¯´ä½ å¯¹JSæ¨¡å—åŒ–çš„ç†è§£"><a href="#è¯´è¯´ä½ å¯¹JSæ¨¡å—åŒ–çš„ç†è§£" class="headerlink" title="è¯´è¯´ä½ å¯¹JSæ¨¡å—åŒ–çš„ç†è§£"></a>è¯´è¯´ä½ å¯¹JSæ¨¡å—åŒ–çš„ç†è§£</h4><p>æ¨¡å—åŒ–å°±æ˜¯å°†ä¸€ä¸ªå¤§çš„åŠŸèƒ½æ‹†åˆ†ä¸ºå¤šä¸ªå—ï¼Œæ¯ä¸€ä¸ªå—éƒ½æ˜¯ç‹¬ç«‹çš„ï¼Œä½ ä¸éœ€è¦å»æ‹…å¿ƒæ±¡æŸ“å…¨å±€å˜é‡ï¼Œå‘½åå†²çªä»€ä¹ˆçš„ã€‚</p>
<p>é‚£ä¹ˆæ¨¡å—åŒ–çš„å¥½å¤„ä¹Ÿå°±æ˜¾ç„¶æ˜“è§äº†</p>
<ul>
<li>è§£å†³å‘½åå†²çª</li>
<li>ä¾èµ–ç®¡ç†</li>
<li>ä»£ç æ›´åŠ å¯è¯»</li>
<li>æé«˜å¤ç”¨æ€§</li>
</ul>
<p>jsè®¾è®¡ä¹‹åˆå¹¶æ²¡æœ‰æ¨¡å—åŒ–çš„æ¦‚å¿µï¼Œæ‰€ä»¥åŸå§‹æ—¶ä»£åªèƒ½é€šè¿‡è‡ªæ‰§è¡Œå‡½æ•°æ¥è®¾è®¡æ¨¡å—åŒ–</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> myModule = (<span class="function"><span class="keyword">function</span>(<span class="params">window</span>) </span>&#123;</span><br><span class="line">  <span class="comment">//  private</span></span><br><span class="line">  <span class="keyword">var</span> moduleName = <span class="string">'module'</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//  public</span></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">setModuleName</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">    moduleName = name;</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="comment">//  public</span></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">getModuleName</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> moduleName;</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> &#123;setModuleName, getModuleName&#125;;</span><br><span class="line">&#125;)(<span class="built_in">window</span>);</span><br></pre></td></tr></table></figure>
<p>å®ƒé€šè¿‡é—­åŒ…çš„ç‰¹æ€§æ‰“å¼€äº†ä¸€ä¸ªæ–°çš„ä½œç”¨åŸŸï¼Œç¼“è§£äº†å…¨å±€ä½œç”¨åŸŸå‘½åå†²çªå’Œå®‰å…¨æ€§çš„é—®é¢˜ã€‚ä½†æ˜¯ï¼Œå¼€å‘è€…å¹¶ä¸èƒ½å¤Ÿç”¨å®ƒæ¥ç»„ç»‡å’Œæ‹†åˆ†ä»£ç ï¼Œäºæ˜¯ä¹ä¾¿å‡ºç°äº†ä»¥æ­¤ä¸ºåŸºçŸ³çš„æ¨¡å—åŒ–è§„èŒƒã€‚</p>
<h5 id="1-CommonJsè§„èŒƒï¼ˆåŒæ­¥åŠ è½½æ¨¡å—ï¼‰"><a href="#1-CommonJsè§„èŒƒï¼ˆåŒæ­¥åŠ è½½æ¨¡å—ï¼‰" class="headerlink" title="1. CommonJsè§„èŒƒï¼ˆåŒæ­¥åŠ è½½æ¨¡å—ï¼‰"></a>1. CommonJsè§„èŒƒï¼ˆåŒæ­¥åŠ è½½æ¨¡å—ï¼‰</h5><ul>
<li>å…è®¸æ¨¡å—é€šè¿‡requireçš„æ–¹æ³•æ¥åŒæ­¥åŠ è½½æ‰€è¦ä¾èµ–çš„å…¶ä»–æ¨¡å—ï¼Œç„¶åé€šè¿‡exportsæˆ–module.exportsæ¥å¯¼å‡ºéœ€è¦æš´éœ²çš„æ¥å£</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//  a.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  a: <span class="number">1</span>,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// or</span></span><br><span class="line">exports.a = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//  b.js</span></span><br><span class="line"><span class="keyword">var</span> <span class="built_in">module</span> = <span class="built_in">require</span>(<span class="string">'./a.js'</span>);</span><br><span class="line"><span class="built_in">module</span>.a = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// requireå‡½æ•°åŒæ­¥åŠ è½½äº†a.jsï¼Œå¹¶ä¸”è¿”å›äº†module.exportsè¾“å‡ºå­—é¢é‡çš„æ‹·è´å€¼ã€‚</span></span><br></pre></td></tr></table></figure>
<ul>
<li>ä¼˜ç‚¹ï¼š</li>
</ul>
<blockquote>
<ol>
<li>ç®€å•å®¹æ˜“ä½¿ç”¨</li>
<li>æœåŠ¡å™¨ç«¯æ¨¡å—ä¾¿äºå¤ç”¨</li>
</ol>
</blockquote>
<ul>
<li>ç¼ºç‚¹ï¼š</li>
</ul>
<blockquote>
<ol>
<li>åŒæ­¥åŠ è½½çš„æ–¹å¼ä¸é€‚åˆåœ¨æµè§ˆå™¨ç¯å¢ƒä¸­ä½¿ç”¨ï¼ŒåŒæ­¥æ„å‘³ç€é˜»å¡åŠ è½½ï¼Œæµè§ˆå™¨èµ„æºæ˜¯å¼‚æ­¥åŠ è½½</li>
<li>ä¸èƒ½éé˜»å¡çš„å¹¶è¡ŒåŠ è½½å¤šä¸ªæ¨¡å—</li>
</ol>
</blockquote>
<h5 id="2-AMDï¼ˆå¼‚æ­¥åŠ è½½æ¨¡å—ï¼‰"><a href="#2-AMDï¼ˆå¼‚æ­¥åŠ è½½æ¨¡å—ï¼‰" class="headerlink" title="2. AMDï¼ˆå¼‚æ­¥åŠ è½½æ¨¡å—ï¼‰"></a>2. AMDï¼ˆå¼‚æ­¥åŠ è½½æ¨¡å—ï¼‰</h5><p>åŒºåˆ«äºCommonJSï¼ŒAMDè§„èŒƒçš„è¢«ä¾èµ–æ¨¡å—æ˜¯å¼‚æ­¥åŠ è½½çš„ï¼Œè€Œå®šä¹‰çš„æ¨¡å—æ˜¯è¢«å½“ä½œå›è°ƒå‡½æ•°æ¥æ‰§è¡Œçš„ï¼Œä¾èµ–äºrequire.jsæ¨¡å—ç®¡ç†å·¥å…·åº“ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">define([<span class="string">'./a'</span>, <span class="string">'./b'</span>], <span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">    a.do();</span><br><span class="line">    b.do();</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h5 id="3-CMDï¼ˆå¼‚æ­¥åŠ è½½æ¨¡å—ï¼‰"><a href="#3-CMDï¼ˆå¼‚æ­¥åŠ è½½æ¨¡å—ï¼‰" class="headerlink" title="3. CMDï¼ˆå¼‚æ­¥åŠ è½½æ¨¡å—ï¼‰"></a>3. CMDï¼ˆå¼‚æ­¥åŠ è½½æ¨¡å—ï¼‰</h5><p>CMD æ˜¯ SeaJS åœ¨æ¨å¹¿è¿‡ç¨‹ä¸­å¯¹æ¨¡å—å®šä¹‰çš„è§„èŒƒåŒ–äº§å‡ºã€‚AMD æ¨å´‡ä¾èµ–å‰ç½®ï¼ŒCMD æ¨å´‡ä¾èµ–å°±è¿‘ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">define(<span class="function"><span class="keyword">function</span>(<span class="params">require, exports, module</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> a = <span class="built_in">require</span>(<span class="string">'./a'</span>);</span><br><span class="line">  a.doSomething();</span><br><span class="line">  <span class="comment">// å¼‚æ­¥åŠ è½½ä¸€ä¸ªæ¨¡å—ï¼Œåœ¨åŠ è½½å®Œæˆæ—¶ï¼Œæ‰§è¡Œå›è°ƒ</span></span><br><span class="line">  <span class="built_in">require</span>.async([<span class="string">'./b'</span>], <span class="function"><span class="keyword">function</span>(<span class="params">b</span>) </span>&#123;</span><br><span class="line">    b.doSomething();</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="comment">// å¯¹å¤–æš´éœ²æˆå‘˜</span></span><br><span class="line">  exports.doSomething = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// ä½¿ç”¨æ¨¡å—</span></span><br><span class="line">seajs.use(<span class="string">'path'</span>);</span><br></pre></td></tr></table></figure>
<h5 id="4-ES6-module"><a href="#4-ES6-module" class="headerlink" title="4. ES6 module"></a>4. ES6 module</h5><p>ES6çš„æ¨¡å—åŒ–å·²ç»ä¸æ˜¯è§„èŒƒäº†ï¼Œè€Œæ˜¯JSè¯­è¨€çš„ç‰¹æ€§ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å¼•å…¥çš„è¯­æ³•å°±è¿™æ · importï¼ŒXXX è¿™é‡Œæœ‰å¾ˆå¤šè¯­æ³•å˜åŒ–</span></span><br><span class="line"><span class="keyword">import</span> XXX <span class="keyword">from</span> <span class="string">'./a.js'</span></span><br><span class="line"><span class="comment">// å¯¼å‡ºä¹Ÿæœ‰å¾ˆå¤šè¯­æ³•å˜åŒ–çš„å†™æ³•ï¼ŒåŸºæœ¬çš„å°±è¿™ä¸¤ä¸ªï¼Œåæ­£è¯­æ³•æ²¡ä»€ä¹ˆéš¾å¾—</span></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;</span><br></pre></td></tr></table></figure>
<p>éšç€ES6çš„æ¨å‡ºï¼ŒAMDå’ŒCMDä¹Ÿéšä¹‹æˆä¸ºäº†å†å²ã€‚ES6æ¨¡å—ä¸æ¨¡å—åŒ–è§„èŒƒç›¸æ¯”ï¼Œæœ‰ä¸¤å¤§ç‰¹ç‚¹ï¼š</p>
<ul>
<li>æ¨¡å—åŒ–è§„èŒƒè¾“å‡ºçš„æ˜¯ä¸€ä¸ªå€¼çš„æ‹·è´ï¼ŒES6 æ¨¡å—è¾“å‡ºçš„æ˜¯å€¼çš„å¼•ç”¨ã€‚</li>
<li>æ¨¡å—åŒ–è§„èŒƒæ˜¯è¿è¡Œæ—¶åŠ è½½ï¼ŒES6 æ¨¡å—æ˜¯ç¼–è¯‘æ—¶è¾“å‡ºæ¥å£ã€‚</li>
</ul>
<p>commonJs</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> count = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  count++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  count,</span><br><span class="line">  add,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> v = <span class="built_in">require</span>(<span class="string">'./common'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(v.count); <span class="comment">// 1</span></span><br><span class="line">v.add();</span><br><span class="line"><span class="built_in">console</span>.log(v.count); <span class="comment">//  1</span></span><br></pre></td></tr></table></figure>
<p>ES6</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> count = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  count++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  count,</span><br><span class="line">  add</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> v <span class="keyword">from</span> <span class="string">'./common'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(v.count); <span class="comment">//  1</span></span><br><span class="line">v.add();</span><br><span class="line"><span class="built_in">console</span>.log(v.count); <span class="comment">//  2</span></span><br></pre></td></tr></table></figure>
<h4 id="å¦‚ä½•ç†è§£åŸå‹ï¼Ÿå¦‚ä½•ç†è§£åŸå‹é“¾ï¼Ÿ"><a href="#å¦‚ä½•ç†è§£åŸå‹ï¼Ÿå¦‚ä½•ç†è§£åŸå‹é“¾ï¼Ÿ" class="headerlink" title="å¦‚ä½•ç†è§£åŸå‹ï¼Ÿå¦‚ä½•ç†è§£åŸå‹é“¾ï¼Ÿ"></a>å¦‚ä½•ç†è§£åŸå‹ï¼Ÿå¦‚ä½•ç†è§£åŸå‹é“¾ï¼Ÿ</h4><ul>
<li>prototype<br>è¿™æ˜¯ä¸€ä¸ªæ˜¾å¼åŸå‹å±æ€§ï¼Œä»»ä½•ä¸€ä¸ªå¯¹è±¡éƒ½æœ‰åŸå‹ï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªä¾‹å¤–</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> fun = <span class="built_in">Function</span>.prototype.bind();</span><br></pre></td></tr></table></figure>
<p>å¦‚æœä½ å·²ä¸Šè¿°æ–¹æ³•åˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œé‚£ä¹ˆå¯ä»¥å‘ç°è¿™ä¸ªå‡½æ•°ä¸å…·æœ‰prototypeå±æ€§ã€‚</p>
<p><strong>prototype å¦‚ä½•äº§ç”Ÿçš„</strong><br>å½“æˆ‘ä»¬å£°æ˜ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œè¿™ä¸ªå±æ€§å°±è¢«è‡ªåŠ¨åˆ›å»ºäº†</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Foo</span>(<span class="params"></span>) </span>&#123;&#125;</span><br></pre></td></tr></table></figure>
<p>å¹¶ä¸”è¿™ä¸ªå±æ€§çš„å€¼æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼ˆä¹Ÿå°±æ˜¯åŸå‹ï¼‰ï¼Œåªæœ‰ä¸€ä¸ªå±æ€§constructor</p>
<ul>
<li><p>constructor<br>constructor æ˜¯ä¸€ä¸ªå…¬æœ‰ä¸”ä¸å¯æšä¸¾çš„tag_release_20200514_003å±æ€§ã€‚ä¸€æ—¦æˆ‘ä»¬æ”¹å˜äº†å‡½æ•°çš„prototypeï¼Œé‚£ä¹ˆæ–°å¯¹è±¡å°±æ²¡æœ‰è¿™ä¸ªå±æ€§äº†ï¼ˆå½“ç„¶å¯ä»¥é€šè¿‡åŸå‹é“¾å–åˆ°constructorï¼‰</p>
</li>
<li><p>__proto__<br>è¿™æ˜¯æ¯ä¸ªå¯¹è±¡éƒ½æœ‰çš„éšå¼åŸå‹å±æ€§ï¼ŒæŒ‡å‘äº†åˆ›å»ºè¯¥å¯¹è±¡çš„æ„é€ å‡½æ•°çš„åŸå‹ã€‚å…¶å®è¿™ä¸ªå±æ€§æŒ‡å‘äº† [[prototype]]ï¼Œä½†æ˜¯ [[prototype]] æ˜¯å†…éƒ¨å±æ€§ï¼Œæˆ‘ä»¬å¹¶ä¸èƒ½è®¿é—®åˆ°ï¼Œæ‰€ä»¥ä½¿ç”¨ __proto__ æ¥è®¿é—®ã€‚</p>
</li>
</ul>
<p>**å®ä¾‹å¯¹è±¡çš„ __proto__ å¦‚ä½•äº§ç”Ÿçš„</p>
<p>å½“æˆ‘ä»¬ä½¿ç”¨ new æ“ä½œç¬¦æ—¶ï¼Œç”Ÿæˆçš„å®ä¾‹å¯¹è±¡æ‹¥æœ‰äº† <em>proto</em>å±æ€§ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Foo</span>(<span class="params"></span>) </span>&#123;&#125; <span class="comment">//  è¿™ä¸ªå‡½æ•°æ˜¯ Functionçš„å®ä¾‹å¯¹è±¡</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//  çº¯å¯¹è±¡çš„åŸå‹</span></span><br><span class="line"><span class="built_in">console</span>.log(&#123;&#125;.__proto__); <span class="comment">// &#123;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Student</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.name = name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> stu = <span class="keyword">new</span> Student(<span class="string">'wang'</span>);</span><br><span class="line"><span class="comment">//  Student ç±»å‹å®ä¾‹çš„åŸå‹ï¼Œé»˜è®¤ä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡</span></span><br><span class="line"><span class="built_in">console</span>.log(stu.__proto__); <span class="comment">//  &#123; constructor: f &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(stu.__proto__.constructor); <span class="comment">//  Student(name, age) &#123; this.name = name &#125;</span></span><br></pre></td></tr></table></figure>
<h4 id="newåšäº†ä»€ä¹ˆï¼Œnewçš„æ¨¡æ‹Ÿå®ç°"><a href="#newåšäº†ä»€ä¹ˆï¼Œnewçš„æ¨¡æ‹Ÿå®ç°" class="headerlink" title="newåšäº†ä»€ä¹ˆï¼Œnewçš„æ¨¡æ‹Ÿå®ç°"></a>newåšäº†ä»€ä¹ˆï¼Œnewçš„æ¨¡æ‹Ÿå®ç°</h4><ol>
<li>åˆ›å»ºäº†ä¸€ä¸ªå…¨æ–°çš„å¯¹è±¡ã€‚</li>
<li>è¿™ä¸ªå¯¹è±¡ä¼šè¢«æ‰§è¡Œ[[Prototype]]ï¼ˆä¹Ÿå°±æ˜¯<strong>proto</strong>ï¼‰é“¾æ¥ã€‚</li>
<li>ç”Ÿæˆçš„æ–°å¯¹è±¡ä¼šç»‘å®šåˆ°å‡½æ•°è°ƒç”¨çš„thisã€‚</li>
<li>é€šè¿‡newåˆ›å»ºçš„æ¯ä¸ªå¯¹è±¡å°†æœ€ç»ˆè¢«[[Prototype]]é“¾æ¥åˆ°è¿™ä¸ªå‡½æ•°çš„prototypeå¯¹è±¡ä¸Šã€‚</li>
<li>å¦‚æœå‡½æ•°æ²¡æœ‰è¿”å›å¯¹è±¡ç±»å‹Object(åŒ…å«Functoin, Array, Date, RegExg, Error)ï¼Œé‚£ä¹ˆnewè¡¨è¾¾å¼ä¸­çš„å‡½æ•°è°ƒç”¨ä¼šè‡ªåŠ¨è¿”å›è¿™ä¸ªæ–°çš„å¯¹è±¡ã€‚</li>
</ol>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ¨¡æ‹Ÿå®ç° new æ“ä½œç¬¦</span></span><br><span class="line"><span class="comment"> * @param  &#123;Function&#125; ctor [æ„é€ å‡½æ•°]</span></span><br><span class="line"><span class="comment"> * @return &#123;Object|Function|Regex|Date|Error&#125;      [è¿”å›ç»“æœ]</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">create</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// åˆ›å»ºä¸€ä¸ªç©ºçš„å¯¹è±¡</span></span><br><span class="line">    <span class="keyword">let</span> obj = <span class="keyword">new</span> <span class="built_in">Object</span>()</span><br><span class="line">    <span class="comment">// è·å¾—æ„é€ å‡½æ•°</span></span><br><span class="line">    <span class="keyword">let</span> Con = [].shift.call(<span class="built_in">arguments</span>)</span><br><span class="line">    <span class="comment">// é“¾æ¥åˆ°åŸå‹</span></span><br><span class="line">    obj.__proto__ = Con.prototype</span><br><span class="line">    <span class="comment">// ç»‘å®š thisï¼Œæ‰§è¡Œæ„é€ å‡½æ•°</span></span><br><span class="line">    <span class="keyword">let</span> result = Con.apply(obj, <span class="built_in">arguments</span>)</span><br><span class="line">    <span class="comment">// ç¡®ä¿ new å‡ºæ¥çš„æ˜¯ä¸ªå¯¹è±¡</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">typeof</span> result === <span class="string">'object'</span> ? result : obj</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="è°ˆè°ˆå°ç¨‹åºçš„ç™»å½•æˆæƒ"><a href="#è°ˆè°ˆå°ç¨‹åºçš„ç™»å½•æˆæƒ" class="headerlink" title="è°ˆè°ˆå°ç¨‹åºçš„ç™»å½•æˆæƒ"></a>è°ˆè°ˆå°ç¨‹åºçš„ç™»å½•æˆæƒ</h4><p>1.è°ƒç”¨ wx.login() è·å– ä¸´æ—¶ç™»å½•å‡­è¯code ï¼Œå¹¶å›ä¼ åˆ°å¼€å‘è€…æœåŠ¡å™¨ã€‚</p>
<p>2.è°ƒç”¨ code2Session æ¥å£ï¼Œæ¢å– ç”¨æˆ·å”¯ä¸€æ ‡è¯† OpenID å’Œ ä¼šè¯å¯†é’¥ session_keyã€‚</p>
<h4 id="vueçš„å‡ ç§ä¼ å‚æ–¹å¼"><a href="#vueçš„å‡ ç§ä¼ å‚æ–¹å¼" class="headerlink" title="vueçš„å‡ ç§ä¼ å‚æ–¹å¼"></a>vueçš„å‡ ç§ä¼ å‚æ–¹å¼</h4><ul>
<li><p>props</p>
</li>
<li><p>vuex</p>
</li>
<li><p>$parent</p>
</li>
<li><p>$children</p>
</li>
<li><p>provide-inject</p>
</li>
</ul>
<p>â€¦é¡¹ç›®ç›¸å…³</p>
]]></content>
      <tags>
        <tag>é¢ç»</tag>
      </tags>
  </entry>
  <entry>
    <title>å¦‚ä½•å®ç°ajax</title>
    <url>/2020/03/10/2020/3%E6%9C%88/0310/</url>
    <content><![CDATA[<h4 id="ajax"><a href="#ajax" class="headerlink" title="ajax"></a>ajax</h4><blockquote>
<p>ajaxæ˜¯å¼‚æ­¥çš„JavaScriptå’ŒXMLã€‚ajaxæ˜¯ä¸€ç§é€šè¿‡åœ¨åå°ä¸æœåŠ¡å™¨è¿›è¡Œå°‘é‡æ•°æ®äº¤æ¢ï¼Œåœ¨æ— éœ€é‡æ–°åŠ è½½æ•´ä¸ªç½‘é¡µçš„æƒ…å†µä¸‹ï¼Œæ›´æ–°éƒ¨åˆ†ç½‘é¡µçš„æŠ€æœ¯</p>
</blockquote>
<h4 id="å¦‚ä½•å®ç°ajax"><a href="#å¦‚ä½•å®ç°ajax" class="headerlink" title="å¦‚ä½•å®ç°ajax"></a>å¦‚ä½•å®ç°ajax</h4><ol>
<li><p>åˆ›å»ºXMLHttpRequestå®ä¾‹ã€‚é€šè¿‡åˆ›å»ºä¸€ä¸ªXMLHttpRequestå¯¹è±¡å¾—åˆ°ä¸€ä¸ªå®ä¾‹ï¼Œè°ƒç”¨å®ä¾‹çš„open()æ–¹æ³•ä¸ºè¿™æ¬¡ajaxè¯·æ±‚è®¾å®šç›¸åº”çš„HTTPæ–¹æ³•ï¼Œç›¸åº”çš„åœ°å€ä»¥åŠæ˜¯å¦å¼‚æ­¥ã€‚</p>
</li>
<li><p>å‘é€httpè¯·æ±‚ã€‚è°ƒç”¨spen()æ–¹æ³•å‘é€è¯·æ±‚ï¼Œå…¶å¯ä»¥æ¥æ”¶ä¸€ä¸ªå‚æ•°ï¼Œæ—¢è¦ä½œä¸ºè¯·æ±‚ä¸»ä½“æ‰€å‘é€çš„æ•°æ®ã€‚</p>
</li>
<li><p>æ¥æ”¶æœåŠ¡å™¨ç›¸åº”æ•°æ®ã€‚ç›‘å¬readystatechangeäº‹ä»¶ï¼Œé€šè¿‡è¯¥å®ä¾‹çš„readystateå±æ€§æ¥åˆ¤æ–­è¯·æ±‚çŠ¶æ€ï¼Œå…¶åˆ†ä¸º0ï¼Œ1ï¼Œ2ï¼Œ3ï¼Œ4äº”ç§çŠ¶æ€</p>
</li>
</ol>
<table>
<thead>
<tr>
<th>å±æ€§</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td>onreadystatechange</td>
<td>å­˜å‚¨å‡½æ•°ï¼ˆæˆ–å‡½æ•°åï¼‰ï¼Œæ¯å½“ readyState å±æ€§æ”¹å˜æ—¶ï¼Œå°±ä¼šè°ƒç”¨è¯¥å‡½æ•°ã€‚</td>
</tr>
<tr>
<td>readyState</td>
<td>å­˜æœ‰XMLHttpRequestçš„çŠ¶æ€ã€‚ä»0åˆ°4å‘ç”Ÿå˜åŒ–ã€‚<br><em> 0: è¯·æ±‚æœªåˆå§‹åŒ–<br></em> 1: å·²å»ºç«‹è¿æ¥ <br> <em> 2: è¯·æ±‚å·²æ¥æ”¶<br> </em> 3: è¯·æ±‚å¤„ç†ä¸­ <br> * 4: è¯·æ±‚å·²å®Œæˆï¼Œä¸”å“åº”å·²å°±ç»ª</td>
</tr>
<tr>
<td>status</td>
<td>200: â€œOKâ€<br>404: æœªæ‰¾åˆ°é¡µé¢</td>
</tr>
</tbody>
</table>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> xhr;</span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">window</span>.XMLHttpRequest) &#123;</span><br><span class="line">  xhr = <span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  xhr = <span class="keyword">new</span> ActiveXObject(<span class="string">'Microsoft.XMLHTTP'</span>);</span><br><span class="line">&#125;</span><br><span class="line">xhr.onreadystatechange(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (xhr.redayState === <span class="number">4</span> &amp;&amp; xhr.status === <span class="number">200</span>) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(xhr.responseText);</span><br><span class="line">    <span class="built_in">console</span>.log(xhr.responseXml);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">xhr.open(<span class="string">'GET'</span>, <span class="string">'www.xxxx.com/xxx/xxx'</span>, <span class="literal">true</span>);</span><br><span class="line">xhr.send(<span class="literal">null</span>);</span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title>JSæ•°æ®ç±»å‹</title>
    <url>/2020/03/13/2020/3%E6%9C%88/0313-01/</url>
    <content><![CDATA[<h2 id="åŸå§‹-Primitive-ç±»å‹"><a href="#åŸå§‹-Primitive-ç±»å‹" class="headerlink" title="åŸå§‹(Primitive)ç±»å‹"></a>åŸå§‹(Primitive)ç±»å‹</h2><p>åœ¨JSä¸­ï¼Œå­˜åœ¨6ç§åŸå§‹å€¼ï¼Œåˆ†åˆ«æ˜¯ï¼š</p>
<ul>
<li>number</li>
<li>string</li>
<li>boolean</li>
<li>null</li>
<li>undefined</li>
<li>symbol</li>
<li>bigInt</li>
</ul>
<p>é¦–å…ˆåŸå§‹ç±»å‹å­˜å‚¨çš„éƒ½æ˜¯å€¼ï¼Œæ˜¯æ²¡æœ‰å‡½æ•°å¯ä»¥è°ƒç”¨çš„ï¼Œæ¯”å¦‚undefined.toString()</p>
<p>æ­¤æ—¶ä½ è‚¯å®šä¼šæœ‰ç–‘é—®ï¼Œè¿™ä¸å¯¹å•Šï¼Œæ˜æ˜â€™1â€™.toString()æ˜¯å¯ä»¥ä½¿ç”¨çš„ã€‚å…¶å®åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œâ€™1â€™å·²ç»ä¸æ˜¯åŸå§‹ç±»å‹äº†ï¼Œè€Œæ˜¯è¢«å¼ºåˆ¶è½¬æ¢æˆäº†Stringç±»å‹ä¹Ÿå°±æ˜¯å¯¹è±¡ç±»å‹ï¼Œæ‰€ä»¥å¯ä»¥è°ƒç”¨tostringå‡½æ•°ã€‚</p>
<p>å¦å¤–å¯¹äºnullæ¥è¯´ï¼Œå¾ˆå¤šäººä¼šè®¤ä¸ºå®ƒæ˜¯ä¸ªå¯¹è±¡ç±»å‹ï¼Œå…¶å®è¿™æ˜¯é”™çš„ã€‚è™½ç„¶typeof nullä¼šè¾“å‡ºobjectï¼Œä½†æ˜¯è¿™æ˜¯JSå­˜åœ¨çš„ä¸€ä¸ªå†å²bugã€‚åœ¨ JS çš„æœ€åˆç‰ˆæœ¬ä¸­ä½¿ç”¨çš„æ˜¯ 32 ä½ç³»ç»Ÿï¼Œä¸ºäº†æ€§èƒ½è€ƒè™‘ä½¿ç”¨ä½ä½å­˜å‚¨å˜é‡çš„ç±»å‹ä¿¡æ¯ï¼Œ000 å¼€å¤´ä»£è¡¨æ˜¯å¯¹è±¡ï¼Œç„¶è€Œ null è¡¨ç¤ºä¸ºå…¨é›¶ï¼Œæ‰€ä»¥å°†å®ƒé”™è¯¯çš„åˆ¤æ–­ä¸º objectã€‚è™½ç„¶ç°åœ¨çš„å†…éƒ¨ç±»å‹åˆ¤æ–­ä»£ç å·²ç»æ”¹å˜äº†ï¼Œä½†æ˜¯å¯¹äºè¿™ä¸ª Bug å´æ˜¯ä¸€ç›´æµä¼ ä¸‹æ¥ã€‚</p>
<h2 id="å¯¹è±¡ç±»å‹"><a href="#å¯¹è±¡ç±»å‹" class="headerlink" title="å¯¹è±¡ç±»å‹"></a>å¯¹è±¡ç±»å‹</h2><p>åœ¨JSä¸­ï¼Œé™¤äº†åŸå§‹ç±»å‹å°±æ˜¯å¯¹è±¡ç±»å‹äº†ã€‚å¯¹è±¡ç±»å‹å’ŒåŸå§‹ç±»å‹çš„ä¸åŒçš„æ˜¯ï¼ŒåŸå§‹ç±»å‹å­˜å‚¨çš„æ˜¯å€¼ï¼Œå¯¹è±¡ç±»å‹å­˜å‚¨çš„åœ°å€ï¼ˆæŒ‡é’ˆï¼‰ã€‚å½“ä½ åˆ›å»ºäº†ä¸€ä¸ªå¯¹è±¡ç±»å‹çš„æ—¶å€™ï¼Œè®¡ç®—æœºä¼šåœ¨å†…å­˜ä¸­å¸®æˆ‘ä»¬å¼€è¾Ÿä¸€ä¸ªç©ºé—´æ¥å­˜æ”¾å€¼ï¼Œä½†æ˜¯æˆ‘ä»¬éœ€è¦æ‰¾åˆ°è¿™ä¸ªç©ºé—´ï¼Œè¿™ä¸ªç©ºé—´ä¼šæ‹¥æœ‰ä¸€ä¸ªåœ°å€ï¼ˆæŒ‡é’ˆï¼‰ã€‚</p>
<h3 id="ç±»å‹è½¬æ¢"><a href="#ç±»å‹è½¬æ¢" class="headerlink" title="ç±»å‹è½¬æ¢"></a>ç±»å‹è½¬æ¢</h3><p>é¦–å…ˆæˆ‘ä»¬è¦çŸ¥é“ï¼Œåœ¨ JS ä¸­ç±»å‹è½¬æ¢åªæœ‰ä¸‰ç§æƒ…å†µï¼Œåˆ†åˆ«æ˜¯ï¼š</p>
<ul>
<li>è½¬æ¢ä¸ºå¸ƒå°”å€¼</li>
<li>è½¬æ¢ä¸ºæ•°å­—</li>
<li>è½¬æ¢ä¸ºå­—ç¬¦ä¸²</li>
</ul>
<h4 id="è½¬Boolean"><a href="#è½¬Boolean" class="headerlink" title="è½¬Boolean"></a>è½¬Boolean</h4><p>åœ¨æ¡ä»¶åˆ¤æ–­æ—¶ï¼Œé™¤äº† undefinedï¼Œ nullï¼Œ falseï¼Œ NaNï¼Œ â€˜â€™ï¼Œ 0ï¼Œ -0ï¼Œå…¶ä»–æ‰€æœ‰å€¼éƒ½è½¬ä¸º trueï¼ŒåŒ…æ‹¬æ‰€æœ‰å¯¹è±¡ã€‚</p>
<h4 id="å¯¹è±¡è½¬åŸå§‹ç±»å‹"><a href="#å¯¹è±¡è½¬åŸå§‹ç±»å‹" class="headerlink" title="å¯¹è±¡è½¬åŸå§‹ç±»å‹"></a>å¯¹è±¡è½¬åŸå§‹ç±»å‹</h4><p>å¯¹è±¡åœ¨è½¬æ¢ç±»å‹çš„æ—¶å€™ï¼Œä¼šè°ƒç”¨å†…ç½®çš„ [[ToPrimitive]] å‡½æ•°ï¼Œå¯¹äºè¯¥å‡½æ•°æ¥è¯´ï¼Œç®—æ³•é€»è¾‘ä¸€èˆ¬æ¥è¯´å¦‚ä¸‹ï¼š</p>
<ul>
<li>å¦‚æœæ˜¯åŸå§‹ç±»å‹ï¼Œé‚£å°±ä¸éœ€è¦è½¬æ¢</li>
<li>å¦‚æœéœ€è¦è½¬å­—ç¬¦ä¸²ç±»å‹é‚£å°±è°ƒç”¨x.toString()ï¼Œè½¬æ¢ä¸ºåŸºç¡€ç±»å‹çš„è¯å°±ä¼šè¿”å›è½¬æ¢çš„å€¼ã€‚ä¸æ˜¯å­—ç¬¦ä¸²ç±»å‹çš„è¯å°±å…ˆè°ƒç”¨valueOfï¼Œå¦‚æœä¸æ˜¯åŸºç¡€ç±»å‹çš„è¯åœ¨è°ƒç”¨toStringã€‚</li>
<li>è°ƒç”¨x.valueOf()ï¼Œå¦‚æœè½¬æ¢ä¸ºåŸºç¡€ç±»å‹ï¼Œå°±è¿”å›åŸºç¡€ç±»å‹ã€‚</li>
<li>å¦‚æœéƒ½æ²¡æœ‰è¿”å›åŸå§‹ç±»å‹ï¼Œå°±ä¼šæŠ¥é”™ã€‚</li>
</ul>
<p>å½“ç„¶ä½ ä¹Ÿå¯ä»¥é‡å†™ Symbol.toPrimitiveï¼Œè¯¥æ–¹æ³•åœ¨è½¬åŸå§‹ç±»å‹æ—¶è°ƒç”¨ä¼˜å…ˆçº§æœ€é«˜ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> a = &#123;</span><br><span class="line">  valueOf() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">  &#125;,</span><br><span class="line">  toString() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'1'</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  [<span class="built_in">Symbol</span>.toPrimitive]() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">1</span> + a);  <span class="comment">// 3</span></span><br></pre></td></tr></table></figure>
<ul>
<li>å¦‚ä½•å®ç° a == 1 &amp;&amp; a == 2 &amp;&amp; a == 3è¿”å›true</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> a = &#123;</span><br><span class="line">  value: <span class="number">1</span>,</span><br><span class="line">  toString() &#123;</span><br><span class="line">    <span class="keyword">return</span> a.value++</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">a == <span class="number">1</span> &amp;&amp; a == <span class="number">2</span> &amp;&amp; a == <span class="number">3</span></span><br></pre></td></tr></table></figure>
<h4 id="æ¯”è¾ƒè¿ç®—ç¬¦"><a href="#æ¯”è¾ƒè¿ç®—ç¬¦" class="headerlink" title="æ¯”è¾ƒè¿ç®—ç¬¦"></a>æ¯”è¾ƒè¿ç®—ç¬¦</h4><ul>
<li>å¦‚æœæ˜¯å¯¹è±¡ï¼Œå°±é€šè¿‡ toPrimitive è½¬æˆåŸå§‹ç±»å‹</li>
<li>å¦‚æœæ˜¯å­—ç¬¦ä¸²ï¼Œå°±é€šè¿‡ unicode å­—ç¬¦ç´¢å¼•æ¥æ¯”è¾ƒ</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> a = &#123;</span><br><span class="line">  valueOf() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">  &#125;,</span><br><span class="line">  toString() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'1'</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">a &gt; <span class="number">-1</span>; <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title>å‰ç«¯å®‰å…¨é—®é¢˜</title>
    <url>/2020/03/15/2020/3%E6%9C%88/0315-01/</url>
    <content><![CDATA[<h3 id="XSS"><a href="#XSS" class="headerlink" title="XSS"></a>XSS</h3><p>XSS ç®€å•ç‚¹æ¥è¯´ï¼Œå°±æ˜¯æ”»å‡»è€…æƒ³å°½ä¸€åˆ‡åŠæ³•å°†å¯ä»¥æ‰§è¡Œçš„ä»£ç æ³¨å…¥åˆ°ç½‘é¡µä¸­ã€‚<br>XSS å¯ä»¥åˆ†ä¸ºå¤šç§ç±»å‹ï¼Œä½†æ˜¯æ€»ä½“ä¸Šæˆ‘è®¤ä¸ºåˆ†ä¸ºä¸¤ç±»ï¼šæŒä¹…å‹å’ŒéæŒä¹…å‹ã€‚</p>
<p>æŒä¹…å‹ä¹Ÿå°±æ˜¯æ”»å‡»çš„ä»£ç è¢«æœåŠ¡ç«¯å†™å…¥è¿›æ•°æ®åº“ä¸­ï¼Œè¿™ç§æ”»å‡»å±å®³æ€§å¾ˆå¤§ï¼Œå› ä¸ºå¦‚æœç½‘ç«™è®¿é—®é‡å¾ˆå¤§çš„è¯ï¼Œå°±ä¼šå¯¼è‡´å¤§é‡æ­£å¸¸è®¿é—®é¡µé¢çš„ç”¨æˆ·éƒ½å—åˆ°æ”»å‡»ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œå¯¹äºè¯„è®ºåŠŸèƒ½æ¥è¯´ï¼Œå°±å¾—é˜²èŒƒæŒä¹…å‹ XSS æ”»å‡»ï¼Œå› ä¸ºæˆ‘å¯ä»¥åœ¨è¯„è®ºä¸­è¾“å…¥ä»¥ä¸‹å†…å®¹</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;script&gt;alert(<span class="number">1</span>);<span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<p>éæŒä¹…å‹ç›¸æ¯”äºå‰è€…å±å®³å°±å°çš„å¤šäº†ï¼Œä¸€èˆ¬é€šè¿‡ä¿®æ”¹ URL å‚æ•°çš„æ–¹å¼åŠ å…¥æ”»å‡»ä»£ç ï¼Œè¯±å¯¼ç”¨æˆ·è®¿é—®é“¾æ¥ä»è€Œè¿›è¡Œæ”»å‡»ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æœé¡µé¢éœ€è¦ä» URL ä¸­è·å–æŸäº›å‚æ•°ä½œä¸ºå†…å®¹çš„è¯ï¼Œä¸ç»è¿‡è¿‡æ»¤å°±ä¼šå¯¼è‡´æ”»å‡»ä»£ç è¢«æ‰§è¡Œ</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- http://www.domain.com?name=&lt;script&gt;alert(1)&lt;/script&gt; --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>ä½†æ˜¯å¯¹äºè¿™ç§æ”»å‡»æ–¹å¼æ¥è¯´ï¼Œå¦‚æœç”¨æˆ·ä½¿ç”¨ Chrome è¿™ç±»æµè§ˆå™¨çš„è¯ï¼Œæµè§ˆå™¨å°±èƒ½è‡ªåŠ¨å¸®åŠ©ç”¨æˆ·é˜²å¾¡æ”»å‡»ã€‚ä½†æ˜¯æˆ‘ä»¬ä¸èƒ½å› æ­¤å°±ä¸é˜²å¾¡æ­¤ç±»æ”»å‡»äº†ï¼Œå› ä¸ºæˆ‘ä¸èƒ½ç¡®ä¿ç”¨æˆ·éƒ½ä½¿ç”¨äº†è¯¥ç±»æµè§ˆå™¨ã€‚</p>
<p>å¯¹äº XSS æ”»å‡»æ¥è¯´ï¼Œé€šå¸¸æœ‰ä¸¤ç§æ–¹å¼å¯ä»¥ç”¨æ¥é˜²å¾¡ã€‚</p>
<h5 id="è½¬ä¹‰å­—ç¬¦"><a href="#è½¬ä¹‰å­—ç¬¦" class="headerlink" title="è½¬ä¹‰å­—ç¬¦"></a>è½¬ä¹‰å­—ç¬¦</h5><p>é¦–å…ˆï¼Œå¯¹äºç”¨æˆ·çš„è¾“å…¥åº”è¯¥æ˜¯æ°¸è¿œä¸ä¿¡ä»»çš„ã€‚æœ€æ™®éçš„åšæ³•å°±æ˜¯è½¬ä¹‰è¾“å…¥è¾“å‡ºçš„å†…å®¹ï¼Œå¯¹äºå¼•å·ã€å°–æ‹¬å·ã€æ–œæ è¿›è¡Œè½¬ä¹‰</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">escape</span>(<span class="params">str</span>) </span>&#123;</span><br><span class="line">  str = str.replace(<span class="regexp">/&amp;/g</span>, <span class="string">'&amp;amp;'</span>)</span><br><span class="line">  str = str.replace(<span class="regexp">/&lt;/g</span>, <span class="string">'&amp;lt;'</span>)</span><br><span class="line">  str = str.replace(<span class="regexp">/&gt;/g</span>, <span class="string">'&amp;gt;'</span>)</span><br><span class="line">  str = str.replace(<span class="regexp">/"/g</span>, <span class="string">'&amp;quto;'</span>)</span><br><span class="line">  str = str.replace(<span class="regexp">/'/g</span>, <span class="string">'&amp;#39;'</span>)</span><br><span class="line">  str = str.replace(<span class="regexp">/`/g</span>, <span class="string">'&amp;#96;'</span>)</span><br><span class="line">  str = str.replace(<span class="regexp">/\//g</span>, <span class="string">'&amp;#x2F;'</span>)</span><br><span class="line">  <span class="keyword">return</span> str</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="CSP"><a href="#CSP" class="headerlink" title="CSP"></a>CSP</h5><p>CSP æœ¬è´¨ä¸Šå°±æ˜¯å»ºç«‹ç™½åå•ï¼Œå¼€å‘è€…æ˜ç¡®å‘Šè¯‰æµè§ˆå™¨å“ªäº›å¤–éƒ¨èµ„æºå¯ä»¥åŠ è½½å’Œæ‰§è¡Œã€‚æˆ‘ä»¬åªéœ€è¦é…ç½®è§„åˆ™ï¼Œå¦‚ä½•æ‹¦æˆªæ˜¯ç”±æµè§ˆå™¨è‡ªå·±å®ç°çš„ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™ç§æ–¹å¼æ¥å°½é‡å‡å°‘ XSS æ”»å‡»ã€‚</p>
<p>é€šå¸¸å¯ä»¥é€šè¿‡ä¸¤ç§æ–¹å¼æ¥å¼€å¯ CSPï¼š</p>
<ol>
<li>è®¾ç½® HTTP Header ä¸­çš„ Content-Security-Policy</li>
<li>è®¾ç½® meta æ ‡ç­¾çš„æ–¹å¼ <meta http-equiv="Content-Security-Policy"></li>
</ol>
<hr>
<h3 id="CSRF"><a href="#CSRF" class="headerlink" title="CSRF"></a>CSRF</h3><p>CSRF ä¸­æ–‡åä¸ºè·¨ç«™è¯·æ±‚ä¼ªé€ ã€‚åŸç†å°±æ˜¯æ”»å‡»è€…æ„é€ å‡ºä¸€ä¸ªåç«¯è¯·æ±‚åœ°å€ï¼Œè¯±å¯¼ç”¨æˆ·ç‚¹å‡»æˆ–è€…é€šè¿‡æŸäº›é€”å¾„è‡ªåŠ¨å‘èµ·è¯·æ±‚ã€‚å¦‚æœç”¨æˆ·æ˜¯åœ¨ç™»å½•çŠ¶æ€ä¸‹çš„è¯ï¼Œåç«¯å°±ä»¥ä¸ºæ˜¯ç”¨æˆ·åœ¨æ“ä½œï¼Œä»è€Œè¿›è¡Œç›¸åº”çš„é€»è¾‘ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œå‡è®¾ç½‘ç«™ä¸­æœ‰ä¸€ä¸ªé€šè¿‡ GET è¯·æ±‚æäº¤ç”¨æˆ·è¯„è®ºçš„æ¥å£ï¼Œé‚£ä¹ˆæ”»å‡»è€…å°±å¯ä»¥åœ¨é’“é±¼ç½‘ç«™ä¸­åŠ å…¥ä¸€ä¸ªå›¾ç‰‡ï¼Œå›¾ç‰‡çš„åœ°å€å°±æ˜¯è¯„è®ºæ¥å£</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"http://www.domain.com/xxx?comment='attack'"</span>/&gt;</span></span><br></pre></td></tr></table></figure>
<p>é‚£ä¹ˆä½ æ˜¯å¦ä¼šæƒ³åˆ°ä½¿ç”¨ POST æ–¹å¼æäº¤è¯·æ±‚æ˜¯ä¸æ˜¯å°±æ²¡æœ‰è¿™ä¸ªé—®é¢˜äº†å‘¢ï¼Ÿå…¶å®å¹¶ä¸æ˜¯ï¼Œä½¿ç”¨è¿™ç§æ–¹å¼ä¹Ÿä¸æ˜¯ç™¾åˆ†ç™¾å®‰å…¨çš„ï¼Œæ”»å‡»è€…åŒæ ·å¯ä»¥è¯±å¯¼ç”¨æˆ·è¿›å…¥æŸä¸ªé¡µé¢ï¼Œåœ¨é¡µé¢ä¸­é€šè¿‡è¡¨å•æäº¤ POST è¯·æ±‚ã€‚</p>
<h5 id="å¦‚ä½•é˜²å¾¡"><a href="#å¦‚ä½•é˜²å¾¡" class="headerlink" title="å¦‚ä½•é˜²å¾¡"></a>å¦‚ä½•é˜²å¾¡</h5><p>é˜²èŒƒ CSRF æ”»å‡»å¯ä»¥éµå¾ªä»¥ä¸‹å‡ ç§è§„åˆ™ï¼š</p>
<ol>
<li>Get è¯·æ±‚ä¸å¯¹æ•°æ®è¿›è¡Œä¿®æ”¹</li>
<li>ä¸è®©ç¬¬ä¸‰æ–¹ç½‘ç«™è®¿é—®åˆ°ç”¨æˆ· Cookie</li>
<li>é˜»æ­¢ç¬¬ä¸‰æ–¹ç½‘ç«™è¯·æ±‚æ¥å£</li>
<li>è¯·æ±‚æ—¶é™„å¸¦éªŒè¯ä¿¡æ¯ï¼Œæ¯”å¦‚éªŒè¯ç æˆ–è€… Token</li>
</ol>
<h5 id="SameSite"><a href="#SameSite" class="headerlink" title="SameSite"></a>SameSite</h5><p>å¯ä»¥å¯¹ Cookie è®¾ç½® SameSite å±æ€§ã€‚è¯¥å±æ€§è¡¨ç¤º Cookie ä¸éšç€è·¨åŸŸè¯·æ±‚å‘é€ï¼Œå¯ä»¥å¾ˆå¤§ç¨‹åº¦å‡å°‘ CSRF çš„æ”»å‡»ï¼Œä½†æ˜¯è¯¥å±æ€§ç›®å‰å¹¶ä¸æ˜¯æ‰€æœ‰æµè§ˆå™¨éƒ½å…¼å®¹ã€‚</p>
<h5 id="éªŒè¯-Referer"><a href="#éªŒè¯-Referer" class="headerlink" title="éªŒè¯ Referer"></a>éªŒè¯ Referer</h5><p>å¯¹äºéœ€è¦é˜²èŒƒ CSRF çš„è¯·æ±‚ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡éªŒè¯ Referer æ¥åˆ¤æ–­è¯¥è¯·æ±‚æ˜¯å¦ä¸ºç¬¬ä¸‰æ–¹ç½‘ç«™å‘èµ·çš„ã€‚</p>
<h5 id="Token"><a href="#Token" class="headerlink" title="Token"></a>Token</h5><p>æœåŠ¡å™¨ä¸‹å‘ä¸€ä¸ªéšæœº Tokenï¼Œæ¯æ¬¡å‘èµ·è¯·æ±‚æ—¶å°† Token æºå¸¦ä¸Šï¼ŒæœåŠ¡å™¨éªŒè¯ Token æ˜¯å¦æœ‰æ•ˆã€‚</p>
<hr>
<h3 id="ç‚¹å‡»åŠ«æŒ"><a href="#ç‚¹å‡»åŠ«æŒ" class="headerlink" title="ç‚¹å‡»åŠ«æŒ"></a>ç‚¹å‡»åŠ«æŒ</h3><p>ç‚¹å‡»åŠ«æŒæ˜¯ä¸€ç§è§†è§‰æ¬ºéª—çš„æ”»å‡»æ‰‹æ®µã€‚æ”»å‡»è€…å°†éœ€è¦æ”»å‡»çš„ç½‘ç«™é€šè¿‡ iframe åµŒå¥—çš„æ–¹å¼åµŒå…¥è‡ªå·±çš„ç½‘é¡µä¸­ï¼Œå¹¶å°† iframe è®¾ç½®ä¸ºé€æ˜ï¼Œåœ¨é¡µé¢ä¸­é€å‡ºä¸€ä¸ªæŒ‰é’®è¯±å¯¼ç”¨æˆ·ç‚¹å‡»ã€‚</p>
<p>å¯¹äºè¿™ç§æ”»å‡»æ–¹å¼ï¼Œæ¨èé˜²å¾¡çš„æ–¹æ³•æœ‰ä¸¤ç§ã€‚</p>
<h5 id="X-FRAME-OPTIONS"><a href="#X-FRAME-OPTIONS" class="headerlink" title="X-FRAME-OPTIONS"></a>X-FRAME-OPTIONS</h5><p>X-FRAME-OPTIONS æ˜¯ä¸€ä¸ª HTTP å“åº”å¤´ï¼Œåœ¨ç°ä»£æµè§ˆå™¨æœ‰ä¸€ä¸ªå¾ˆå¥½çš„æ”¯æŒã€‚è¿™ä¸ª HTTP å“åº”å¤´ å°±æ˜¯ä¸ºäº†é˜²å¾¡ç”¨ iframe åµŒå¥—çš„ç‚¹å‡»åŠ«æŒæ”»å‡»ã€‚</p>
<p>è¯¥å“åº”å¤´æœ‰ä¸‰ä¸ªå€¼å¯é€‰ï¼Œåˆ†åˆ«æ˜¯</p>
<ul>
<li>DENYï¼Œè¡¨ç¤ºé¡µé¢ä¸å…è®¸é€šè¿‡ iframe çš„æ–¹å¼å±•ç¤º</li>
<li>SAMEORIGINï¼Œè¡¨ç¤ºé¡µé¢å¯ä»¥åœ¨ç›¸åŒåŸŸåä¸‹é€šè¿‡ iframe çš„æ–¹å¼å±•ç¤º</li>
<li>ALLOW-FROMï¼Œè¡¨ç¤ºé¡µé¢å¯ä»¥åœ¨æŒ‡å®šæ¥æºçš„ iframe ä¸­å±•ç¤º</li>
</ul>
<h5 id="JS-é˜²å¾¡"><a href="#JS-é˜²å¾¡" class="headerlink" title="JS é˜²å¾¡"></a>JS é˜²å¾¡</h5><p>å¯¹äºæŸäº›è¿œå¤æµè§ˆå™¨æ¥è¯´ï¼Œå¹¶ä¸èƒ½æ”¯æŒä¸Šé¢çš„è¿™ç§æ–¹å¼ï¼Œé‚£æˆ‘ä»¬åªæœ‰é€šè¿‡ JS çš„æ–¹å¼æ¥é˜²å¾¡ç‚¹å‡»åŠ«æŒäº†ã€‚</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">style</span> <span class="attr">id</span>=<span class="string">"click-jack"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">    html &#123;</span></span><br><span class="line"><span class="undefined">      display: none !important;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined">  </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">if</span> (self == top) &#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> style = <span class="built_in">document</span>.getElementById(<span class="string">'click-jack'</span>)</span></span><br><span class="line"><span class="javascript">      <span class="built_in">document</span>.body.removeChild(style)</span></span><br><span class="line"><span class="javascript">    &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="undefined">      top.location = self.location</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>ä»¥ä¸Šä»£ç çš„ä½œç”¨å°±æ˜¯å½“é€šè¿‡ iframe çš„æ–¹å¼åŠ è½½é¡µé¢æ—¶ï¼Œæ”»å‡»è€…çš„ç½‘é¡µç›´æ¥ä¸æ˜¾ç¤ºæ‰€æœ‰å†…å®¹äº†ã€‚</p>
<h3 id="ä¸­é—´äººæ”»å‡»"><a href="#ä¸­é—´äººæ”»å‡»" class="headerlink" title="ä¸­é—´äººæ”»å‡»"></a>ä¸­é—´äººæ”»å‡»</h3><p>ä¸­é—´äººæ”»å‡»æ˜¯æ”»å‡»æ–¹åŒæ—¶ä¸æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯å»ºç«‹èµ·äº†è¿æ¥ï¼Œå¹¶è®©å¯¹æ–¹è®¤ä¸ºè¿æ¥æ˜¯å®‰å…¨çš„ï¼Œä½†æ˜¯å®é™…ä¸Šæ•´ä¸ªé€šä¿¡è¿‡ç¨‹éƒ½è¢«æ”»å‡»è€…æ§åˆ¶äº†ã€‚æ”»å‡»è€…ä¸ä»…èƒ½è·å¾—åŒæ–¹çš„é€šä¿¡ä¿¡æ¯ï¼Œè¿˜èƒ½ä¿®æ”¹é€šä¿¡ä¿¡æ¯ã€‚</p>
<p>é€šå¸¸æ¥è¯´ä¸å»ºè®®ä½¿ç”¨å…¬å…±çš„ Wi-Fiï¼Œå› ä¸ºå¾ˆå¯èƒ½å°±ä¼šå‘ç”Ÿä¸­é—´äººæ”»å‡»çš„æƒ…å†µã€‚å¦‚æœä½ åœ¨é€šä¿¡çš„è¿‡ç¨‹ä¸­æ¶‰åŠåˆ°äº†æŸäº›æ•æ„Ÿä¿¡æ¯ï¼Œå°±å®Œå…¨æš´éœ²ç»™æ”»å‡»æ–¹äº†ã€‚</p>
<p>å½“ç„¶é˜²å¾¡ä¸­é—´äººæ”»å‡»å…¶å®å¹¶ä¸éš¾ï¼Œåªéœ€è¦å¢åŠ ä¸€ä¸ªå®‰å…¨é€šé“æ¥ä¼ è¾“ä¿¡æ¯ã€‚HTTPS å°±å¯ä»¥ç”¨æ¥é˜²å¾¡ä¸­é—´äººæ”»å‡»ï¼Œä½†æ˜¯å¹¶ä¸æ˜¯è¯´ä½¿ç”¨äº† HTTPS å°±å¯ä»¥é«˜æ•æ— å¿§äº†ï¼Œå› ä¸ºå¦‚æœä½ æ²¡æœ‰å®Œå…¨å…³é—­ HTTP è®¿é—®çš„è¯ï¼Œæ”»å‡»æ–¹å¯ä»¥é€šè¿‡æŸäº›æ–¹å¼å°† HTTPS é™çº§ä¸º HTTP ä»è€Œå®ç°ä¸­é—´äººæ”»å‡»ã€‚</p>
]]></content>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title>jså®ç°æ·±æ‹·è´</title>
    <url>/2020/03/15/2020/3%E6%9C%88/0315-02/</url>
    <content><![CDATA[<h3 id="æ·±æµ…æ‹·è´"><a href="#æ·±æµ…æ‹·è´" class="headerlink" title="æ·±æµ…æ‹·è´"></a>æ·±æµ…æ‹·è´</h3><h4 id="æµ…æ‹·è´"><a href="#æµ…æ‹·è´" class="headerlink" title="æµ…æ‹·è´"></a>æµ…æ‹·è´</h4><ol>
<li>Object.assign</li>
<li>å±•å¼€è¿ç®—ç¬¦â€¦</li>
<li>Array.slice();</li>
</ol>
<p>é¦–å…ˆå¯ä»¥é€šè¿‡ Object.assign æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¾ˆå¤šäººè®¤ä¸ºè¿™ä¸ªå‡½æ•°æ˜¯ç”¨æ¥æ·±æ‹·è´çš„ã€‚å…¶å®å¹¶ä¸æ˜¯ï¼ŒObject.assign åªä¼šæ‹·è´æ‰€æœ‰çš„å±æ€§å€¼åˆ°æ–°çš„å¯¹è±¡ä¸­ï¼Œå¦‚æœå±æ€§å€¼æ˜¯å¯¹è±¡çš„è¯ï¼Œæ‹·è´çš„æ˜¯åœ°å€ï¼Œæ‰€ä»¥å¹¶ä¸æ˜¯æ·±æ‹·è´ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> a = &#123;</span><br><span class="line">  age: <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> b = <span class="built_in">Object</span>.assign(&#123;&#125;, a)</span><br><span class="line">a.age = <span class="number">2</span></span><br><span class="line"><span class="built_in">console</span>.log(b.age) <span class="comment">// 1</span></span><br></pre></td></tr></table></figure>
<p>å¦å¤–æˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡å±•å¼€è¿ç®—ç¬¦ â€¦ æ¥å®ç°æµ…æ‹·è´</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> a = &#123;</span><br><span class="line">  age: <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> b = &#123; ...a &#125;</span><br><span class="line">a.age = <span class="number">2</span></span><br><span class="line"><span class="built_in">console</span>.log(b.age) <span class="comment">// 1</span></span><br></pre></td></tr></table></figure>
<p>é€šå¸¸æµ…æ‹·è´å°±èƒ½è§£å†³å¤§éƒ¨åˆ†é—®é¢˜äº†ï¼Œä½†æ˜¯å½“æˆ‘ä»¬é‡åˆ°å¦‚ä¸‹æƒ…å†µå°±å¯èƒ½éœ€è¦ä½¿ç”¨åˆ°æ·±æ‹·è´äº†</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> a = &#123;</span><br><span class="line">  age: <span class="number">1</span>,</span><br><span class="line">  jobs: &#123;</span><br><span class="line">    first: <span class="string">'FE'</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> b = &#123; ...a &#125;</span><br><span class="line">a.jobs.first = <span class="string">'native'</span></span><br><span class="line"><span class="built_in">console</span>.log(b.jobs.first) <span class="comment">// native</span></span><br></pre></td></tr></table></figure>
<p>æµ…æ‹·è´åªè§£å†³äº†ç¬¬ä¸€å±‚çš„é—®é¢˜ï¼Œå¦‚æœæ¥ä¸‹å»çš„å€¼ä¸­è¿˜æœ‰å¯¹è±¡çš„è¯ï¼Œé‚£ä¹ˆå°±åˆå›åˆ°æœ€å¼€å§‹çš„è¯é¢˜äº†ï¼Œä¸¤è€…äº«æœ‰ç›¸åŒçš„åœ°å€ã€‚è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å°±å¾—ä½¿ç”¨æ·±æ‹·è´äº†ã€‚</p>
<h4 id="æ·±æ‹·è´"><a href="#æ·±æ‹·è´" class="headerlink" title="æ·±æ‹·è´"></a>æ·±æ‹·è´</h4><p>è¿™ä¸ªé—®é¢˜é€šå¸¸å¯ä»¥é€šè¿‡ JSON.parse(JSON.stringify(object)) æ¥è§£å†³ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> a = &#123;</span><br><span class="line">  age: <span class="number">1</span>,</span><br><span class="line">  jobs: &#123;</span><br><span class="line">    first: <span class="string">'FE'</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> b = <span class="built_in">JSON</span>.parse(<span class="built_in">JSON</span>.stringify(a))</span><br><span class="line">a.jobs.first = <span class="string">'native'</span></span><br><span class="line"><span class="built_in">console</span>.log(b.jobs.first) <span class="comment">// FE</span></span><br></pre></td></tr></table></figure>
<p>ä½†æ˜¯è¯¥æ–¹æ³•ä¹Ÿæ˜¯æœ‰å±€é™æ€§çš„ï¼š</p>
<ul>
<li>ä¼šå¿½ç•¥ undefined</li>
<li>ä¼šå¿½ç•¥ symbol</li>
<li>ä¸èƒ½åºåˆ—åŒ–å‡½æ•°</li>
<li>ä¸èƒ½è§£å†³å¾ªç¯å¼•ç”¨çš„å¯¹è±¡</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">  a: <span class="number">1</span>,</span><br><span class="line">  b: &#123;</span><br><span class="line">    c: <span class="number">2</span>,</span><br><span class="line">    d: <span class="number">3</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line">obj.c = obj.b</span><br><span class="line">obj.e = obj.a</span><br><span class="line">obj.b.c = obj.c</span><br><span class="line">obj.b.d = obj.b</span><br><span class="line">obj.b.e = obj.b.c</span><br><span class="line"><span class="keyword">let</span> newObj = <span class="built_in">JSON</span>.parse(<span class="built_in">JSON</span>.stringify(obj))</span><br><span class="line"><span class="built_in">console</span>.log(newObj)</span><br></pre></td></tr></table></figure>
<p>å¦‚æœä½ æœ‰è¿™ä¹ˆä¸€ä¸ªå¾ªç¯å¼•ç”¨å¯¹è±¡ï¼Œä½ ä¼šå‘ç°å¹¶ä¸èƒ½é€šè¿‡è¯¥æ–¹æ³•å®ç°æ·±æ‹·è´<br>åœ¨é‡åˆ°å‡½æ•°ã€ undefined æˆ–è€… symbol çš„æ—¶å€™ï¼Œè¯¥å¯¹è±¡ä¹Ÿä¸èƒ½æ­£å¸¸çš„åºåˆ—åŒ–</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> a = &#123;</span><br><span class="line">  age: <span class="literal">undefined</span>,</span><br><span class="line">  sex: <span class="built_in">Symbol</span>(<span class="string">'male'</span>),</span><br><span class="line">  jobs: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;,</span><br><span class="line">  name: <span class="string">'yck'</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> b = <span class="built_in">JSON</span>.parse(<span class="built_in">JSON</span>.stringify(a))</span><br><span class="line"><span class="built_in">console</span>.log(b) <span class="comment">// &#123;name: "yck"&#125;</span></span><br></pre></td></tr></table></figure>
<p>ä½ ä¼šå‘ç°åœ¨ä¸Šè¿°æƒ…å†µä¸­ï¼Œè¯¥æ–¹æ³•ä¼šå¿½ç•¥æ‰å‡½æ•°å’Œ undefined ã€‚</p>
<p>ä½†æ˜¯åœ¨é€šå¸¸æƒ…å†µä¸‹ï¼Œå¤æ‚æ•°æ®éƒ½æ˜¯å¯ä»¥åºåˆ—åŒ–çš„ï¼Œæ‰€ä»¥è¿™ä¸ªå‡½æ•°å¯ä»¥è§£å†³å¤§éƒ¨åˆ†é—®é¢˜ã€‚</p>
<p>å¦‚æœä½ æ‰€éœ€æ‹·è´çš„å¯¹è±¡å«æœ‰å†…ç½®ç±»å‹å¹¶ä¸”ä¸åŒ…å«å‡½æ•°ï¼Œå¯ä»¥ä½¿ç”¨ MessageChannel</p>
<p>å½“ç„¶ä½ å¯èƒ½æƒ³è‡ªå·±æ¥å®ç°ä¸€ä¸ªæ·±æ‹·è´ï¼Œä½†æ˜¯å…¶å®å®ç°ä¸€ä¸ªæ·±æ‹·è´æ˜¯å¾ˆå›°éš¾çš„ï¼Œéœ€è¦æˆ‘ä»¬è€ƒè™‘å¥½å¤šç§è¾¹ç•Œæƒ…å†µï¼Œæ¯”å¦‚åŸå‹é“¾å¦‚ä½•å¤„ç†ã€DOM å¦‚ä½•å¤„ç†ç­‰ç­‰ï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘ä»¬å®ç°çš„æ·±æ‹·è´åªæ˜¯ç®€æ˜“ç‰ˆï¼Œå¹¶ä¸”æˆ‘å…¶å®æ›´æ¨èä½¿ç”¨ lodash çš„æ·±æ‹·è´å‡½æ•°ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">deepClone</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">isObject</span>(<span class="params">o</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (<span class="keyword">typeof</span> o === <span class="string">'object'</span> || <span class="keyword">typeof</span> o === <span class="string">'function'</span>) &amp;&amp; o !== <span class="literal">null</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (!isObject(obj)) &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'éå¯¹è±¡'</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> isArray = <span class="built_in">Array</span>.isArray(obj);</span><br><span class="line">  <span class="keyword">let</span> newObj = isArray ? [...obj] : &#123;...obj&#125;;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">Reflect</span>.hasOwn(newObj).forEach(<span class="function"><span class="params">key</span> =&gt;</span> &#123;</span><br><span class="line">    newObj[key] = isObject(obj[key]) ? deepClone(newObj[key]) : obj[key];</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> newObj;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title>å¸¸è§æ•°æ®ç»“æ„</title>
    <url>/2020/03/19/2020/3%E6%9C%88/0319-01/</url>
    <content><![CDATA[<h2 id="æ—¶é—´å¤æ‚åº¦"><a href="#æ—¶é—´å¤æ‚åº¦" class="headerlink" title="æ—¶é—´å¤æ‚åº¦"></a>æ—¶é—´å¤æ‚åº¦</h2><p>é€šå¸¸ä½¿ç”¨æœ€å·®çš„æ—¶é—´å¤æ‚åº¦æ¥è¡¡é‡ä¸€ä¸ªç®—æ³•çš„å¥½åã€‚<br>å¸¸æ•°æ—¶é—´O(1)ä»£è¡¨è¿™ä¸ªæ“ä½œå’Œæ•°æ®é‡æ²¡æœ‰å…³ç³»ï¼Œæ˜¯ä¸€ä¸ªå›ºå®šæ—¶é—´çš„æ“ä½œï¼Œæ¯”å¦‚è¯´å››åˆ™è¿ç®—ã€‚</p>
<p>å¯¹äºä¸€ä¸ªç®—æ³•æ¥è¯´ï¼Œå¯èƒ½ä¼šè®¡ç®—å‡ºæ“ä½œæ¬¡æ•°ä¸º aN + 1ï¼ŒNä»£è¡¨æ•°æ®é‡ã€‚é‚£ä¹ˆè¯¥ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦å°±æ˜¯O(N)ã€‚å› ä¸ºæˆ‘ä»¬åœ¨è®¡ç®—æ—¶é—´å¤æ‚åº¦çš„æ—¶å€™ï¼Œæ•°æ®é‡é€šå¸¸æ˜¯éå¸¸å¤§çš„ï¼Œè¿™æ—¶å€™ä½é˜¶é¡¹å’Œå¸¸æ•°é¡¹å¯ä»¥å¿½ç•¥ä¸è®¡ã€‚</p>
<p>O(1) &lt; O(logn) &lt; O(n) &lt; O(nlogn) &lt; O(n^2) &lt; O(n^3) &lt; O(2^n) &lt; O(n!) &lt; O(n^n)</p>
<h2 id="æ ˆ"><a href="#æ ˆ" class="headerlink" title="æ ˆ"></a>æ ˆ</h2><h4 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h4><p>æ ˆæ˜¯ä¸€ä¸ªçº¿æ€§ç»“æ„ï¼Œåœ¨è®¡ç®—æœºä¸­æ˜¯ä¸€ä¸ªç›¸å½“å¸¸è§çš„æ•°æ®ç»“æ„ã€‚<br>æ ˆçš„ç‰¹ç‚¹æ˜¯åªèƒ½åœ¨æŸä¸€ç«¯æ·»åŠ æˆ–åˆ é™¤æ•°æ®ï¼Œéµå¾ªå…ˆè¿›åå‡ºçš„åŸåˆ™ã€‚</p>
<h4 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h4><p>æ¯ç§æ•°æ®ç»“æ„éƒ½å¯ä»¥ç”¨å¾ˆå¤šç§æ–¹å¼æ¥å®ç°ï¼Œå…¶å®å¯ä»¥æŠŠæ ˆå½“åšä¸€ä¸ªæ•°ç»„çš„å­é›†ï¼Œæ‰€ä»¥è¿™é‡Œä½¿ç”¨æ•°ç»„æ¥å®ç°</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Stack</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>() &#123;</span><br><span class="line">    <span class="keyword">this</span>.stack = [];</span><br><span class="line">  &#125;</span><br><span class="line">  push(item) &#123;</span><br><span class="line">    <span class="keyword">this</span>.stack.push(item);</span><br><span class="line">  &#125;</span><br><span class="line">  pop() &#123;</span><br><span class="line">    <span class="keyword">this</span>.stack.pop();</span><br><span class="line">  &#125;</span><br><span class="line">  getCount() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.stack.length;</span><br><span class="line">  &#125;</span><br><span class="line">  peek() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.stack[<span class="keyword">this</span>.getCount - <span class="number">1</span>];</span><br><span class="line">  &#125;</span><br><span class="line">  isEmpty() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.getCount() === <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="åº”ç”¨"><a href="#åº”ç”¨" class="headerlink" title="åº”ç”¨"></a>åº”ç”¨</h4><p>åŒ¹é…æ‹¬å·ï¼Œå¯ä»¥é€šè¿‡æ ˆçš„ç‰¹æ€§æ¥å®Œæˆ</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> isValid = <span class="function"><span class="keyword">function</span>(<span class="params">s</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> map = &#123;</span><br><span class="line">    <span class="string">'('</span>: <span class="number">-1</span>,</span><br><span class="line">    <span class="string">')'</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="string">'['</span>: <span class="number">-2</span>,</span><br><span class="line">    <span class="string">']'</span>: <span class="number">2</span>,</span><br><span class="line">    <span class="string">'&#123;'</span>: <span class="number">-3</span>,</span><br><span class="line">    <span class="string">'&#125;'</span>: <span class="number">3</span>,</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="keyword">let</span> stack = [];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i <span class="keyword">of</span> s) &#123;</span><br><span class="line">    <span class="keyword">if</span> (map[i] &lt; <span class="number">0</span>) &#123;</span><br><span class="line">      stack.push(i);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">let</span> last = stack.pop();</span><br><span class="line">      <span class="keyword">if</span> (map[last] + map[i] !== <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (stack.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="é˜Ÿåˆ—"><a href="#é˜Ÿåˆ—" class="headerlink" title="é˜Ÿåˆ—"></a>é˜Ÿåˆ—</h2><h4 id="æ¦‚å¿µ-1"><a href="#æ¦‚å¿µ-1" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h4><p>é˜Ÿåˆ—æ˜¯ä¸€ä¸ªçº¿æ€§ç»“æ„ï¼Œç‰¹ç‚¹æ˜¯åœ¨æŸä¸€ç«¯æ·»åŠ æ•°æ®ï¼Œåœ¨å¦ä¸€ç«¯åˆ é™¤æ•°æ®ï¼Œéµå¾ªå…ˆè¿›å…ˆå‡ºçš„åŸåˆ™ã€‚</p>
<h4 id="å®ç°-1"><a href="#å®ç°-1" class="headerlink" title="å®ç°"></a>å®ç°</h4><p>å•é“¾é˜Ÿåˆ—å’Œå¾ªç¯é˜Ÿåˆ—</p>
<h4 id="å•é“¾é˜Ÿåˆ—"><a href="#å•é“¾é˜Ÿåˆ—" class="headerlink" title="å•é“¾é˜Ÿåˆ—"></a>å•é“¾é˜Ÿåˆ—</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Queue</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>() &#123;</span><br><span class="line">    <span class="keyword">this</span>.queue = [];</span><br><span class="line">  &#125;</span><br><span class="line">  enQueue(item) &#123;</span><br><span class="line">    <span class="keyword">this</span>.queue.push(item);</span><br><span class="line">  &#125;</span><br><span class="line">  deQueue() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.queue.shift();</span><br><span class="line">  &#125;</span><br><span class="line">  getHeader() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.queue[<span class="number">0</span>];</span><br><span class="line">  &#125;</span><br><span class="line">  getLength() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.queue.length;</span><br><span class="line">  &#125;</span><br><span class="line">  isEmpty() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.queue.length === <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="å¾ªç¯é˜Ÿåˆ—"><a href="#å¾ªç¯é˜Ÿåˆ—" class="headerlink" title="å¾ªç¯é˜Ÿåˆ—"></a>å¾ªç¯é˜Ÿåˆ—</h4><h2 id="é“¾è¡¨"><a href="#é“¾è¡¨" class="headerlink" title="é“¾è¡¨"></a>é“¾è¡¨</h2>]]></content>
      <tags>
        <tag>è®¡ç®—æœºçŸ¥è¯†</tag>
      </tags>
  </entry>
  <entry>
    <title>csså¸¸è§å¸ƒå±€</title>
    <url>/2020/03/24/2020/3%E6%9C%88/0324-01/</url>
    <content><![CDATA[<h2 id="åŒé£ç‡•å¸ƒå±€"><a href="#åŒé£ç‡•å¸ƒå±€" class="headerlink" title="åŒé£ç‡•å¸ƒå±€"></a>åŒé£ç‡•å¸ƒå±€</h2><h2 id="åœ£æ¯å¸ƒå±€"><a href="#åœ£æ¯å¸ƒå±€" class="headerlink" title="åœ£æ¯å¸ƒå±€"></a>åœ£æ¯å¸ƒå±€</h2><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">header</span>&gt;</span>åœ£æ¯å¸ƒå±€<span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"bd"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"main"</span>&gt;</span>main<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"left"</span>&gt;</span>left<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"right"</span>&gt;</span>right<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">footer</span>&gt;</span>footer<span class="tag">&lt;/<span class="name">footer</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="flex"><a href="#flex" class="headerlink" title="flex"></a>flex</h2>]]></content>
      <tags>
        <tag>css</tag>
      </tags>
  </entry>
  <entry>
    <title>HTTP----HTTPç¼“å­˜æœºåˆ¶</title>
    <url>/2020/03/24/2020/3%E6%9C%88/0324-02/</url>
    <content><![CDATA[<h1 id="HTTPâ€”-HTTPç¼“å­˜æœºåˆ¶"><a href="#HTTPâ€”-HTTPç¼“å­˜æœºåˆ¶" class="headerlink" title="HTTPâ€”-HTTPç¼“å­˜æœºåˆ¶"></a>HTTPâ€”-HTTPç¼“å­˜æœºåˆ¶</h1><h2 id="ç¼“å­˜çš„è§„åˆ™"><a href="#ç¼“å­˜çš„è§„åˆ™" class="headerlink" title="ç¼“å­˜çš„è§„åˆ™"></a>ç¼“å­˜çš„è§„åˆ™</h2><p>æˆ‘ä»¬çŸ¥é“httpçš„ç¼“å­˜å±äºå®¢æˆ·ç«¯ç¼“å­˜ï¼Œåé¢ä¼šæåˆ°ä¸ºä»€ä¹ˆå±äºå®¢æˆ·ç«¯ç¼“å­˜ã€‚æ‰€ä»¥æˆ‘ä»¬è®¤ä¸ºæµè§ˆå™¨å­˜åœ¨ä¸€ä¸ªç¼“å­˜æ•°æ®åº“ï¼Œç”¨äºå‚¨å­˜ä¸€äº›ä¸ç»å¸¸å˜åŒ–çš„é™æ€æ–‡ä»¶ï¼ˆå›¾ç‰‡ã€cssã€jsç­‰ï¼‰ã€‚æˆ‘ä»¬å°†ç¼“å­˜åˆ†ä¸ºå¼ºåˆ¶ç¼“å­˜å’Œåå•†ç¼“å­˜ã€‚</p>
<h3 id="å¼ºåˆ¶ç¼“å­˜"><a href="#å¼ºåˆ¶ç¼“å­˜" class="headerlink" title="å¼ºåˆ¶ç¼“å­˜"></a>å¼ºåˆ¶ç¼“å­˜</h3><p>å¼ºç¼“å­˜ä¸­ï¼Œå½“è¯·æ±‚å†æ¬¡å‘å‡ºæ—¶ï¼Œæµè§ˆå™¨ä¼šæ ¹æ®å…¶ä¸­çš„ expires å’Œ cache-control åˆ¤æ–­ç›®æ ‡èµ„æºæ˜¯å¦â€œå‘½ä¸­â€å¼ºç¼“å­˜ï¼Œè‹¥å‘½ä¸­åˆ™ç›´æ¥ä»ç¼“å­˜ä¸­è·å–èµ„æºï¼Œ<strong>ä¸ä¼šå†ä¸æœåŠ¡ç«¯å‘ç”Ÿé€šä¿¡ã€‚</strong></p>
<p>å‘½ä¸­å¼ºç¼“å­˜çš„æƒ…å†µä¸‹ï¼Œè¿”å›çš„ HTTP çŠ¶æ€ç ä¸º 200 ï¼ˆå¦‚ä¸‹å›¾ï¼‰ã€‚</p>
<p><img src="./images/cache.jpg" alt="avatar"></p>
<h3 id="åå•†ç¼“å­˜"><a href="#åå•†ç¼“å­˜" class="headerlink" title="åå•†ç¼“å­˜"></a>åå•†ç¼“å­˜</h3><p>åˆç§°å¯¹æ¯”ç¼“å­˜ï¼Œå®¢æˆ·ç«¯ä¼šå…ˆä»ç¼“å­˜æ•°æ®åº“ä¸­è·å–åˆ°ä¸€ä¸ªç¼“å­˜æ•°æ®çš„æ ‡è¯†ï¼Œå¾—åˆ°æ ‡è¯†åè¯·æ±‚æœåŠ¡ç«¯éªŒè¯æ˜¯å¦å¤±æ•ˆï¼Œå¦‚æœæ²¡æœ‰å¤±æ•ˆæœåŠ¡ç«¯ä¼šè¿”å›304ï¼Œæ­¤æ—¶å®¢æˆ·ç«¯ç›´æ¥ä»ç¼“å­˜ä¸­è·å–æ‰€ä»¥è¯·æ±‚çš„æ•°æ®ï¼Œå¦‚æœæ ‡è¯†å¤±æ•ˆï¼ŒæœåŠ¡ç«¯ä¼šè¿”å›æ›´æ–°åçš„æ•°æ®ã€‚</p>
<p><strong>ä¸¤ç±»ç¼“å­˜æœºåˆ¶å¯ä»¥åŒæ—¶å­˜åœ¨ï¼Œå¼ºåˆ¶ç¼“å­˜çš„ä¼˜å…ˆçº§é«˜äºåå•†ç¼“å­˜ï¼Œå½“æ‰§è¡Œå¼ºåˆ¶ç¼“å­˜æ—¶ï¼Œå¦‚è‹¥ç¼“å­˜å‘½ä¸­ï¼Œåˆ™ç›´æ¥ä½¿ç”¨ç¼“å­˜æ•°æ®åº“æ•°æ®ï¼Œä¸åœ¨è¿›è¡Œç¼“å­˜åå•†ã€‚</strong></p>
<h2 id="ç¼“å­˜çš„æ–¹æ¡ˆ"><a href="#ç¼“å­˜çš„æ–¹æ¡ˆ" class="headerlink" title="ç¼“å­˜çš„æ–¹æ¡ˆ"></a>ç¼“å­˜çš„æ–¹æ¡ˆ</h2><h3 id="å¼ºåˆ¶ç¼“å­˜-1"><a href="#å¼ºåˆ¶ç¼“å­˜-1" class="headerlink" title="å¼ºåˆ¶ç¼“å­˜"></a>å¼ºåˆ¶ç¼“å­˜</h3><p>å¯¹äºå¼ºåˆ¶ç¼“å­˜ï¼ŒæœåŠ¡å™¨å“åº”çš„headerä¸­ä¼šç”¨ä¸¤ä¸ªå­—æ®µæ¥è¡¨æ˜ â€”â€“ Expireså’ŒCache-Control</p>
<h4 id="Expires"><a href="#Expires" class="headerlink" title="Expires"></a>Expires</h4><p>Expiresçš„å€¼ä¸ºæœåŠ¡ç«¯è¿”å›çš„æ•°æ®åˆ°æœŸæ—¶é—´ã€‚å½“å†æ¬¡è¯·æ±‚æ—¶çš„è¯·æ±‚æ—¶é—´å°äºè¿”å›çš„æ­¤æ—¶é—´ï¼Œåˆ™ç›´æ¥ä½¿ç”¨ç¼“å­˜æ•°æ®ã€‚ä½†ç”±äºæœåŠ¡ç«¯æ—¶é—´å’Œå®¢æˆ·ç«¯æ—¶é—´å¯èƒ½æœ‰è¯¯å·®ï¼Œè¿™ä¹Ÿå°±å¯¼è‡´ç¼“å­˜å‘½ä¸­çš„è¯¯å·®ï¼Œå¦ä¸€æ–¹é¢ï¼ŒExpiresæ˜¯HTTP1.0çš„äº§ç‰©ï¼Œæ•…ç°åœ¨å¤§å¤šæ•°ä½¿ç”¨Cache-controlæ›¿ä»£ã€‚</p>
<h4 id="Cache-Control"><a href="#Cache-Control" class="headerlink" title="Cache-Control"></a>Cache-Control</h4><p>Cache-controlæœ‰å¾ˆå¤šå±æ€§ï¼Œä¸åŒçš„å±æ€§ä»£è¡¨çš„æ„ä¹‰ä¹Ÿä¸åŒã€‚<br>privateï¼šå®¢æˆ·ç«¯å¯ä»¥ç¼“å­˜<br>publicï¼šå®¢æˆ·ç«¯å’Œä»£ç†æœåŠ¡å™¨éƒ½å¯ä»¥ç¼“å­˜<br>max-ageï¼šç¼“å­˜å†…å®¹å°†åœ¨tç§’åå¤±æ•ˆ<br>no-cacheï¼šéœ€è¦ä½¿ç”¨åå•†ç¼“å­˜æ¥éªŒè¯æ•°æ®<br>no-storeï¼šæ‰€æœ‰å†…å®¹éƒ½ä¸ä¼šç¼“å­˜</p>
<h3 id="åå•†ç¼“å­˜-1"><a href="#åå•†ç¼“å­˜-1" class="headerlink" title="åå•†ç¼“å­˜"></a>åå•†ç¼“å­˜</h3><p>åå•†ç¼“å­˜ä¾èµ–äºæœåŠ¡ç«¯ä¸æµè§ˆå™¨ä¹‹é—´çš„é€šä¿¡ã€‚</p>
<p>åå•†ç¼“å­˜æœºåˆ¶ä¸‹ï¼Œæµè§ˆå™¨éœ€è¦å‘æœåŠ¡å™¨å»è¯¢é—®ç¼“å­˜çš„ç›¸å…³ä¿¡æ¯ï¼Œè¿›è€Œåˆ¤æ–­æ˜¯é‡æ–°å‘èµ·è¯·æ±‚ã€ä¸‹è½½å®Œæ•´çš„å“åº”ï¼Œè¿˜æ˜¯ä»æœ¬åœ°è·å–ç¼“å­˜çš„èµ„æºã€‚</p>
<p>å¦‚æœæœåŠ¡ç«¯æç¤ºç¼“å­˜èµ„æºæœªæ”¹åŠ¨ï¼ˆNot Modifiedï¼‰ï¼Œèµ„æºä¼šè¢«é‡å®šå‘åˆ°æµè§ˆå™¨ç¼“å­˜ï¼Œè¿™ç§æƒ…å†µä¸‹ç½‘ç»œè¯·æ±‚å¯¹åº”çš„çŠ¶æ€ç æ˜¯ 304ï¼ˆå¦‚ä¸‹å›¾ï¼‰ã€‚</p>
<p><img src="./images/304.jpg" alt="avatar"></p>
<h4 id="åå•†ç¼“å­˜çš„å®-ä»-Last-midified-åˆ°-Etag"><a href="#åå•†ç¼“å­˜çš„å®-ä»-Last-midified-åˆ°-Etag" class="headerlink" title="åå•†ç¼“å­˜çš„å®: ä» Last-midified åˆ° Etag"></a>åå•†ç¼“å­˜çš„å®: ä» Last-midified åˆ° Etag</h4><p>Last-Modified æ˜¯ä¸€ä¸ªæ—¶é—´æˆ³ï¼Œå¦‚æœæˆ‘ä»¬å¯ç”¨äº†åå•†ç¼“å­˜ï¼Œå®ƒä¼šåœ¨é¦–æ¬¡è¯·æ±‚æ—¶éšç€ Response Headers è¿”å›ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Last-Modified: Fri, 27 Oct 2020 06:35:57 GMT</span><br></pre></td></tr></table></figure>
<p>éšåæˆ‘ä»¬æ¯æ¬¡è¯·æ±‚æ—¶ï¼Œä¼šå¸¦ä¸Šä¸€ä¸ªå« If-Modified-Since çš„æ—¶é—´æˆ³å­—æ®µï¼Œå®ƒçš„å€¼æ­£æ˜¯ä¸Šä¸€æ¬¡ response è¿”å›ç»™å®ƒçš„ last-modified å€¼ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">If-Modified-Since: Fri, 27 Oct 2020 06:35:57 GMT</span><br></pre></td></tr></table></figure>
<p>æœåŠ¡å™¨æ¥æ”¶åˆ°è¿™ä¸ªæ—¶é—´æˆ³åï¼Œä¼šæ¯”å¯¹è¯¥æ—¶é—´æˆ³å’Œèµ„æºåœ¨æœåŠ¡å™¨ä¸Šçš„æœ€åä¿®æ”¹æ—¶é—´æ˜¯å¦ä¸€è‡´ï¼Œä»è€Œåˆ¤æ–­èµ„æºæ˜¯å¦å‘ç”Ÿäº†å˜åŒ–ã€‚å¦‚æœå‘ç”Ÿäº†å˜åŒ–ï¼Œå°±ä¼šè¿”å›ä¸€ä¸ªå®Œæ•´çš„å“åº”å†…å®¹ï¼Œå¹¶åœ¨ Response Headers ä¸­æ·»åŠ æ–°çš„ Last-Modified å€¼ï¼›å¦åˆ™ï¼Œè¿”å›å¦‚ä¸Šå›¾çš„ 304 å“åº”ï¼ŒResponse Headers ä¸ä¼šå†æ·»åŠ  Last-Modified å­—æ®µã€‚</p>
<p>ä½¿ç”¨ Last-Modified å­˜åœ¨ä¸€äº›å¼Šç«¯ï¼Œè¿™å…¶ä¸­æœ€å¸¸è§çš„å°±æ˜¯è¿™æ ·ä¸¤ä¸ªåœºæ™¯ï¼š</p>
<ul>
<li><p>æˆ‘ä»¬ç¼–è¾‘äº†æ–‡ä»¶ï¼Œä½†æ–‡ä»¶çš„å†…å®¹æ²¡æœ‰æ”¹å˜ã€‚æœåŠ¡ç«¯å¹¶ä¸æ¸…æ¥šæˆ‘ä»¬æ˜¯å¦çœŸæ­£æ”¹å˜äº†æ–‡ä»¶ï¼Œå®ƒä»ç„¶é€šè¿‡æœ€åç¼–è¾‘æ—¶é—´è¿›è¡Œåˆ¤æ–­ã€‚å› æ­¤è¿™ä¸ªèµ„æºåœ¨å†æ¬¡è¢«è¯·æ±‚æ—¶ï¼Œä¼šè¢«å½“åšæ–°èµ„æºï¼Œè¿›è€Œå¼•å‘ä¸€æ¬¡å®Œæ•´çš„å“åº”â€”â€”ä¸è¯¥é‡æ–°è¯·æ±‚çš„æ—¶å€™ï¼Œä¹Ÿä¼šé‡æ–°è¯·æ±‚ã€‚</p>
</li>
<li><p>å½“æˆ‘ä»¬ä¿®æ”¹æ–‡ä»¶çš„é€Ÿåº¦è¿‡å¿«æ—¶ï¼ˆæ¯”å¦‚èŠ±äº† 100ms å®Œæˆäº†æ”¹åŠ¨ï¼‰ï¼Œç”±äº If-Modified-Since åªèƒ½æ£€æŸ¥åˆ°ä»¥ç§’ä¸ºæœ€å°è®¡é‡å•ä½çš„æ—¶é—´å·®ï¼Œæ‰€ä»¥å®ƒæ˜¯æ„ŸçŸ¥ä¸åˆ°è¿™ä¸ªæ”¹åŠ¨çš„â€”â€”è¯¥é‡æ–°è¯·æ±‚çš„æ—¶å€™ï¼Œåè€Œæ²¡æœ‰é‡æ–°è¯·æ±‚äº†ã€‚</p>
</li>
</ul>
<p>è¿™ä¸¤ä¸ªåœºæ™¯å…¶å®æŒ‡å‘äº†åŒä¸€ä¸ª bug â€”â€”æœåŠ¡å™¨å¹¶æ²¡æœ‰æ­£ç¡®æ„ŸçŸ¥æ–‡ä»¶çš„å˜åŒ–ã€‚ä¸ºäº†è§£å†³è¿™æ ·çš„é—®é¢˜ï¼Œ Etag ä½œä¸º Last-Modified çš„è¡¥å……å‡ºç°äº†ã€‚</p>
<p>Etag: æ˜¯ç”±æœåŠ¡å™¨ä¸ºæ¯ä¸ªèµ„æºç”Ÿæˆçš„å”¯ä¸€çš„æ ‡è¯†å­—ç¬¦ä¸²ï¼Œè¿™ä¸ªæ ‡è¯†å­—ç¬¦ä¸²æ˜¯åŸºäºæ–‡ä»¶å†…å®¹ç¼–ç çš„ï¼Œåªè¦æ–‡ä»¶å†…å®¹ä¸åŒï¼Œå®ƒä»¬å¯¹åº”çš„ Etag å°±æ˜¯ä¸åŒçš„ï¼Œåä¹‹äº¦ç„¶ã€‚å› æ­¤ Etag èƒ½å¤Ÿç²¾å‡†åœ°æ„ŸçŸ¥æ–‡ä»¶çš„å˜åŒ–ã€‚</p>
<p>Etag å’Œ Last-Modified ç±»ä¼¼ï¼Œå½“é¦–æ¬¡è¯·æ±‚æ—¶ï¼Œæˆ‘ä»¬ä¼šåœ¨å“åº”å¤´é‡Œè·å–åˆ°ä¸€ä¸ªæœ€åˆçš„æ ‡è¯†ç¬¦å­—ç¬¦ä¸²ï¼Œä¸¾ä¸ªğŸŒ°ï¼Œå®ƒå¯ä»¥æ˜¯è¿™æ ·çš„ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ETag: W/&quot;wa3b-1231452&quot;</span><br></pre></td></tr></table></figure>
<p>é‚£ä¹ˆä¸‹ä¸€æ¬¡è¯·æ±‚æ—¶ï¼Œè¯·æ±‚å¤´é‡Œå°±ä¼šå¸¦ä¸Šä¸€ä¸ªå€¼ç›¸åŒçš„ã€åä¸º if-None-Match çš„å­—ç¬¦ä¸²ä¾›æœåŠ¡ç«¯æ¯”å¯¹äº†ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">If-None-Match: W/&quot;wa3b-1231452&quot;</span><br></pre></td></tr></table></figure>
<h2 id="ç¼“å­˜çš„ä¼˜ç‚¹"><a href="#ç¼“å­˜çš„ä¼˜ç‚¹" class="headerlink" title="ç¼“å­˜çš„ä¼˜ç‚¹"></a>ç¼“å­˜çš„ä¼˜ç‚¹</h2><ol>
<li>å‡å°‘äº†å†—ä½™çš„æ•°æ®ä¼ é€’ï¼ŒèŠ‚çœå®½å¸¦æµé‡</li>
<li>å‡å°‘äº†æœåŠ¡å™¨çš„è´Ÿæ‹…ï¼Œå¤§å¤§æé«˜äº†ç½‘ç«™æ€§èƒ½</li>
<li>åŠ å¿«äº†å®¢æˆ·ç«¯åŠ è½½ç½‘é¡µçš„é€Ÿåº¦</li>
</ol>
<h2 id="ä¸åŒåˆ·æ–°çš„è¯·æ±‚æ‰§è¡Œè¿‡ç¨‹"><a href="#ä¸åŒåˆ·æ–°çš„è¯·æ±‚æ‰§è¡Œè¿‡ç¨‹" class="headerlink" title="ä¸åŒåˆ·æ–°çš„è¯·æ±‚æ‰§è¡Œè¿‡ç¨‹"></a>ä¸åŒåˆ·æ–°çš„è¯·æ±‚æ‰§è¡Œè¿‡ç¨‹</h2><ol>
<li>æµè§ˆå™¨åœ°å€æ å†™å…¥URLï¼Œå›è½¦ï¼Œæµè§ˆå™¨å‘ç°ç¼“å­˜ä¸­æœ‰è¿™ä¸ªæ–‡ä»¶äº†ï¼Œä¸ç”¨ç»§ç»­è¯·æ±‚äº†ï¼Œç›´æ¥å»ç¼“å­˜æ‹¿ã€‚ï¼ˆæœ€å¿«ï¼‰</li>
<li>F5åˆ·æ–°ï¼Œåˆ«å·æ‡’å¥½æ­¹å»æœåŠ¡å™¨çœ‹çœ‹è¿™ä¸ªæ–‡ä»¶æ˜¯å¦è¿‡æœŸäº†ã€‚äºæ˜¯æµè§ˆå™¨å°±åœ¨è¯·æ±‚ä¸Šå¸¦ä¸Šä¸€ä¸ªif-modify-sinceã€‚</li>
<li>Ctrl+F5å‘Šè¯‰æµè§ˆå™¨ï¼Œä½ å…ˆæŠŠä½ ç¼“å­˜ä¸­çš„è¿™ä¸ªæ–‡ä»¶ç»™æˆ‘åˆ äº†ï¼Œç„¶åå†å»æœåŠ¡å™¨è¯·æ±‚ä¸ªå®Œæ•´çš„èµ„æºæ–‡ä»¶ä¸‹æ¥ã€‚äºæ˜¯å®¢æˆ·ç«¯å®Œæˆäº†å¼ºè¡Œæ›´æ–°çš„æ“ä½œã€‚</li>
</ol>
]]></content>
      <tags>
        <tag>http</tag>
      </tags>
  </entry>
  <entry>
    <title>çŸ¥è¯†ç‚¹</title>
    <url>/2020/03/30/2020/3%E6%9C%88/0330/</url>
    <content><![CDATA[<h2 id="è¿›ç¨‹å’Œçº¿ç¨‹çš„åŒºåˆ«"><a href="#è¿›ç¨‹å’Œçº¿ç¨‹çš„åŒºåˆ«" class="headerlink" title="è¿›ç¨‹å’Œçº¿ç¨‹çš„åŒºåˆ«"></a>è¿›ç¨‹å’Œçº¿ç¨‹çš„åŒºåˆ«</h2><h2 id="CDN"><a href="#CDN" class="headerlink" title="CDN"></a>CDN</h2><p>CDN å†…å®¹åˆ†å‘ç½‘ç»œï¼Œé€šè¿‡ä¸­å¿ƒå¹³å°çš„è´Ÿè½½å‡è¡¡ã€å†…å®¹åˆ†å‘ã€è°ƒåº¦ç­‰åŠŸèƒ½æ¨¡å—ï¼Œä½¿ç”¨æˆ·å°±è¿‘è·å–æ‰€éœ€å†…å®¹ï¼Œé™ä½ç½‘ç»œé˜»å¡ï¼Œæé«˜ç”¨æˆ·è®¿é—®å“åº”æ•ˆç‡å’Œå‘½ä¸­ç‡ã€‚<br>CDN çš„å…³é”®æŠ€æœ¯æœ‰å†…å®¹å­˜å‚¨å’Œåˆ†å‘æŠ€æœ¯ã€‚</p>
<h2 id="æ‰“å°ä¸€ä¸ªæ ‘ç»“æ„çš„å¯¹è±¡"><a href="#æ‰“å°ä¸€ä¸ªæ ‘ç»“æ„çš„å¯¹è±¡" class="headerlink" title="æ‰“å°ä¸€ä¸ªæ ‘ç»“æ„çš„å¯¹è±¡"></a>æ‰“å°ä¸€ä¸ªæ ‘ç»“æ„çš„å¯¹è±¡</h2><h2 id="flexå¸ƒå±€"><a href="#flexå¸ƒå±€" class="headerlink" title="flexå¸ƒå±€"></a>flexå¸ƒå±€</h2><h2 id="jså‡½æ•°çš„4ç§è°ƒç”¨æ–¹å¼"><a href="#jså‡½æ•°çš„4ç§è°ƒç”¨æ–¹å¼" class="headerlink" title="jså‡½æ•°çš„4ç§è°ƒç”¨æ–¹å¼"></a>jså‡½æ•°çš„4ç§è°ƒç”¨æ–¹å¼</h2><ol>
<li>ä½œä¸ºå‡½æ•°ç›´æ¥è°ƒç”¨</li>
<li>ä½œä¸ºå¯¹è±¡çš„æ–¹æ³•è°ƒç”¨</li>
<li>ä½¿ç”¨callã€applyåŠ¨æ€è°ƒç”¨</li>
<li>newå‘½ä»¤é—´æ¥è°ƒç”¨</li>
</ol>
<h2 id="thisçš„æŒ‡å‘æœ‰å“ªå‡ ç§æƒ…å†µï¼Ÿ"><a href="#thisçš„æŒ‡å‘æœ‰å“ªå‡ ç§æƒ…å†µï¼Ÿ" class="headerlink" title="thisçš„æŒ‡å‘æœ‰å“ªå‡ ç§æƒ…å†µï¼Ÿ"></a>thisçš„æŒ‡å‘æœ‰å“ªå‡ ç§æƒ…å†µï¼Ÿ</h2><ol>
<li>ä½œä¸ºå‡½æ•°ç›´æ¥è°ƒç”¨ï¼Œéä¸¥æ ¼æ¨¡å¼ä¸‹ï¼ŒthisæŒ‡å‘windowï¼Œä¸¥æ ¼æ¨¡å¼ä¸‹ï¼ŒthisæŒ‡å‘undefined</li>
<li>ä½œä¸ºæŸå¯¹è±¡çš„æ–¹æ³•è°ƒç”¨ï¼ŒthisæŒ‡å‘è¿™ä¸ªå¯¹è±¡</li>
<li>ä½¿ç”¨applyã€callã€bindè°ƒç”¨ï¼Œthisæ˜¯ç¬¬ä¸€ä¸ªä¼ é€’è¿›å»çš„å€¼</li>
<li>åœ¨æ„é€ å‡½æ•°ä¸­è°ƒç”¨ï¼ŒthisæŒ‡å‘è¿™ä¸ªæ–°åˆ›å»ºçš„å¯¹è±¡</li>
<li>ç®­å¤´å‡½æ•°ä¸­æ²¡æœ‰thisï¼Œthisåœ¨ç®­å¤´å‡½æ•°åˆ›å»ºæ—¶ç¡®å®šï¼Œå®ƒä¸å£°æ˜æ‰€åœ¨çš„ä¸Šä¸‹æ–‡ç›¸åŒã€‚</li>
</ol>
<h2 id="regexpæ­£åˆ™ï¼Œè®²è®²è´ªå©ªæ¨¡å¼"><a href="#regexpæ­£åˆ™ï¼Œè®²è®²è´ªå©ªæ¨¡å¼" class="headerlink" title="regexpæ­£åˆ™ï¼Œè®²è®²è´ªå©ªæ¨¡å¼"></a>regexpæ­£åˆ™ï¼Œè®²è®²è´ªå©ªæ¨¡å¼</h2><p>æ­£åˆ™é»˜è®¤æ˜¯è´ªå©ªæ¨¡å¼ï¼Œé»˜è®¤çš„è´ªå©ªæ¨¡å¼ä¼šå°½å¯èƒ½å¤šçš„åŒ¹é…æ‰€æœç´¢çš„å­—ç¬¦ä¸²ã€‚</p>
<h2 id="linuxå¸¸ç”¨å‘½ä»¤"><a href="#linuxå¸¸ç”¨å‘½ä»¤" class="headerlink" title="linuxå¸¸ç”¨å‘½ä»¤"></a>linuxå¸¸ç”¨å‘½ä»¤</h2><h2 id="é¢å‘å¯¹è±¡å’Œé¢å‘è¿‡ç¨‹çš„åŒºåˆ«ï¼Œä»¥åŠä»–ä»¬å„è‡ªçš„ä¼˜ç¼ºç‚¹"><a href="#é¢å‘å¯¹è±¡å’Œé¢å‘è¿‡ç¨‹çš„åŒºåˆ«ï¼Œä»¥åŠä»–ä»¬å„è‡ªçš„ä¼˜ç¼ºç‚¹" class="headerlink" title="é¢å‘å¯¹è±¡å’Œé¢å‘è¿‡ç¨‹çš„åŒºåˆ«ï¼Œä»¥åŠä»–ä»¬å„è‡ªçš„ä¼˜ç¼ºç‚¹"></a>é¢å‘å¯¹è±¡å’Œé¢å‘è¿‡ç¨‹çš„åŒºåˆ«ï¼Œä»¥åŠä»–ä»¬å„è‡ªçš„ä¼˜ç¼ºç‚¹</h2><h2 id="Csså®ç°ç€‘å¸ƒæµ"><a href="#Csså®ç°ç€‘å¸ƒæµ" class="headerlink" title="Csså®ç°ç€‘å¸ƒæµ"></a>Csså®ç°ç€‘å¸ƒæµ</h2><h2 id="Css-å®ç°åœ†å½¢è¿›åº¦æ¡"><a href="#Css-å®ç°åœ†å½¢è¿›åº¦æ¡" class="headerlink" title="Css å®ç°åœ†å½¢è¿›åº¦æ¡"></a>Css å®ç°åœ†å½¢è¿›åº¦æ¡</h2><h2 id="less-sassçš„åŒºåˆ«"><a href="#less-sassçš„åŒºåˆ«" class="headerlink" title="less sassçš„åŒºåˆ«"></a>less sassçš„åŒºåˆ«</h2><h2 id="é“¾è¡¨å’Œæ•°ç»„çš„åŒºåˆ«"><a href="#é“¾è¡¨å’Œæ•°ç»„çš„åŒºåˆ«" class="headerlink" title="é“¾è¡¨å’Œæ•°ç»„çš„åŒºåˆ«"></a>é“¾è¡¨å’Œæ•°ç»„çš„åŒºåˆ«</h2><h2 id="jsä¸ºä»€ä¹ˆå•çº¿ç¨‹"><a href="#jsä¸ºä»€ä¹ˆå•çº¿ç¨‹" class="headerlink" title="jsä¸ºä»€ä¹ˆå•çº¿ç¨‹"></a>jsä¸ºä»€ä¹ˆå•çº¿ç¨‹</h2><h2 id="è¯´è¯´-typescript-çš„ç‰¹æ€§ï¼Œæœ‰ä»€ä¹ˆå¥½å¤„"><a href="#è¯´è¯´-typescript-çš„ç‰¹æ€§ï¼Œæœ‰ä»€ä¹ˆå¥½å¤„" class="headerlink" title="è¯´è¯´ typescript çš„ç‰¹æ€§ï¼Œæœ‰ä»€ä¹ˆå¥½å¤„"></a>è¯´è¯´ typescript çš„ç‰¹æ€§ï¼Œæœ‰ä»€ä¹ˆå¥½å¤„</h2><h2 id="ç§»åŠ¨ç«¯é€‚é…æ€ä¹ˆåš"><a href="#ç§»åŠ¨ç«¯é€‚é…æ€ä¹ˆåš" class="headerlink" title="ç§»åŠ¨ç«¯é€‚é…æ€ä¹ˆåš"></a>ç§»åŠ¨ç«¯é€‚é…æ€ä¹ˆåš</h2>]]></content>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title>TCP</title>
    <url>/2020/03/11/2020/3%E6%9C%88/TCP/</url>
    <content><![CDATA[<h3 id="TCP"><a href="#TCP" class="headerlink" title="TCP"></a>TCP</h3><p>ä¼ è¾“æ§åˆ¶åè®®ï¼ˆTCPï¼ŒTransmission Control Protocolï¼‰æ˜¯ä¸€ç§é¢å‘è¿æ¥çš„ã€å¯é çš„ã€åŸºäºå­—èŠ‚æµçš„ä¼ è¾“å±‚é€šä¿¡åè®®ã€‚<br>TCP åŸºæœ¬æ˜¯å’Œ UDP åç€æ¥ï¼Œå»ºç«‹è¿æ¥æ–­å¼€è¿æ¥éƒ½éœ€è¦å…ˆéœ€è¦è¿›è¡Œæ¡æ‰‹ã€‚åœ¨ä¼ è¾“æ•°æ®çš„è¿‡ç¨‹ä¸­ï¼Œé€šè¿‡å„ç§ç®—æ³•ä¿è¯æ•°æ®çš„å¯é æ€§ï¼Œå½“ç„¶å¸¦æ¥çš„é—®é¢˜å°±æ˜¯ç›¸æ¯” UDP æ¥è¯´ä¸é‚£ä¹ˆçš„é«˜æ•ˆã€‚</p>
<h4 id="ä¸‰æ¬¡æ¡æ‰‹"><a href="#ä¸‰æ¬¡æ¡æ‰‹" class="headerlink" title="ä¸‰æ¬¡æ¡æ‰‹"></a>ä¸‰æ¬¡æ¡æ‰‹</h4><p>é¦–å…ˆå‡è®¾ä¸»åŠ¨å‘èµ·è¯·æ±‚çš„ä¸€ç«¯ç§°ä¸ºå®¢æˆ·ç«¯ï¼Œè¢«åŠ¨è¿æ¥çš„ä¸€ç«¯ç§°ä¸ºæœåŠ¡ç«¯ã€‚ä¸ç®¡æ˜¯å®¢æˆ·ç«¯è¿˜æ˜¯æœåŠ¡ç«¯ï¼ŒTCP è¿æ¥å»ºç«‹å®Œåéƒ½èƒ½å‘é€å’Œæ¥æ”¶æ•°æ®ï¼Œæ‰€ä»¥ TCP æ˜¯ä¸€ä¸ªå…¨åŒå·¥çš„åè®®ã€‚<br>èµ·åˆï¼Œä¸¤ç«¯éƒ½ä¸º CLOSED çŠ¶æ€ã€‚åœ¨é€šä¿¡å¼€å§‹å‰ï¼ŒåŒæ–¹éƒ½ä¼šåˆ›å»º TCBã€‚ æœåŠ¡å™¨åˆ›å»ºå®Œ TCB åä¾¿è¿›å…¥ LISTEN çŠ¶æ€ï¼Œæ­¤æ—¶å¼€å§‹ç­‰å¾…å®¢æˆ·ç«¯å‘é€æ•°æ®ã€‚</p>
<ul>
<li>ç¬¬ä¸€æ¬¡æ¡æ‰‹</li>
</ul>
<p>å®¢æˆ·ç«¯å‘æœåŠ¡ç«¯å‘é€è¿æ¥è¯·æ±‚æŠ¥æ–‡æ®µã€‚è¯¥æŠ¥æ–‡æ®µä¸­åŒ…å«è‡ªèº«çš„æ•°æ®é€šè®¯åˆå§‹åºå·ã€‚è¯·æ±‚å‘é€åï¼Œå®¢æˆ·ç«¯ä¾¿è¿›å…¥ SYN-SENT çŠ¶æ€ã€‚</p>
<ul>
<li>ç¬¬äºŒæ¬¡æ¡æ‰‹</li>
</ul>
<p>æœåŠ¡ç«¯æ”¶åˆ°è¿æ¥è¯·æ±‚æŠ¥æ–‡æ®µåï¼Œå¦‚æœåŒæ„è¿æ¥ï¼Œåˆ™ä¼šå‘é€ä¸€ä¸ªåº”ç­”ï¼Œè¯¥åº”ç­”ä¸­ä¹Ÿä¼šåŒ…å«è‡ªèº«çš„æ•°æ®é€šè®¯åˆå§‹åºå·ï¼Œå‘é€å®Œæˆåä¾¿è¿›å…¥ SYN-RECEIVED çŠ¶æ€ã€‚</p>
<ul>
<li>ç¬¬ä¸‰æ¬¡æ¡æ‰‹</li>
</ul>
<p>å½“å®¢æˆ·ç«¯æ”¶åˆ°è¿æ¥åŒæ„çš„åº”ç­”åï¼Œè¿˜è¦å‘æœåŠ¡ç«¯å‘é€ä¸€ä¸ªç¡®è®¤æŠ¥æ–‡ã€‚å®¢æˆ·ç«¯å‘å®Œè¿™ä¸ªæŠ¥æ–‡æ®µåä¾¿è¿›å…¥ ESTABLISHED çŠ¶æ€ï¼ŒæœåŠ¡ç«¯æ”¶åˆ°è¿™ä¸ªåº”ç­”åä¹Ÿè¿›å…¥ ESTABLISHED çŠ¶æ€ï¼Œæ­¤æ—¶è¿æ¥å»ºç«‹æˆåŠŸã€‚</p>
<p><img src="./images/ä¸‰æ¬¡æ¡æ‰‹.jpg" alt="ä¸‰æ¬¡æ¡æ‰‹æµç¨‹å›¾"></p>
<p>ä¸‰æ¬¡æ¡æ‰‹ä¸»è¦æ˜¯ä¸ºäº†è§„é¿å› ç½‘ç»œå»¶è¿Ÿå¯¼è‡´ä¸€äº›æœåŠ¡å™¨å¼€é”€çš„é—®é¢˜ã€‚</p>
<h4 id="å››æ¬¡æŒ¥æ‰‹"><a href="#å››æ¬¡æŒ¥æ‰‹" class="headerlink" title="å››æ¬¡æŒ¥æ‰‹"></a>å››æ¬¡æŒ¥æ‰‹</h4><p>TCP æ˜¯å…¨åŒå·¥çš„ï¼Œåœ¨æ–­å¼€è¿æ¥æ—¶ä¸¤ç«¯éƒ½éœ€è¦å‘é€ FIN å’Œ ACKã€‚</p>
<p>ç¬¬ä¸€æ¬¡ï¼š å½“ä¸»æœºAå®Œæˆæ•°æ®ä¼ è¾“å,å°†æ§åˆ¶ä½FINç½®1ï¼Œæå‡ºåœæ­¢TCPè¿æ¥çš„è¯·æ±‚ ï¼›</p>
<p>ç¬¬äºŒæ¬¡ï¼š ä¸»æœºBæ”¶åˆ°FINåå¯¹å…¶ä½œå‡ºå“åº”ï¼Œç¡®è®¤è¿™ä¸€æ–¹å‘ä¸Šçš„TCPè¿æ¥å°†å…³é—­,å°†ACKç½®1ï¼›</p>
<p>ç¬¬ä¸‰æ¬¡ï¼š ç”±B ç«¯å†æå‡ºåæ–¹å‘çš„å…³é—­è¯·æ±‚,å°†FINç½®1 ï¼›</p>
<p>ç¬¬å››æ¬¡ï¼š ä¸»æœºAå¯¹ä¸»æœºBçš„è¯·æ±‚è¿›è¡Œç¡®è®¤ï¼Œå°†ACKç½®1ï¼ŒåŒæ–¹å‘çš„å…³é—­ç»“æŸã€‚</p>
<h2 id="åè¯è§£é‡Š"><a href="#åè¯è§£é‡Š" class="headerlink" title="åè¯è§£é‡Š"></a>åè¯è§£é‡Š</h2><p>1ã€ACK æ˜¯TCPæŠ¥å¤´çš„æ§åˆ¶ä½ä¹‹ä¸€ï¼Œå¯¹æ•°æ®è¿›è¡Œç¡®è®¤ã€‚ç¡®è®¤ç”±ç›®çš„ç«¯å‘å‡ºï¼Œ ç”¨å®ƒæ¥å‘Šè¯‰å‘é€ç«¯è¿™ä¸ªåºåˆ—å·ä¹‹å‰çš„æ•°æ®æ®µéƒ½æ”¶åˆ°äº†ã€‚ æ¯”å¦‚ç¡®è®¤å·ä¸ºXï¼Œåˆ™è¡¨ç¤ºå‰X-1ä¸ªæ•°æ®æ®µéƒ½æ”¶åˆ°äº†ï¼Œåªæœ‰å½“ACK=1æ—¶,ç¡®è®¤å·æ‰æœ‰æ•ˆï¼Œå½“ACK=0æ—¶ï¼Œç¡®è®¤å·æ— æ•ˆï¼Œè¿™æ—¶ä¼šè¦æ±‚é‡ä¼ æ•°æ®ï¼Œä¿è¯æ•°æ®çš„å®Œæ•´æ€§ã€‚</p>
<p>2ã€SYN åŒæ­¥åºåˆ—å·ï¼ŒTCPå»ºç«‹è¿æ¥æ—¶å°†è¿™ä¸ªä½ç½®1ã€‚</p>
<p>3ã€FIN å‘é€ç«¯å®Œæˆå‘é€ä»»åŠ¡ä½ï¼Œå½“TCPå®Œæˆæ•°æ®ä¼ è¾“éœ€è¦æ–­å¼€æ—¶ï¼Œ æå‡ºæ–­å¼€è¿æ¥çš„ä¸€æ–¹å°†è¿™ä½ç½®1ã€‚</p>
<h2 id="å°ç»“TCPä¸UDPçš„åŒºåˆ«ï¼š"><a href="#å°ç»“TCPä¸UDPçš„åŒºåˆ«ï¼š" class="headerlink" title="å°ç»“TCPä¸UDPçš„åŒºåˆ«ï¼š"></a>å°ç»“TCPä¸UDPçš„åŒºåˆ«ï¼š</h2><p>1.ï¼ˆåŸºäºè¿æ¥vsæ— è¿æ¥ï¼‰tcpæ˜¯é¢å‘è¿æ¥çš„ï¼ˆä¸‰æ¬¡æ¡æ‰‹ï¼›å››æ¬¡æŒ¥æ‰‹ï¼‰ï¼›udpä¸æ˜¯é¢å‘è¿æ¥çš„<br>2.ï¼ˆé‡é‡çº§vsè½»é‡çº§ï¼‰tcpæ˜¯ä¸€ä¸ªé‡é‡çº§çš„åè®®ï¼›udpåˆ™æ˜¯è½»é‡çº§çš„åè®®ã€‚ä¸€ä¸ªtcpæ•°æ®æŠ¥çš„æŠ¥å¤´å¤§å°æœ€å°‘20å­—èŠ‚ï¼Œudpæ•°æ®æŠ¥çš„æŠ¥å¤´å›ºå®š8ä¸ªå­—èŠ‚<br>3.ï¼ˆå¯é æ€§ï¼‰tcpäº¤ä»˜ä¿è¯ï¼šå¦‚æœæ¶ˆæ¯åœ¨ä¼ è¾“ä¸­ä¸¢å¤±ï¼Œé‚£ä¹ˆå®ƒå°†é‡å‘ï¼›udpæ²¡æœ‰äº¤ä»˜ä¿è¯ï¼Œä¸€ä¸ªæ•°æ®åŒ…åœ¨è¿è¾“è¿‡ç¨‹ä¸­å¯èƒ½ä¸¢å¤±ã€‚<br>4.ï¼ˆæœ‰åºæ€§ï¼‰æ¶ˆæ¯åˆ°è¾¾ç½‘ç»œçš„å¦ä¸€ç«¯å¯èƒ½æ˜¯æ— åºçš„ï¼Œtcpåè®®å°†ä¸ºä½ æ‹å¥½åºã€‚Udpä¸æä¾›ä»»ä½•æœ‰åºæ€§çš„ä¿è¯ã€‚<br>5.ï¼ˆé€Ÿåº¦ï¼‰tcpæ…¢ï¼Œé€‚åˆä¼ è¾“å¤§é‡æ•°æ®ï¼›udpå¿«ï¼Œé€‚åˆä¼ è¾“å°‘é‡æ•°æ®ã€‚<br>6.ï¼ˆæµé‡æ§åˆ¶å’Œæ‹¥å¡æ§åˆ¶ï¼‰TCPæœ‰æµé‡æ§åˆ¶å’Œæ‹¥å¡æ§åˆ¶ï¼Œudpæ²¡æœ‰ã€‚</p>
<ol start="7">
<li>tcpé¢å‘å­—èŠ‚æµï¼Œudpé¢å‘æŠ¥æ–‡</li>
<li>tcpåªèƒ½å•æ’­ï¼Œä¸èƒ½å‘é€å¹¿æ’­å’Œç»„æ’­ï¼›udpå¯ä»¥å¹¿æ’­å’Œç»„æ’­ã€‚</li>
</ol>
<h3 id="æµé‡æ§åˆ¶å’Œæ‹¥å¡æ§åˆ¶ï¼š"><a href="#æµé‡æ§åˆ¶å’Œæ‹¥å¡æ§åˆ¶ï¼š" class="headerlink" title="æµé‡æ§åˆ¶å’Œæ‹¥å¡æ§åˆ¶ï¼š"></a>æµé‡æ§åˆ¶å’Œæ‹¥å¡æ§åˆ¶ï¼š</h3><ul>
<li><p>æµé‡æ§åˆ¶ï¼šå°±æ˜¯è®©å‘é€æ–¹å‘é€é€Ÿç‡ä¸è¦å¤ªå¿«ï¼Œè¦è®©æ¥æ”¶æ–¹æ¥çš„åŠæ¥æ”¶ã€‚</p>
</li>
<li><p>æ‹¥å¡æ§åˆ¶ï¼šé˜²æ­¢è¿‡å¤šçš„æ•°æ®æ³¨å…¥åˆ°ç½‘ç»œä¸­ï¼Œè¿™æ ·å¯ä»¥ä½¿ç½‘ç»œä¸­çš„è·¯ç”±å™¨æˆ–é“¾è·¯ä¸è‡´è¿‡è½½ã€‚æ‹¥å¡æ§åˆ¶æ‰€è¦åšçš„éƒ½æœ‰ä¸€ä¸ªå‰æï¼šç½‘ç»œèƒ½å¤Ÿæ‰¿å—ç°æœ‰çš„ç½‘ç»œè´Ÿè·ã€‚æ‹¥å¡æ§åˆ¶æ˜¯ä¸€ä¸ªå…¨å±€æ€§çš„è¿‡ç¨‹ï¼Œæ¶‰åŠåˆ°æ‰€æœ‰çš„ä¸»æœºã€è·¯ç”±å™¨ï¼Œä»¥åŠä¸é™ä½ç½‘ç»œä¼ è¾“æ€§èƒ½æœ‰å…³çš„æ‰€æœ‰å› ç´ ã€‚</p>
</li>
</ul>
]]></content>
      <tags>
        <tag>ç½‘ç»œåè®®</tag>
      </tags>
  </entry>
  <entry>
    <title>UDP</title>
    <url>/2020/03/11/2020/3%E6%9C%88/UDP/</url>
    <content><![CDATA[<h3 id="UDP"><a href="#UDP" class="headerlink" title="UDP"></a>UDP</h3><p>UDPåè®®æ˜¯é¢å‘æ— è¿æ¥çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸éœ€è¦åœ¨æ­£å¼ä¼ é€’æ•°æ®ä¹‹å‰å…ˆè¿æ¥èµ·åŒæ–¹ã€‚ç„¶åUDPåè®®åªæ˜¯æ•°æ®æŠ¥æ–‡çš„æ¬è¿å·¥ï¼Œä¸ä¿è¯æœ‰åºä¸”ä¸ä¸¢å¤±çš„ä¼ é€’åˆ°å¯¹ç«¯ï¼Œå¹¶ä¸”UDPåè®®ä¹Ÿæ²¡æœ‰ä»»ä½•æ§åˆ¶æµé‡çš„ç®—æ³•ï¼Œæ€»çš„æ¥è¯´UDPç›¸è¾ƒäºTCPæ›´åŠ çš„è½»ä¾¿ã€‚</p>
<p>æˆ‘ä»¬ç»å¸¸ä½¿ç”¨â€œpingâ€å‘½ä»¤æ¥æµ‹è¯•ä¸¤å°ä¸»æœºä¹‹é—´TCP/IPé€šä¿¡æ˜¯å¦æ­£å¸¸ï¼Œ å…¶å®â€œpingâ€å‘½ä»¤çš„åŸç†å°±æ˜¯å‘å¯¹æ–¹ä¸»æœºå‘é€UDPæ•°æ®åŒ…ï¼Œç„¶åå¯¹æ–¹ä¸»æœºç¡®è®¤æ”¶åˆ°æ•°æ®åŒ…ï¼Œ å¦‚æœæ•°æ®åŒ…æ˜¯å¦åˆ°è¾¾çš„æ¶ˆæ¯åŠæ—¶åé¦ˆå›æ¥ï¼Œé‚£ä¹ˆç½‘ç»œå°±æ˜¯é€šçš„ã€‚</p>
<h4 id="é¢å‘æ— è¿æ¥"><a href="#é¢å‘æ— è¿æ¥" class="headerlink" title="é¢å‘æ— è¿æ¥"></a>é¢å‘æ— è¿æ¥</h4><p>UDPæ˜¯ä¸éœ€è¦å’ŒTCPä¸€æ ·åœ¨å‘é€æ•°æ®å‰è¿›è¡Œ3æ¬¡æ¡æ‰‹å»ºç«‹è¿æ¥çš„ï¼Œæƒ³å‘æ•°æ®å°±å¯ä»¥å‘é€äº†ã€‚<br>å¹¶ä¸”ä¹Ÿåªæ˜¯æ•°æ®æŠ¥æ–‡çš„æ¬è¿å·¥ï¼Œä¸ä¼šå¯¹æ•°æ®æŠ¥æ–‡è¿›è¡Œä»»ä½•æ‹†åˆ†å’Œæ‹¼æ¥æ“ä½œã€‚</p>
<p>å…·ä½“æ¥è¯´ï¼š</p>
<ul>
<li>åœ¨å‘é€ç«¯ï¼Œåº”ç”¨å±‚å°†æ•°æ®ä¼ é€’ç»™ä¼ è¾“å±‚çš„UDPåè®®ï¼ŒUDPåªä¼šç»™æ•°æ®å¢åŠ ä¸€ä¸ªUDPå¤´æ ‡è¯†ä¸‹æ˜¯UDPåè®®ï¼Œç„¶åå°±ä¼ é€’ç»™ç½‘ç»œå±‚</li>
<li>åœ¨æ¥æ”¶ç«¯ï¼Œç½‘ç»œå±‚å°†æ•°æ®ä¼ é€’ç»™ä¼ è¾“å±‚ï¼ŒUDPåªå»é™¤IPæŠ¥æ–‡å¤´å°±ä¼ é€’ç»™åº”ç”¨å±‚ï¼Œä¸ä¼šä»»ä½•æ‹¼æ¥æ“ä½œ</li>
</ul>
<h4 id="ä¸å¯é æ€§"><a href="#ä¸å¯é æ€§" class="headerlink" title="ä¸å¯é æ€§"></a>ä¸å¯é æ€§</h4><p>é¦–å…ˆä¸å¯é æ€§ä½“ç°åœ¨æ— è¿æ¥ä¸Šï¼Œé€šä¿¡éƒ½ä¸éœ€è¦å»ºç«‹è¿æ¥ï¼Œæƒ³å‘å°±å‘ï¼Œè¿™æ ·çš„æƒ…å†µè‚¯å®šä¸å¯é ã€‚<br>å¹¶ä¸”æ”¶åˆ°ä»€ä¹ˆæ•°æ®å°±ä¼ é€’ä»€ä¹ˆæ•°æ®ï¼Œå¹¶ä¸”ä¹Ÿä¸ä¼šå¤‡ä»½æ•°æ®ï¼Œå‘é€æ•°æ®ä¹Ÿä¸ä¼šå…³å¿ƒå¯¹æ–¹æ˜¯å¦å·²ç»æ­£ç¡®æ¥æ”¶åˆ°æ•°æ®äº†ã€‚<br>å†è€…ç½‘ç»œç¯å¢ƒæ—¶å¥½æ—¶åï¼Œä½†æ˜¯ UDP å› ä¸ºæ²¡æœ‰æ‹¥å¡æ§åˆ¶ï¼Œä¸€ç›´ä¼šä»¥æ’å®šçš„é€Ÿåº¦å‘é€æ•°æ®ã€‚å³ä½¿ç½‘ç»œæ¡ä»¶ä¸å¥½ï¼Œä¹Ÿä¸ä¼šå¯¹å‘é€é€Ÿç‡è¿›è¡Œè°ƒæ•´ã€‚è¿™æ ·å®ç°çš„å¼Šç«¯å°±æ˜¯åœ¨ç½‘ç»œæ¡ä»¶ä¸å¥½çš„æƒ…å†µä¸‹å¯èƒ½ä¼šå¯¼è‡´ä¸¢åŒ…ï¼Œä½†æ˜¯ä¼˜ç‚¹ä¹Ÿå¾ˆæ˜æ˜¾ï¼Œåœ¨æŸäº›å®æ—¶æ€§è¦æ±‚é«˜çš„åœºæ™¯ï¼ˆæ¯”å¦‚ç”µè¯ä¼šè®®ï¼‰å°±éœ€è¦ä½¿ç”¨ UDP è€Œä¸æ˜¯ TCPã€‚</p>
<h4 id="é«˜æ•ˆ"><a href="#é«˜æ•ˆ" class="headerlink" title="é«˜æ•ˆ"></a>é«˜æ•ˆ</h4><p>è™½ç„¶ UDP åè®®ä¸æ˜¯é‚£ä¹ˆçš„å¯é ï¼Œä½†æ˜¯æ­£æ˜¯å› ä¸ºå®ƒä¸æ˜¯é‚£ä¹ˆçš„å¯é ï¼Œæ‰€ä»¥ä¹Ÿå°±æ²¡æœ‰ TCP é‚£ä¹ˆå¤æ‚äº†ï¼Œéœ€è¦ä¿è¯æ•°æ®ä¸ä¸¢å¤±ä¸”æœ‰åºåˆ°è¾¾ã€‚<br>å› æ­¤ UDP çš„å¤´éƒ¨å¼€é”€å°ï¼Œåªæœ‰å…«å­—èŠ‚ï¼Œç›¸æ¯” TCP çš„è‡³å°‘äºŒåå­—èŠ‚è¦å°‘å¾—å¤šï¼Œåœ¨ä¼ è¾“æ•°æ®æŠ¥æ–‡æ—¶æ˜¯å¾ˆé«˜æ•ˆçš„ã€‚</p>
<h4 id="ä¼ è¾“æ–¹å¼"><a href="#ä¼ è¾“æ–¹å¼" class="headerlink" title="ä¼ è¾“æ–¹å¼"></a>ä¼ è¾“æ–¹å¼</h4><p>UDP ä¸æ­¢æ”¯æŒä¸€å¯¹ä¸€çš„ä¼ è¾“æ–¹å¼ï¼ŒåŒæ ·æ”¯æŒä¸€å¯¹å¤šï¼Œå¤šå¯¹å¤šï¼Œå¤šå¯¹ä¸€çš„æ–¹å¼ï¼Œä¹Ÿå°±æ˜¯è¯´ UDP æä¾›äº†å•æ’­ï¼Œå¤šæ’­ï¼Œå¹¿æ’­çš„åŠŸèƒ½ã€‚</p>
<h4 id="é€‚åˆä½¿ç”¨çš„åœºæ™¯"><a href="#é€‚åˆä½¿ç”¨çš„åœºæ™¯" class="headerlink" title="é€‚åˆä½¿ç”¨çš„åœºæ™¯"></a>é€‚åˆä½¿ç”¨çš„åœºæ™¯</h4><ul>
<li>ç›´æ’­</li>
</ul>
<p>æƒ³å¿…å¤§å®¶éƒ½çœ‹è¿‡ç›´æ’­å§ï¼Œå¤§å®¶å¯ä»¥è€ƒè™‘ä¸‹å¦‚æœç›´æ’­ä½¿ç”¨äº†åŸºäº TCP çš„åè®®ä¼šå‘ç”Ÿä»€ä¹ˆäº‹æƒ…ï¼Ÿ</p>
<p>TCP ä¼šä¸¥æ ¼æ§åˆ¶ä¼ è¾“çš„æ­£ç¡®æ€§ï¼Œä¸€æ—¦æœ‰æŸä¸€ä¸ªæ•°æ®å¯¹ç«¯æ²¡æœ‰æ”¶åˆ°ï¼Œå°±ä¼šåœæ­¢ä¸‹æ¥ç›´åˆ°å¯¹ç«¯æ”¶åˆ°è¿™ä¸ªæ•°æ®ã€‚è¿™ç§é—®é¢˜åœ¨ç½‘ç»œæ¡ä»¶ä¸é”™çš„æƒ…å†µä¸‹å¯èƒ½å¹¶ä¸ä¼šå‘ç”Ÿä»€ä¹ˆäº‹æƒ…ï¼Œä½†æ˜¯åœ¨ç½‘ç»œæƒ…å†µå·®çš„æ—¶å€™å°±ä¼šå˜æˆç”»é¢å¡ä½ï¼Œç„¶åå†ç»§ç»­æ’­æ”¾ä¸‹ä¸€å¸§çš„æƒ…å†µã€‚</p>
<p>ä½†æ˜¯å¯¹äºç›´æ’­æ¥è¯´ï¼Œç”¨æˆ·è‚¯å®šå…³æ³¨çš„æ˜¯æœ€æ–°çš„ç”»é¢ï¼Œè€Œä¸æ˜¯å› ä¸ºç½‘ç»œæ¡ä»¶å·®è€Œä¸¢å¤±çš„è€æ—§ç”»é¢ï¼Œæ‰€ä»¥ TCP åœ¨è¿™ç§æƒ…å†µä¸‹æ— ç”¨æ­¦ä¹‹åœ°ï¼Œåªä¼šé™ä½ç”¨æˆ·ä½“éªŒã€‚</p>
<ul>
<li>ç‹è€…è£è€€</li>
</ul>
<p>ä¸ºä»€ä¹ˆè¿™æ ·è¯´å‘¢ï¼Ÿé¦–å…ˆå¯¹äºç‹è€…è£è€€æ¥è¯´ï¼Œç”¨æˆ·ä½“é‡æ˜¯ç›¸å½“å¤§çš„ï¼Œå¦‚æœä½¿ç”¨ TCP è¿æ¥çš„è¯ï¼Œå°±å¯èƒ½ä¼šå‡ºç°æœåŠ¡å™¨ä¸å¤Ÿç”¨çš„æƒ…å†µï¼Œå› ä¸ºæ¯å°æœåŠ¡å™¨å¯ä¾›æ”¯æ’‘çš„ TCP è¿æ¥æ•°é‡æ˜¯æœ‰é™åˆ¶çš„ã€‚</p>
<p>å†è€…ï¼Œå› ä¸º TCP ä¼šä¸¥æ ¼æ§åˆ¶ä¼ è¾“çš„æ­£ç¡®æ€§ï¼Œå¦‚æœå› ä¸ºç”¨æˆ·ç½‘ç»œæ¡ä»¶ä¸å¥½å°±é€ æˆé¡µé¢å¡é¡¿ç„¶åå†ä¼ è¾“æ—§çš„æ¸¸æˆç”»é¢æ˜¯è‚¯å®šä¸èƒ½æ¥å—çš„ï¼Œæ¯•ç«Ÿå¯¹äºè¿™ç±»å®æ—¶æ€§è¦æ±‚å¾ˆé«˜çš„æ¸¸æˆæ¥è¯´ï¼Œæœ€æ–°çš„æ¸¸æˆç”»é¢æ‰æ˜¯æœ€éœ€è¦çš„ï¼Œè€Œä¸æ˜¯è€æ—§çš„ç”»é¢ï¼Œå¦åˆ™è§’è‰²éƒ½ä¸çŸ¥é“æ­»å¤šå°‘æ¬¡äº†ã€‚</p>
<h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><ul>
<li>UDP ç›¸æ¯” TCP ç®€å•çš„å¤šï¼Œä¸éœ€è¦å»ºç«‹è¿æ¥ï¼Œä¸éœ€è¦éªŒè¯æ•°æ®æŠ¥æ–‡ï¼Œä¸éœ€è¦æµé‡æ§åˆ¶ï¼Œåªä¼šæŠŠæƒ³å‘çš„æ•°æ®æŠ¥æ–‡ä¸€è‚¡è„‘çš„ä¸¢ç»™å¯¹ç«¯</li>
<li>è™½ç„¶ UDP å¹¶æ²¡æœ‰ TCP ä¼ è¾“æ¥çš„å‡†ç¡®ï¼Œä½†æ˜¯ä¹Ÿèƒ½åœ¨å¾ˆå¤šå®æ—¶æ€§è¦æ±‚é«˜çš„åœ°æ–¹æœ‰æ‰€ä½œä¸º</li>
</ul>
]]></content>
      <tags>
        <tag>ç½‘ç»œåè®®</tag>
      </tags>
  </entry>
  <entry>
    <title>èŠ‚æµã€é˜²æŠ–</title>
    <url>/2020/04/17/2020/4%E6%9C%88/0417/</url>
    <content><![CDATA[<h2 id="js-é˜²æŠ–å’ŒèŠ‚æµ"><a href="#js-é˜²æŠ–å’ŒèŠ‚æµ" class="headerlink" title="js é˜²æŠ–å’ŒèŠ‚æµ"></a>js é˜²æŠ–å’ŒèŠ‚æµ</h2><p>åœ¨è¿›è¡Œçª—å£çš„resizeã€scrollï¼Œè¾“å…¥æ¡†å†…å®¹æ ¡éªŒç­‰æ“ä½œæ—¶ï¼Œå¦‚æœäº‹ä»¶å¤„ç†å‡½æ•°è°ƒç”¨çš„é¢‘ç‡æ— é™åˆ¶ï¼Œä¼šåŠ é‡æµè§ˆå™¨çš„è´Ÿæ‹…ï¼Œå¯¼è‡´ç”¨æˆ·ä½“éªŒéå¸¸ç³Ÿç³•ã€‚æ­¤æ—¶æˆ‘ä»¬å¯ä»¥é‡‡ç”¨debounceï¼ˆé˜²æŠ–ï¼‰å’Œthrottleï¼ˆèŠ‚æµï¼‰çš„æ–¹å¼æ¥å‡å°‘è°ƒç”¨é¢‘ç‡ï¼ŒåŒæ—¶åˆä¸å½±å“å®é™…æ•ˆæœã€‚</p>
<h3 id="å‡½æ•°é˜²æŠ–"><a href="#å‡½æ•°é˜²æŠ–" class="headerlink" title="å‡½æ•°é˜²æŠ–"></a>å‡½æ•°é˜²æŠ–</h3><p>å‡½æ•°é˜²æŠ–ï¼ˆdebounceï¼‰ï¼šå½“æŒç»­è§¦å‘äº‹ä»¶æ—¶ï¼Œä¸€å®šæ—¶é—´å†…æ²¡æœ‰å†è§¦å‘äº‹ä»¶ï¼Œäº‹ä»¶å¤„ç†å‡½æ•°æ‰ä¼šæ‰§è¡Œä¸€æ¬¡ï¼Œå¦‚æœè®¾å®šçš„æ—¶é—´åˆ°æ¥ä¹‹å‰ï¼Œåˆä¸€æ¬¡è§¦å‘äº†æ—¶äº‹ä»¶ï¼Œå°±é‡æ–°å¼€å§‹å»¶æ—¶ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">debounce</span>(<span class="params">fn, delay</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> timer = <span class="literal">null</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (timer) &#123;</span><br><span class="line">      clearTimeout(timer);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    timer = setTimeout(fn, delay);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="å‡½æ•°èŠ‚æµ"><a href="#å‡½æ•°èŠ‚æµ" class="headerlink" title="å‡½æ•°èŠ‚æµ"></a>å‡½æ•°èŠ‚æµ</h3><p>å‡½æ•°èŠ‚æµï¼ˆthrottleï¼‰ï¼šå½“æŒç»­è§¦å‘äº‹ä»¶æ—¶ï¼Œä¿è¯ä¸€å®šæ—¶é—´æ®µå†…åªè°ƒç”¨ä¸€æ¬¡äº‹ä»¶å¤„ç†å‡½æ•°ã€‚</p>
<p>èŠ‚æµ throttleï¼ˆæ—¶é—´ç¼€ç‰ˆï¼‰</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">throttle</span>(<span class="params">fn, delay</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> prev = <span class="built_in">Date</span>.now();</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> now = <span class="built_in">Date</span>.now();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (now - prev &gt;= delay) &#123;</span><br><span class="line">      fn.apply(<span class="keyword">this</span>, <span class="built_in">arguments</span>);</span><br><span class="line">      prev = <span class="built_in">Date</span>.now();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>èŠ‚æµ throttleï¼ˆå®šæ—¶å™¨ç‰ˆï¼‰</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">throttle</span>(<span class="params">fn, delay</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> timer = <span class="literal">null</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> _that = <span class="keyword">this</span>;</span><br><span class="line">    <span class="keyword">const</span> args = <span class="built_in">arguments</span>;</span><br><span class="line">    <span class="keyword">if</span> (!timer) &#123;</span><br><span class="line">      timer = setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        fn.apply(_that, args);</span><br><span class="line">        timer = <span class="literal">null</span></span><br><span class="line">      &#125;, delay);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>èŠ‚æµ throttle ï¼ˆæ—¶é—´ç¼€+å®šæ—¶å™¨ç‰ˆï¼‰</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">throttle</span>(<span class="params">fn, delay</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> timer = <span class="literal">null</span>;</span><br><span class="line">  <span class="keyword">let</span> startTime = <span class="built_in">Date</span>.now();</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> _that = <span class="keyword">this</span>;</span><br><span class="line">    <span class="keyword">let</span> args = <span class="built_in">arguments</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> nowTime = <span class="built_in">Date</span>.now();</span><br><span class="line"></span><br><span class="line">    clearTimeout(timer);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (nowTime - startTime &gt;= delay) &#123;</span><br><span class="line">      fn.apply(_that, args);</span><br><span class="line">      startTime = <span class="built_in">Date</span>.now();</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      timer = setTimeout(fn, delay - (nowTime - startTime));</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h4><p>å‡½æ•°é˜²æŠ–ï¼šå°†å‡ æ¬¡æ“ä½œåˆå¹¶ä¸ºä¸€æ¬¡æ“ä½œè¿›è¡Œã€‚åŸç†æ˜¯ç»´æŠ¤ä¸€ä¸ªè®¡æ—¶å™¨ï¼Œè§„å®šåœ¨ delay æ—¶é—´åè§¦å‘å‡½æ•°ï¼Œä½†æ˜¯åœ¨ delay æ—¶é—´å†…å†æ¬¡è§¦å‘çš„è¯ï¼Œå°±ä¼šå–æ¶ˆä¹‹å‰çš„è®¡æ—¶å™¨è€Œé‡æ–°è®¾ç½®ã€‚è¿™æ ·ä¸€æ¥ï¼Œåªæœ‰æœ€åä¸€æ¬¡æ“ä½œèƒ½è¢«è§¦å‘ã€‚</p>
<p>å‡½æ•°èŠ‚æµï¼šå‡½æ•°èŠ‚æµä¸ç®¡äº‹ä»¶è§¦å‘æœ‰å¤šé¢‘ç¹ï¼Œéƒ½ä¼šä¿è¯åœ¨è§„å®šæ—¶é—´å†…ä¸€å®šä¼šæ‰§è¡Œä¸€æ¬¡çœŸæ­£çš„äº‹ä»¶å¤„ç†å‡½æ•°ï¼Œè€Œå‡½æ•°é˜²æŠ–åªæ˜¯åœ¨æœ€åä¸€æ¬¡äº‹ä»¶åæ‰è§¦å‘ä¸€æ¬¡å‡½æ•°ã€‚æ¯”å¦‚åœ¨é¡µé¢çš„æ— é™åŠ è½½åœºæ™¯ä¸‹ï¼Œæˆ‘ä»¬éœ€è¦ç”¨æˆ·åœ¨æ»šåŠ¨é¡µé¢æ—¶ï¼Œæ¯éš”ä¸€æ®µæ—¶é—´å‘ä¸€æ¬¡ AJAX è¯·æ±‚ï¼Œè€Œä¸æ˜¯åœ¨ç”¨æˆ·åœä¸‹æ»šåŠ¨é¡µé¢æ“ä½œæ—¶æ‰å»è¯·æ±‚æ•°æ®ã€‚è¿™æ ·çš„åœºæ™¯ï¼Œå°±é€‚åˆç”¨èŠ‚æµæŠ€æœ¯æ¥å®ç°ã€‚</p>
]]></content>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title>çŸ¥è¯†ç‚¹</title>
    <url>/2020/04/21/2020/4%E6%9C%88/0421/</url>
    <content><![CDATA[<h4 id="imgçš„srcä¹Ÿå¯ä»¥è·¨åŸŸå—"><a href="#imgçš„srcä¹Ÿå¯ä»¥è·¨åŸŸå—" class="headerlink" title="imgçš„srcä¹Ÿå¯ä»¥è·¨åŸŸå—"></a>imgçš„srcä¹Ÿå¯ä»¥è·¨åŸŸå—</h4><p>åŸç†ä¸Šéƒ½æ˜¯åˆ©ç”¨æ ‡ç­¾çš„srcå¯ç»•è¿‡åŒæºé™åˆ¶ï¼Œè·¨åŸŸè¯·æ±‚çš„ç‰¹ç‚¹ï¼Œ</p>
<p>ç¡¬è¦è¯´ä¸åŒï¼Œé‚£ä¹ˆåŒºåˆ«åœ¨äºï¼šimgåªèƒ½å•å‘å‘é€getè¯·æ±‚ï¼Œä¸å¯è®¿é—®å“åº”å†…å®¹ï¼ˆåªæ˜¯å±•ç°ï¼‰ï¼Œè€Œscriptå¯å¯¹å…¶è¿›è¡Œè§£æ</p>
<h4 id="å®ç°æ–æ³¢é‚£å¥‘æ•°åˆ—å¹¶åˆ©ç”¨ç¼“å­˜è¿›è¡Œä¼˜åŒ–"><a href="#å®ç°æ–æ³¢é‚£å¥‘æ•°åˆ—å¹¶åˆ©ç”¨ç¼“å­˜è¿›è¡Œä¼˜åŒ–" class="headerlink" title="å®ç°æ–æ³¢é‚£å¥‘æ•°åˆ—å¹¶åˆ©ç”¨ç¼“å­˜è¿›è¡Œä¼˜åŒ–"></a>å®ç°æ–æ³¢é‚£å¥‘æ•°åˆ—å¹¶åˆ©ç”¨ç¼“å­˜è¿›è¡Œä¼˜åŒ–</h4><h4 id="reduxä¸­connect-çš„ä½œç”¨"><a href="#reduxä¸­connect-çš„ä½œç”¨" class="headerlink" title="reduxä¸­connect()çš„ä½œç”¨"></a>reduxä¸­connect()çš„ä½œç”¨</h4><p>è¿æ¥ React ç»„ä»¶ä¸ Store çš„ä½œç”¨ã€‚</p>
<h4 id="redux-sagaçš„ä½œç”¨"><a href="#redux-sagaçš„ä½œç”¨" class="headerlink" title="redux-sagaçš„ä½œç”¨"></a>redux-sagaçš„ä½œç”¨</h4><h4 id="httpä¸­çš„optionæ–¹æ³•çš„åº”ç”¨åœºæ™¯"><a href="#httpä¸­çš„optionæ–¹æ³•çš„åº”ç”¨åœºæ™¯" class="headerlink" title="httpä¸­çš„optionæ–¹æ³•çš„åº”ç”¨åœºæ™¯"></a>httpä¸­çš„optionæ–¹æ³•çš„åº”ç”¨åœºæ™¯</h4><p>OPTIONSæ–¹æ³•è¯·æ±‚webæœåŠ¡å™¨å‘ŠçŸ¥å…¶æ”¯æŒçš„å„ç§åŠŸèƒ½ã€‚å¯ä»¥è¯¢é—®æœåŠ¡å™¨é€šå¸¸æ”¯æŒå“ªäº›æ–¹æ³•ï¼Œæˆ–è€…å¯¹æŸäº›ç‰¹æ®Šèµ„æºæ”¯æŒå“ªäº›æ–¹æ³•ã€‚</p>
<h4 id="å‰ç«¯é¢„æ£€çš„è¿‡ç¨‹"><a href="#å‰ç«¯é¢„æ£€çš„è¿‡ç¨‹" class="headerlink" title="å‰ç«¯é¢„æ£€çš„è¿‡ç¨‹"></a>å‰ç«¯é¢„æ£€çš„è¿‡ç¨‹</h4><p>ä¸€ã€ä¸ºä»€ä¹ˆè¦å‘é¢„æ£€è¯·æ±‚ï¼Ÿ</p>
<p>å‡ºäºå®‰å…¨è€ƒè™‘ï¼Œæµè§ˆå™¨ä¼šé™åˆ¶ä»è„šæœ¬å‘èµ·çš„è·¨åŸŸ http è¯·æ±‚ï¼Œåƒ XMLHttpRequest å’Œ Fetch éƒ½éµå¾ªåŒæºç­–ç•¥ã€‚<br>æµè§ˆå™¨é™åˆ¶è·¨åŸŸè¯·æ±‚ä¸€èˆ¬æœ‰ä¸¤ç§æ–¹å¼ï¼š</p>
<ol>
<li>æµè§ˆå™¨é™åˆ¶å‘èµ·è·¨åŸŸè¯·æ±‚</li>
<li>è·¨åŸŸè¯·æ±‚è·¨åŸŸæ­£å¸¸å‘èµ·ï¼Œä½†æ˜¯è¿”å›çš„ç»“æœè¢«æµè§ˆå™¨æ‹¦æˆª</li>
</ol>
<p>ä¸€èˆ¬æµè§ˆå™¨éƒ½æ˜¯ç¬¬äºŒç§æ–¹å¼é™åˆ¶è·¨åŸŸè¯·æ±‚ï¼Œé‚£å°±æ˜¯è¯´è¯·æ±‚å·²åˆ°è¾¾æœåŠ¡å™¨ï¼Œå¹¶æœ‰å¯èƒ½å¯¹æ•°æ®åº“é‡Œçš„æ•°æ®è¿›è¡Œäº†æ“ä½œï¼Œä½†æ˜¯è¿”å›çš„ç»“æœè¢«æµè§ˆå™¨æ‹¦æˆªäº†ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±è·å–ä¸åˆ°è¿”å›ç»“æœï¼Œè¿™æ˜¯ä¸€æ¬¡å¤±è´¥çš„è¯·æ±‚ï¼Œä½†æ˜¯å¯èƒ½å¯¹æ•°æ®åº“é‡Œçš„æ•°æ®äº§ç”Ÿäº†å½±å“ã€‚</p>
<p>ä¸ºäº†é˜²æ­¢è¿™ç§æƒ…å†µçš„å‘ç”Ÿï¼Œè§„èŒƒè¦æ±‚ï¼Œå¯¹è¿™ç§å¯èƒ½å¯¹æœåŠ¡å™¨æ•°æ®äº§ç”Ÿå‰¯ä½œç”¨çš„HTTPè¯·æ±‚æ–¹æ³•ï¼Œæµè§ˆå™¨å¿…é¡»å…ˆä½¿ç”¨OPTIONSæ–¹æ³•å‘èµ·ä¸€ä¸ªé¢„æ£€è¯·æ±‚ï¼Œä»è€Œè·çŸ¥æœåŠ¡å™¨æ˜¯å¦å…è®¸è¯¥è·¨åŸŸè¯·æ±‚ï¼šå¦‚æœå…è®¸ï¼Œå°±å‘é€å¸¦æ•°æ®çš„çœŸå®è¯·æ±‚ï¼›å¦‚æœä¸å…è®¸ï¼Œåˆ™é˜»æ­¢å‘é€å¸¦æ•°æ®çš„çœŸå®è¯·æ±‚ã€‚</p>
<p>äºŒã€ä»€ä¹ˆæ—¶å€™å‘é¢„æ£€è¯·æ±‚</p>
<p>httpè¯·æ±‚åŒ…æ‹¬ï¼šç®€å•è¯·æ±‚ å’Œ å¤æ‚è¯·æ±‚ã€‚</p>
<ol>
<li>ç®€å•è¯·æ±‚</li>
</ol>
<p>ç®€å•è¯·æ±‚ä¸ä¼šè§¦å‘ CORS é¢„æ£€è¯·æ±‚ã€‚<br>è‹¥æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼Œåˆ™å¯è§†ä¸ºâ€œç®€å•è¯·æ±‚â€ï¼š</p>
<ul>
<li>get</li>
<li>head</li>
<li>post</li>
</ul>
<p>ä»…å½“ post æ–¹æ³•çš„ Content-Type å€¼ç­‰äºä¸‹åˆ—ä¹‹ä¸€æ‰ç®—ç®€å•è¯·æ±‚</p>
<blockquote>
<p>text-plain<br>multipart/form-data<br>application/x-www-form-unlenceded</p>
</blockquote>
<ol start="2">
<li>å¤æ‚è¯·æ±‚ï¼ˆéœ€é¢„æ£€çš„è¯·æ±‚ï¼‰</li>
</ol>
<p>â€œéœ€é¢„æ£€çš„è¯·æ±‚â€è¦æ±‚å¿…é¡»é¦–å…ˆä½¿ç”¨OPTIONSæ–¹æ³•å‘èµ·ä¸€ä¸ªé¢„æ£€è¯·æ±‚åˆ°æœåŠ¡åŒºï¼Œä»¥è·çŸ¥æœåŠ¡å™¨æ˜¯å¦å…è®¸è¯¥å®é™…è¯·æ±‚ã€‚â€œé¢„æ£€è¯·æ±‚â€çš„ä½¿ç”¨ï¼Œå¯ä»¥é¿å…è·¨åŸŸè¯·æ±‚å¯¹æœåŠ¡å™¨çš„ç”¨æˆ·æ•°æ®äº§ç”Ÿæœªé¢„æœŸçš„å½±å“ã€‚</p>
<p>å½“è¯·æ±‚æ»¡è¶³ä¸‹è¿°ä»»ä¸€æ¡ä»¶æ—¶ï¼Œå³åº”é¦–å…ˆå‘é€é¢„æ£€è¯·æ±‚ï¼š<br>ä½¿ç”¨äº†ä¸‹é¢ä»»ä¸€ HTTP æ–¹æ³•ï¼š</p>
<ul>
<li>put</li>
<li>delete</li>
<li>connect</li>
<li>options</li>
<li>trace</li>
<li>patch</li>
</ul>
<h4 id="ç§»åŠ¨ç«¯æ€ä¹ˆè§£å†³12pxå­—ä½“çš„é—®é¢˜ï¼Œæ€ä¹ˆè§£å†³0-5pxçš„çº¿æ¡"><a href="#ç§»åŠ¨ç«¯æ€ä¹ˆè§£å†³12pxå­—ä½“çš„é—®é¢˜ï¼Œæ€ä¹ˆè§£å†³0-5pxçš„çº¿æ¡" class="headerlink" title="ç§»åŠ¨ç«¯æ€ä¹ˆè§£å†³12pxå­—ä½“çš„é—®é¢˜ï¼Œæ€ä¹ˆè§£å†³0.5pxçš„çº¿æ¡"></a>ç§»åŠ¨ç«¯æ€ä¹ˆè§£å†³12pxå­—ä½“çš„é—®é¢˜ï¼Œæ€ä¹ˆè§£å†³0.5pxçš„çº¿æ¡</h4><h4 id="ç§»åŠ¨ç«¯æ‰‹æŒ‡è§¦ç¢°åçš„äº‹ä»¶apiè§¦å‘é¡ºåº"><a href="#ç§»åŠ¨ç«¯æ‰‹æŒ‡è§¦ç¢°åçš„äº‹ä»¶apiè§¦å‘é¡ºåº" class="headerlink" title="ç§»åŠ¨ç«¯æ‰‹æŒ‡è§¦ç¢°åçš„äº‹ä»¶apiè§¦å‘é¡ºåº"></a>ç§»åŠ¨ç«¯æ‰‹æŒ‡è§¦ç¢°åçš„äº‹ä»¶apiè§¦å‘é¡ºåº</h4><h4 id="react-çš„è™šæ‹Ÿ-dom-æ˜¯æ€ä¹ˆå®ç°çš„"><a href="#react-çš„è™šæ‹Ÿ-dom-æ˜¯æ€ä¹ˆå®ç°çš„" class="headerlink" title="react çš„è™šæ‹Ÿ dom æ˜¯æ€ä¹ˆå®ç°çš„"></a>react çš„è™šæ‹Ÿ dom æ˜¯æ€ä¹ˆå®ç°çš„</h4><h4 id="react-çš„æ¸²æŸ“è¿‡ç¨‹ä¸­ï¼Œå…„å¼ŸèŠ‚ç‚¹ä¹‹é—´æ˜¯æ€ä¹ˆå¤„ç†çš„ï¼Ÿä¹Ÿå°±æ˜¯-key-å€¼ä¸ä¸€æ ·çš„æ—¶å€™ã€‚"><a href="#react-çš„æ¸²æŸ“è¿‡ç¨‹ä¸­ï¼Œå…„å¼ŸèŠ‚ç‚¹ä¹‹é—´æ˜¯æ€ä¹ˆå¤„ç†çš„ï¼Ÿä¹Ÿå°±æ˜¯-key-å€¼ä¸ä¸€æ ·çš„æ—¶å€™ã€‚" class="headerlink" title="react çš„æ¸²æŸ“è¿‡ç¨‹ä¸­ï¼Œå…„å¼ŸèŠ‚ç‚¹ä¹‹é—´æ˜¯æ€ä¹ˆå¤„ç†çš„ï¼Ÿä¹Ÿå°±æ˜¯ key å€¼ä¸ä¸€æ ·çš„æ—¶å€™ã€‚"></a>react çš„æ¸²æŸ“è¿‡ç¨‹ä¸­ï¼Œå…„å¼ŸèŠ‚ç‚¹ä¹‹é—´æ˜¯æ€ä¹ˆå¤„ç†çš„ï¼Ÿä¹Ÿå°±æ˜¯ key å€¼ä¸ä¸€æ ·çš„æ—¶å€™ã€‚</h4><h4 id="ä½ è¯´ä¸€ä¸‹-webpack-çš„ä¸€äº›-pluginï¼Œæ€ä¹ˆä½¿ç”¨-webpack-å¯¹é¡¹ç›®è¿›è¡Œä¼˜åŒ–"><a href="#ä½ è¯´ä¸€ä¸‹-webpack-çš„ä¸€äº›-pluginï¼Œæ€ä¹ˆä½¿ç”¨-webpack-å¯¹é¡¹ç›®è¿›è¡Œä¼˜åŒ–" class="headerlink" title="ä½ è¯´ä¸€ä¸‹ webpack çš„ä¸€äº› pluginï¼Œæ€ä¹ˆä½¿ç”¨ webpack å¯¹é¡¹ç›®è¿›è¡Œä¼˜åŒ–"></a>ä½ è¯´ä¸€ä¸‹ webpack çš„ä¸€äº› pluginï¼Œæ€ä¹ˆä½¿ç”¨ webpack å¯¹é¡¹ç›®è¿›è¡Œä¼˜åŒ–</h4><h4 id="scopedæ˜¯æ€ä¹ˆå®ç°çš„ï¼Œè¿½é—®ä¸ºä»€ä¹ˆåŠ deepèƒ½ç©¿é€æ ·å¼ï¼Ÿï¼ˆå¯ä»¥è¯´è¯´-global-çš„å®ç°ï¼‰"><a href="#scopedæ˜¯æ€ä¹ˆå®ç°çš„ï¼Œè¿½é—®ä¸ºä»€ä¹ˆåŠ deepèƒ½ç©¿é€æ ·å¼ï¼Ÿï¼ˆå¯ä»¥è¯´è¯´-global-çš„å®ç°ï¼‰" class="headerlink" title="scopedæ˜¯æ€ä¹ˆå®ç°çš„ï¼Œè¿½é—®ä¸ºä»€ä¹ˆåŠ deepèƒ½ç©¿é€æ ·å¼ï¼Ÿï¼ˆå¯ä»¥è¯´è¯´ :global çš„å®ç°ï¼‰"></a>scopedæ˜¯æ€ä¹ˆå®ç°çš„ï¼Œè¿½é—®ä¸ºä»€ä¹ˆåŠ deepèƒ½ç©¿é€æ ·å¼ï¼Ÿï¼ˆå¯ä»¥è¯´è¯´ :global çš„å®ç°ï¼‰</h4><h4 id="ä¸ºä»€ä¹ˆå­—ä½“å¤§å°æœ€å°è®¾ç½®æˆ12pxï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆå­—ä½“å¤§å°æœ€å°è®¾ç½®æˆ12pxï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆå­—ä½“å¤§å°æœ€å°è®¾ç½®æˆ12pxï¼Ÿ"></a>ä¸ºä»€ä¹ˆå­—ä½“å¤§å°æœ€å°è®¾ç½®æˆ12pxï¼Ÿ</h4><p>å› ä¸º Chrome è¿™æ¬¾ä»»æ€§çš„æµè§ˆå™¨åšäº†å¦‚ä¸‹é™åˆ¶ï¼š</p>
<ol>
<li>font-size æœ‰ä¸€ä¸ªæœ€å°å€¼ 12pxï¼ˆä¸åŒæ“ä½œç³»ç»Ÿã€ä¸åŒè¯­è¨€å¯èƒ½é™åˆ¶ä¸ä¸€æ ·ï¼‰ï¼Œä½äº12pxçš„ï¼Œä¸€å¾‹æŒ‰12pxæ˜¾ç¤ºã€‚ç†ç”±æ˜¯ Chrome è®¤ä¸ºä½äº12pxçš„ä¸­æ–‡å¯¹äººç±»æ˜¯ä¸å‹å¥½çš„ã€‚</li>
<li>ä½†æ˜¯å…è®¸ä½ æŠŠ font-size è®¾ç½®ä¸º0</li>
<li>è¿™ä¸ª12pxçš„é™åˆ¶ç”¨æˆ·æ˜¯å¯ä»¥è‡ªè¡Œè°ƒæ•´çš„ï¼Œè¿›å…¥ chrome://setting/fonts è®¾ç½®ã€‚</li>
</ol>
<p>å¦‚æœä¸€å®šè¦ä½¿ç”¨å°äº12pxçš„å­—å·ï¼Œå¯ä»¥ä½¿ç”¨ transform: scale(0.9), ç¼©æ”¾çš„æ–¹å¼æ¥è§£å†³ã€‚</p>
<p>Mac ä¸‹æµ‹è¯• Chromeã€Firefoxã€Safire æµè§ˆå™¨ï¼Œåªæœ‰ Chrome æœ‰è¿™ä¸ªé™åˆ¶ã€‚</p>
<h5 id="æˆ‘ç°åœ¨æœ‰ä¸€ä¸ªæ•°ç»„-1-2-3-4-ï¼Œè¯·å®ç°ç®—æ³•ï¼Œå¾—åˆ°è¿™ä¸ªæ•°ç»„çš„å…¨æ’åˆ—çš„æ•°ç»„ï¼Œå¦‚-2-1-3-4-ï¼Œ"><a href="#æˆ‘ç°åœ¨æœ‰ä¸€ä¸ªæ•°ç»„-1-2-3-4-ï¼Œè¯·å®ç°ç®—æ³•ï¼Œå¾—åˆ°è¿™ä¸ªæ•°ç»„çš„å…¨æ’åˆ—çš„æ•°ç»„ï¼Œå¦‚-2-1-3-4-ï¼Œ" class="headerlink" title="æˆ‘ç°åœ¨æœ‰ä¸€ä¸ªæ•°ç»„[1,2,3,4]ï¼Œè¯·å®ç°ç®—æ³•ï¼Œå¾—åˆ°è¿™ä¸ªæ•°ç»„çš„å…¨æ’åˆ—çš„æ•°ç»„ï¼Œå¦‚[2,1,3,4]ï¼Œ"></a>æˆ‘ç°åœ¨æœ‰ä¸€ä¸ªæ•°ç»„[1,2,3,4]ï¼Œè¯·å®ç°ç®—æ³•ï¼Œå¾—åˆ°è¿™ä¸ªæ•°ç»„çš„å…¨æ’åˆ—çš„æ•°ç»„ï¼Œå¦‚[2,1,3,4]ï¼Œ</h5><h4 id="æ—¶é—´å¤æ‚åº¦"><a href="#æ—¶é—´å¤æ‚åº¦" class="headerlink" title="æ—¶é—´å¤æ‚åº¦"></a>æ—¶é—´å¤æ‚åº¦</h4><h4 id="æˆ‘ç°åœ¨æœ‰ä¸€ä¸ªèƒŒåŒ…ï¼Œå®¹é‡ä¸º-mï¼Œç„¶åæœ‰-n-ä¸ªè´§ç‰©ï¼Œé‡é‡åˆ†åˆ«ä¸º-w1-w2-w3â€¦wnï¼Œæ¯ä¸ªè´§ç‰©çš„ä»·å€¼æ˜¯-v1-v2-v3â€¦vnï¼Œw-å’Œ-v-æ²¡æœ‰ä»»ä½•å…³ç³»ï¼Œè¯·æ±‚èƒŒåŒ…èƒ½è£…ä¸‹çš„æœ€å¤§ä»·å€¼ã€‚"><a href="#æˆ‘ç°åœ¨æœ‰ä¸€ä¸ªèƒŒåŒ…ï¼Œå®¹é‡ä¸º-mï¼Œç„¶åæœ‰-n-ä¸ªè´§ç‰©ï¼Œé‡é‡åˆ†åˆ«ä¸º-w1-w2-w3â€¦wnï¼Œæ¯ä¸ªè´§ç‰©çš„ä»·å€¼æ˜¯-v1-v2-v3â€¦vnï¼Œw-å’Œ-v-æ²¡æœ‰ä»»ä½•å…³ç³»ï¼Œè¯·æ±‚èƒŒåŒ…èƒ½è£…ä¸‹çš„æœ€å¤§ä»·å€¼ã€‚" class="headerlink" title="æˆ‘ç°åœ¨æœ‰ä¸€ä¸ªèƒŒåŒ…ï¼Œå®¹é‡ä¸º mï¼Œç„¶åæœ‰ n ä¸ªè´§ç‰©ï¼Œé‡é‡åˆ†åˆ«ä¸º w1,w2,w3â€¦wnï¼Œæ¯ä¸ªè´§ç‰©çš„ä»·å€¼æ˜¯ v1,v2,v3â€¦vnï¼Œw å’Œ v æ²¡æœ‰ä»»ä½•å…³ç³»ï¼Œè¯·æ±‚èƒŒåŒ…èƒ½è£…ä¸‹çš„æœ€å¤§ä»·å€¼ã€‚"></a>æˆ‘ç°åœ¨æœ‰ä¸€ä¸ªèƒŒåŒ…ï¼Œå®¹é‡ä¸º mï¼Œç„¶åæœ‰ n ä¸ªè´§ç‰©ï¼Œé‡é‡åˆ†åˆ«ä¸º w1,w2,w3â€¦wnï¼Œæ¯ä¸ªè´§ç‰©çš„ä»·å€¼æ˜¯ v1,v2,v3â€¦vnï¼Œw å’Œ v æ²¡æœ‰ä»»ä½•å…³ç³»ï¼Œè¯·æ±‚èƒŒåŒ…èƒ½è£…ä¸‹çš„æœ€å¤§ä»·å€¼ã€‚</h4><h4 id="JSæ‰‹å†™äºŒåˆ†æœç´¢ç®—æ³•"><a href="#JSæ‰‹å†™äºŒåˆ†æœç´¢ç®—æ³•" class="headerlink" title="JSæ‰‹å†™äºŒåˆ†æœç´¢ç®—æ³•"></a>JSæ‰‹å†™äºŒåˆ†æœç´¢ç®—æ³•</h4><h4 id="å®ç°ä¸€ä¸ªLazyman"><a href="#å®ç°ä¸€ä¸ªLazyman" class="headerlink" title="å®ç°ä¸€ä¸ªLazyman"></a>å®ç°ä¸€ä¸ªLazyman</h4>]]></content>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title>ç½‘ç»œåè®®</title>
    <url>/2020/05/13/2020/5%E6%9C%88/0513/</url>
    <content><![CDATA[<h2 id="https-å¦‚ä½•å»ºç«‹è¿æ¥-TLS-åŠ å¯†æ–¹å¼ä»¥åŠæ¡æ‰‹çš„æµç¨‹"><a href="#https-å¦‚ä½•å»ºç«‹è¿æ¥-TLS-åŠ å¯†æ–¹å¼ä»¥åŠæ¡æ‰‹çš„æµç¨‹" class="headerlink" title="https å¦‚ä½•å»ºç«‹è¿æ¥, TLS åŠ å¯†æ–¹å¼ä»¥åŠæ¡æ‰‹çš„æµç¨‹"></a>https å¦‚ä½•å»ºç«‹è¿æ¥, TLS åŠ å¯†æ–¹å¼ä»¥åŠæ¡æ‰‹çš„æµç¨‹</h2><p>HTTPSå…¶å®æ˜¯HTTP + SSL / TLS ä¸¤éƒ¨åˆ†ç»„æˆï¼Œä¹Ÿå°±æ˜¯åœ¨HTTPä¸ŠåˆåŠ äº†ä¸€å±‚å¤„ç†åŠ å¯†ä¿¡æ¯çš„æ¨¡å—ã€‚æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯çš„ä¿¡æ¯ä¼ è¾“éƒ½ä¼šé€šè¿‡TLSè¿›è¡ŒåŠ å¯†ï¼Œæ‰€ä»¥ä¼ è¾“çš„æ•°æ®éƒ½æ˜¯åŠ å¯†åçš„æ•°æ®ã€‚</p>
<p>è¿›è¡Œä¸‰æ¬¡æ¡æ‰‹ï¼Œå»ºç«‹TCPè¿æ¥ã€‚</p>
<ol>
<li>ç¬¬ä¸€æ¬¡æ¡æ‰‹ï¼šå»ºç«‹è¿æ¥ã€‚å®¢æˆ·ç«¯å‘é€è¿æ¥è¯·æ±‚æŠ¥æ–‡æ®µï¼Œå°†SYNä½ç½®ä¸º1ï¼ŒSequence Numberä¸ºxï¼›ç„¶åï¼Œå®¢æˆ·ç«¯è¿›å…¥SYN_SENDçŠ¶æ€ï¼Œç­‰å¾…æœåŠ¡å™¨çš„ç¡®è®¤ï¼›</li>
<li>ç¬¬äºŒæ¬¡æ¡æ‰‹ï¼šæœåŠ¡å™¨æ”¶åˆ°SYNæŠ¥æ–‡æ®µã€‚æœåŠ¡å™¨æ”¶åˆ°å®¢æˆ·ç«¯çš„SYNæŠ¥æ–‡æ®µï¼Œéœ€è¦å¯¹è¿™ä¸ªSYNæŠ¥æ–‡æ®µè¿›è¡Œç¡®è®¤ï¼Œè®¾ç½®Acknowledgment Numberä¸ºx+1(Sequence Number+1)ï¼›åŒæ—¶ï¼Œè‡ªå·±è¿˜è¦å‘é€SYNè¯·æ±‚ä¿¡æ¯ï¼Œå°†SYNä½ç½®ä¸º1ï¼ŒSequence Numberä¸ºyï¼›æœåŠ¡å™¨ç«¯å°†ä¸Šè¿°æ‰€æœ‰ä¿¡æ¯æ”¾åˆ°ä¸€ä¸ªæŠ¥æ–‡æ®µï¼ˆå³SYN+ACKæŠ¥æ–‡æ®µï¼‰ä¸­ï¼Œä¸€å¹¶å‘é€ç»™å®¢æˆ·ç«¯ï¼Œæ­¤æ—¶æœåŠ¡å™¨è¿›å…¥SYN_RECVçŠ¶æ€ï¼›</li>
<li>ç¬¬ä¸‰æ¬¡æ¡æ‰‹ï¼šå®¢æˆ·ç«¯æ”¶åˆ°æœåŠ¡å™¨çš„SYN+ACKæŠ¥æ–‡æ®µã€‚ç„¶åå°†Acknowledgment Numberè®¾ç½®ä¸ºy+1ï¼Œå‘æœåŠ¡å™¨å‘é€ACKæŠ¥æ–‡æ®µï¼Œè¿™ä¸ªæŠ¥æ–‡æ®µå‘é€å®Œæ¯•ä»¥åï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯éƒ½è¿›å…¥ESTABLISHEDçŠ¶æ€ï¼Œå®ŒæˆTCPä¸‰æ¬¡æ¡æ‰‹ã€‚</li>
</ol>
<p>SSLæ¡æ‰‹è¿‡ç¨‹</p>
<ol>
<li>ç¬¬ä¸€é˜¶æ®µ å®¢æˆ·ç«¯å‘èµ·è¯·æ±‚ï¼Œä»¥æ˜æ–‡ä¼ è¾“è¯·æ±‚ä¿¡æ¯ï¼Œå»ºç«‹å®‰å…¨èƒ½åŠ› åŒ…æ‹¬åè®®ç‰ˆæœ¬ ä¼šè¯Id å¯†ç æ„ä»¶ å‹ç¼©æ–¹æ³•å’Œåˆå§‹éšæœºæ•°</li>
<li>ç¬¬äºŒé˜¶æ®µ æœåŠ¡å™¨å‘é€è¯ä¹¦ å¯†é’¥äº¤æ¢æ•°æ®å’Œè¯ä¹¦è¯·æ±‚ï¼Œæœ€åå‘é€è¯·æ±‚-ç›¸åº”é˜¶æ®µçš„ç»“æŸä¿¡å·</li>
<li>ç¬¬ä¸‰é˜¶æ®µ å¦‚æœæœ‰è¯ä¹¦è¯·æ±‚å®¢æˆ·ç«¯å‘é€æ­¤è¯ä¹¦ ä¹‹åå®¢æˆ·ç«¯å‘é€å¯†é’¥äº¤æ¢æ•°æ® ä¹Ÿå¯ä»¥å‘é€è¯ä¹¦éªŒè¯æ¶ˆæ¯</li>
<li>ç¬¬å››é˜¶æ®µ å˜æ›´å¯†ç æ„ä»¶å’Œç»“æŸæ¡æ‰‹åè®®</li>
</ol>
]]></content>
      <tags>
        <tag>https</tag>
      </tags>
  </entry>
  <entry>
    <title>JSè¿è¡Œæœºåˆ¶</title>
    <url>/2020/05/14/2020/5%E6%9C%88/0514/</url>
    <content><![CDATA[<h2 id="JSè¿è¡Œæœºåˆ¶"><a href="#JSè¿è¡Œæœºåˆ¶" class="headerlink" title="JSè¿è¡Œæœºåˆ¶"></a>JSè¿è¡Œæœºåˆ¶</h2><ul>
<li>ç†è§£ JS çš„å•çº¿ç¨‹æ¦‚å¿µ</li>
<li>ç†è§£ä»»åŠ¡é˜Ÿåˆ—</li>
<li>ç†è§£ EventLoop</li>
<li>ç†è§£å“ªäº›è¯­å¥ä¼šæ”¾å…¥å¼‚æ­¥ä»»åŠ¡é˜Ÿåˆ—</li>
<li>ç†è§£è¯­å¥æ”¾å…¥å¼‚æ­¥ä»»åŠ¡é˜Ÿåˆ—çš„æ—¶æœº</li>
</ul>
<h3 id="ä¸ºä»€ä¹ˆ-JavaScript-æ˜¯å•çº¿ç¨‹"><a href="#ä¸ºä»€ä¹ˆ-JavaScript-æ˜¯å•çº¿ç¨‹" class="headerlink" title="ä¸ºä»€ä¹ˆ JavaScript æ˜¯å•çº¿ç¨‹"></a>ä¸ºä»€ä¹ˆ JavaScript æ˜¯å•çº¿ç¨‹</h3><p>JavaScriptè¯­è¨€çš„ä¸€å¤§ç‰¹ç‚¹å°±æ˜¯å•çº¿ç¨‹ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒåŒä¸€ä¸ªæ—¶é—´åªèƒ½åšä¸€ä»¶äº‹ã€‚é‚£ä¹ˆï¼Œä¸ºä»€ä¹ˆJavaScriptä¸èƒ½æœ‰å¤šä¸ªçº¿ç¨‹å‘¢ï¼Ÿè¿™æ ·èƒ½æé«˜æ•ˆç‡å•Šã€‚<br>JavaScriptçš„å•çº¿ç¨‹ï¼Œä¸å®ƒçš„ç”¨é€”æœ‰å…³ã€‚ä½œä¸ºæµè§ˆå™¨è„šæœ¬è¯­è¨€ï¼ŒJavaScriptçš„ä¸»è¦ç”¨é€”æ˜¯ä¸ç”¨æˆ·äº’åŠ¨ï¼Œä»¥åŠæ“ä½œDOMã€‚è¿™å†³å®šäº†å®ƒåªèƒ½æ˜¯å•çº¿ç¨‹ï¼Œå¦åˆ™ä¼šå¸¦æ¥å¾ˆå¤æ‚çš„åŒæ­¥é—®é¢˜ã€‚æ¯”å¦‚ï¼Œå‡å®šJavaScriptåŒæ—¶æœ‰ä¸¤ä¸ªçº¿ç¨‹ï¼Œä¸€ä¸ªçº¿ç¨‹åœ¨æŸä¸ªDOMèŠ‚ç‚¹ä¸Šæ·»åŠ å†…å®¹ï¼Œå¦ä¸€ä¸ªçº¿ç¨‹åˆ é™¤äº†è¿™ä¸ªèŠ‚ç‚¹ï¼Œè¿™æ—¶æµè§ˆå™¨åº”è¯¥ä»¥å“ªä¸ªçº¿ç¨‹ä¸ºå‡†ï¼Ÿ<br>æ‰€ä»¥ï¼Œä¸ºäº†é¿å…å¤æ‚æ€§ï¼Œä»ä¸€è¯ç”Ÿï¼ŒJavaScriptå°±æ˜¯å•çº¿ç¨‹ï¼Œè¿™å·²ç»æˆäº†è¿™é—¨è¯­è¨€çš„æ ¸å¿ƒç‰¹å¾ï¼Œå°†æ¥ä¹Ÿä¸ä¼šæ”¹å˜ã€‚ä¸ºäº†åˆ©ç”¨å¤šæ ¸CPUçš„è®¡ç®—èƒ½åŠ›ï¼ŒHTML5æå‡ºWeb Workeræ ‡å‡†ï¼Œå…è®¸JavaScriptè„šæœ¬åˆ›å»ºå¤šä¸ªçº¿ç¨‹ï¼Œä½†æ˜¯å­çº¿ç¨‹å®Œå…¨å—ä¸»çº¿ç¨‹æ§åˆ¶ï¼Œä¸”ä¸å¾—æ“ä½œDOMã€‚æ‰€ä»¥ï¼Œè¿™ä¸ªæ–°æ ‡å‡†å¹¶æ²¡æœ‰æ”¹å˜JavaScriptå•çº¿ç¨‹çš„æœ¬è´¨ã€‚</p>
<h3 id="ä»»åŠ¡é˜Ÿåˆ—"><a href="#ä»»åŠ¡é˜Ÿåˆ—" class="headerlink" title="ä»»åŠ¡é˜Ÿåˆ—"></a>ä»»åŠ¡é˜Ÿåˆ—</h3><p>å•çº¿ç¨‹å°±æ„å‘³ç€ï¼Œæ‰€æœ‰ä»»åŠ¡éœ€è¦æ’é˜Ÿï¼Œå‰ä¸€ä¸ªä»»åŠ¡ç»“æŸï¼Œæ‰ä¼šæ‰§è¡Œåä¸€ä¸ªä»»åŠ¡ã€‚å¦‚æœå‰ä¸€ä¸ªä»»åŠ¡è€—æ—¶å¾ˆé•¿ï¼Œåä¸€ä¸ªä»»åŠ¡å°±ä¸å¾—ä¸ä¸€ç›´ç­‰ç€ã€‚<br>æ‰€æœ‰ä»»åŠ¡å¯ä»¥åˆ†æˆä¸¤ç§ï¼Œä¸€ç§æ˜¯åŒæ­¥ä»»åŠ¡ï¼ˆsynchronousï¼‰ï¼Œå¦ä¸€ç§æ˜¯å¼‚æ­¥ä»»åŠ¡ï¼ˆasynchronousï¼‰ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ï¼ˆ1ï¼‰æ‰€æœ‰åŒæ­¥ä»»åŠ¡éƒ½åœ¨ä¸»çº¿ç¨‹ä¸Šæ‰§è¡Œï¼Œå½¢æˆä¸€ä¸ªæ‰§è¡Œæ ˆï¼ˆexecution context stackï¼‰ã€‚</span><br><span class="line">ï¼ˆ2ï¼‰ä¸»çº¿ç¨‹ä¹‹å¤–ï¼Œè¿˜å­˜åœ¨ä¸€ä¸ª&quot;ä»»åŠ¡é˜Ÿåˆ—&quot;ï¼ˆtask queueï¼‰ã€‚åªè¦å¼‚æ­¥ä»»åŠ¡æœ‰äº†è¿è¡Œç»“æœï¼Œå°±åœ¨&quot;ä»»åŠ¡é˜Ÿåˆ—&quot;ä¹‹ä¸­æ”¾ç½®ä¸€ä¸ªäº‹ä»¶ã€‚</span><br><span class="line">ï¼ˆ3ï¼‰ä¸€æ—¦&quot;æ‰§è¡Œæ ˆ&quot;ä¸­çš„æ‰€æœ‰åŒæ­¥ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼Œç³»ç»Ÿå°±ä¼šè¯»å–&quot;ä»»åŠ¡é˜Ÿåˆ—&quot;ï¼Œçœ‹çœ‹é‡Œé¢æœ‰å“ªäº›äº‹ä»¶ã€‚é‚£äº›å¯¹åº”çš„å¼‚æ­¥ä»»åŠ¡ï¼Œäºæ˜¯ç»“æŸç­‰å¾…çŠ¶æ€ï¼Œè¿›å…¥æ‰§è¡Œæ ˆï¼Œå¼€å§‹æ‰§è¡Œã€‚</span><br><span class="line">ï¼ˆ4ï¼‰ä¸»çº¿ç¨‹ä¸æ–­é‡å¤ä¸Šé¢çš„ç¬¬ä¸‰æ­¥ã€‚</span><br></pre></td></tr></table></figure>
<h3 id="å®ä»»åŠ¡-amp-å¾®ä»»åŠ¡"><a href="#å®ä»»åŠ¡-amp-å¾®ä»»åŠ¡" class="headerlink" title="å®ä»»åŠ¡ &amp; å¾®ä»»åŠ¡"></a>å®ä»»åŠ¡ &amp; å¾®ä»»åŠ¡</h3><ul>
<li>å®ä»»åŠ¡ï¼ˆmacro-taskï¼‰ï¼š æ•´ä½“ä»£ç scriptã€setTimeOutã€setInterval</li>
<li>å¾®ä»»åŠ¡ï¼ˆmincro-taskï¼‰ï¼špromise.thenã€promise.nextTickï¼ˆnodeï¼‰ã€async/awaitã€MutationObserver</li>
</ul>
]]></content>
      <tags>
        <tag>https</tag>
      </tags>
  </entry>
  <entry>
    <title>less</title>
    <url>/2020/05/25/2020/5%E6%9C%88/0525/</url>
    <content><![CDATA[<h3 id="å¦‚ä½•ä½¿ç”¨"><a href="#å¦‚ä½•ä½¿ç”¨" class="headerlink" title="å¦‚ä½•ä½¿ç”¨"></a>å¦‚ä½•ä½¿ç”¨</h3><p>ä½¿ç”¨lessæœ‰ä¸¤ç§æ–¹å¼ï¼š</p>
<ol>
<li>åœ¨é¡µé¢ä¸­å¼•å…¥ less.js</li>
</ol>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"//cdnjs.cloudflare.com/ajax/libs/less.js/2.7.2/less.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ol start="2">
<li>npm å®‰è£…</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm install less -g</span><br></pre></td></tr></table></figure>
<p>å…·ä½“ä½¿ç”¨å‘½ä»¤ &gt; styles.css</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">lessc styles.less</span><br></pre></td></tr></table></figure>
<h4 id="å˜é‡"><a href="#å˜é‡" class="headerlink" title="å˜é‡"></a>å˜é‡</h4><ol>
<li>å€¼å˜é‡</li>
</ol>
<figure class="highlight less"><table><tr><td class="code"><pre><span class="line"><span class="variable">@color:</span> <span class="number">#000</span>;</span><br><span class="line"><span class="selector-id">#wrap</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="variable">@color</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>é€‰æ‹©å™¨å˜é‡</li>
</ol>
<figure class="highlight less"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å˜é‡å å¿…é¡»ä½¿ç”¨å¤§æ‹¬å·åŒ…è£¹</span></span><br><span class="line"><span class="variable">@mySelector:</span> #wrap;</span><br><span class="line"><span class="variable">@Wrap:</span> wrap;</span><br><span class="line"><span class="variable">@&#123;mySelector&#125;</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.@&#123;Wrap&#125;</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#@&#123;Wrap&#125;</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="3">
<li>å±æ€§å˜é‡</li>
</ol>
<figure class="highlight less"><table><tr><td class="code"><pre><span class="line"><span class="variable">@borderStyle:</span> border-style;</span><br><span class="line"><span class="variable">@Soild:</span> solid;</span><br><span class="line"><span class="selector-id">#wrap</span>&#123;</span><br><span class="line">  <span class="attribute">@&#123;borderStyle&#125;</span>: <span class="variable">@Soild</span>;<span class="comment">//å˜é‡å å¿…é¡»ä½¿ç”¨å¤§æ‹¬å·åŒ…è£¹</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* ç”Ÿæˆçš„ CSS */</span></span><br><span class="line"><span class="selector-id">#wrap</span>&#123;</span><br><span class="line">  <span class="attribute">border-style</span>: solid;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="4">
<li>url å˜é‡</li>
</ol>
<figure class="highlight less"><table><tr><td class="code"><pre><span class="line"><span class="variable">@images:</span> <span class="string">"../img"</span>;<span class="comment">//éœ€è¦åŠ å¼•å·</span></span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: url(<span class="string">"@&#123;images&#125;/dog.png"</span>);<span class="comment">//å˜é‡å å¿…é¡»ä½¿ç”¨å¤§æ‹¬å·åŒ…è£¹</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* ç”Ÿæˆçš„ CSS */</span></span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: url(<span class="string">"../img/dog.png"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>less</tag>
      </tags>
  </entry>
  <entry>
    <title></title>
    <url>/2020/07/06/2020/7%E6%9C%88/1/</url>
    <content><![CDATA[function quickSort(arr) {
  if (arr.length <= 1)="" return="" arr;="" const="" index="Math.floor(arr.length" 2);="" å¦‚æœæ­¤å¤„ä½¿ç”¨="" midval="arr[index];" é‚£ä¹ˆå°†ä¼šå‡ºç°æ— é™é€’å½’çš„é”™è¯¯ï¼›="" 1);="" left="[];" right="[];" for="" (let="" i="0;" <="" arr.length;="" i++)="" {="" if="" (arr[i]="" midval)="" left.push(arr[i]);="" }="" else="" right.push(arr[i]);="" quicksort(left).concat(midval,="" quicksort(right));="" var="" test1="quickSort([2,1,3,4,1,2,5,2,7,2,10,21,8,9]);" console.log(test1);="" function="" b(arr)="" j="i" +="" 1;="" j++)=""> arr[j]) {
        [arr[i], arr[j]] = [arr[j], arr[i]];
      }
    }
  }

  return arr;
}


function curry(fn, args = []) {
  return function result() {
    const rest = [...args, ...arguments];
    if (rest.length < fn.length) {
      return curry.call(this, fn, rest);
    } else {
      return fn.apply(this, rest);
    }
  }
}



document.getElementById('btn').onclick = function () {
  Print('#wrap', {
    onStart: function () {
      console.log('onStart', new Date())
    },
    onEnd: function () {
      console.log('onEnd', new Date())
    }
  })
}

</=>]]></content>
  </entry>
  <entry>
    <title>URIã€URLã€URN</title>
    <url>/2020/07/08/2020/7%E6%9C%88/URI/</url>
    <content><![CDATA[<h3 id="URI"><a href="#URI" class="headerlink" title="URI"></a>URI</h3><p>Uniform Resource Identifier/ç»Ÿä¸€èµ„æºæ ‡å¿—ç¬¦</p>
<p>ç”¨æ¥å”¯ä¸€æ ‡è¯†äº’è”ç½‘ä¸Šçš„ä¿¡æ¯èµ„æº</p>
<p>åŒ…æ‹¬ URL å’Œ URN</p>
<h3 id="URL"><a href="#URL" class="headerlink" title="URL"></a>URL</h3><p>Uniform Resource Locator/ç»Ÿä¸€èµ„æºå®šä½å™¨</p>
<h3 id="URN"><a href="#URN" class="headerlink" title="URN"></a>URN</h3><p>æ°¸ä¹…ç»Ÿä¸€èµ„æºå®šä½ç¬¦</p>
<p>åœ¨èµ„æºç§»åŠ¨ä¹‹åè¿˜èƒ½è¢«æ‰¾åˆ°</p>
<p>ç›®å‰è¿˜æ²¡æœ‰éå¸¸æˆç†Ÿçš„ä½¿ç”¨æ–¹æ¡ˆ</p>
]]></content>
      <tags>
        <tag>httpåŸºç¡€</tag>
      </tags>
  </entry>
  <entry>
    <title>curl</title>
    <url>/2020/07/08/2020/7%E6%9C%88/curl/</url>
    <content><![CDATA[<p>curl æ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·ï¼Œç”¨æ¥è¯·æ±‚ web æœåŠ¡å™¨ã€‚å®ƒçš„åå­—å°±æ˜¯å®¢æˆ·ç«¯ï¼ˆclientï¼‰çš„ URL å·¥å…·çš„æ„æ€ã€‚</p>
<p>ä¸å¸¦æœ‰ä»»ä½•å‚æ•°æ—¶ï¼Œcurl å°±æ˜¯å‘å‡º get è¯·æ±‚ã€‚</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">curl www.baidu.com</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢çš„å‘½ä»¤å‘ <a href="http://www.baidu.com" target="_blank" rel="noopener">www.baidu.com</a> å‘å‡º get è¯·æ±‚ï¼ŒæœåŠ¡å™¨è¿”å›çš„å†…å®¹ä¼šåœ¨å‘½ä»¤è¡Œè¾“å‡ºã€‚</p>
<h5 id="b"><a href="#b" class="headerlink" title="-b"></a>-b</h5><p>-b å‚æ•°ç”¨æ¥å‘æœåŠ¡å™¨å‘é€ cookie</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">curl -b 'foo=bar' www.baidu.com</span><br></pre></td></tr></table></figure>
<h5 id="c"><a href="#c" class="headerlink" title="-c"></a>-c</h5><p>-c å‚æ•°å°†æœåŠ¡å™¨è®¾ç½®çš„ cookie å†™å…¥ä¸€ä¸ªæ–‡ä»¶</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">curl -c cookies.txt www.baidu.com</span><br></pre></td></tr></table></figure>
<h5 id="d"><a href="#d" class="headerlink" title="-d"></a>-d</h5><p>-d å‚æ•°ç”¨æ¥å‘é€ post è¯·æ±‚</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">curl -d 'login=emma&amp;password=123' -X POST www.baidu.com</span><br><span class="line"><span class="meta">#</span><span class="bash"> æˆ–è€…</span></span><br><span class="line">curl -d 'login=emma' -d 'password=123' -X POST www.baidu.com</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨ -d å‚æ•°ä»¥åï¼Œ HTTP è¯·æ±‚ä¼šè‡ªåŠ¨åŠ ä¸Šè¡¨å¤´ Content-Type: application/x-www-form-urlencodedã€‚å¹¶ä¸”<br>ä¼šè‡ªåŠ¨å°†è¯·æ±‚è½¬ä¸º POST æ–¹æ³•ï¼Œå› æ­¤å¯ä»¥çœç•¥ -X POSTã€‚</p>
<p>-d å‚æ•°ä¹Ÿå¯ä»¥è¯»å–æœ¬åœ°æ–‡æœ¬æ–‡ä»¶çš„æ•°æ®ï¼Œå‘æœåŠ¡å™¨å‘é€ã€‚</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">curl -d '@data.txt' www.baidu.com</span><br></pre></td></tr></table></figure>
<h5 id="v"><a href="#v" class="headerlink" title="-v"></a>-v</h5><p>-v å‚æ•°è¾“å‡ºé€šä¿¡çš„æ•´ä¸ªè¿‡ç¨‹ï¼Œç”¨äºè°ƒè¯•ã€‚</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">curl -v www.baidu.com</span><br></pre></td></tr></table></figure>
<p>â€“ trace å‚æ•°ä¹Ÿå¯ä»¥ç”¨äºè°ƒè¯•ï¼Œè¿˜ä¼šè¾“å‡ºåŸå§‹çš„äºŒè¿›åˆ¶æ•°æ®ã€‚</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">curl --trace - www.baidu.com</span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>httpåŸºç¡€</tag>
      </tags>
  </entry>
  <entry>
    <title>æ€»ç»“</title>
    <url>/2020/03/17/2020/3%E6%9C%88/0317-01/</url>
    <content><![CDATA[<h2 id="å¦‚ä½•å®ç°ä¸€ä¸ªbabelæ’ä»¶"><a href="#å¦‚ä½•å®ç°ä¸€ä¸ªbabelæ’ä»¶" class="headerlink" title="å¦‚ä½•å®ç°ä¸€ä¸ªbabelæ’ä»¶"></a>å¦‚ä½•å®ç°ä¸€ä¸ªbabelæ’ä»¶</h2><p>Babel æ˜¯ JavaScript ç¼–è¯‘å™¨ï¼Œæ›´ç¡®åˆ‡åœ°è¯´æ˜¯æºç åˆ°æºç çš„ç¼–è¯‘å™¨ï¼Œé€šå¸¸ä¹Ÿå«åšâ€œè½¬æ¢ç¼–è¯‘å™¨ï¼ˆtranspilerï¼‰â€ã€‚ æ„æ€æ˜¯è¯´ä½ ä¸º Babel æä¾›ä¸€äº› JavaScript ä»£ç ï¼ŒBabel æ›´æ”¹è¿™äº›ä»£ç ï¼Œç„¶åè¿”å›ç»™ä½ æ–°ç”Ÿæˆçš„ä»£ç ã€‚</p>
<h4 id="æŠ½è±¡è¯­æ³•æ ‘ï¼ˆASTï¼‰"><a href="#æŠ½è±¡è¯­æ³•æ ‘ï¼ˆASTï¼‰" class="headerlink" title="æŠ½è±¡è¯­æ³•æ ‘ï¼ˆASTï¼‰"></a>æŠ½è±¡è¯­æ³•æ ‘ï¼ˆASTï¼‰</h4><h4 id="Babel-çš„å¤„ç†æ­¥éª¤"><a href="#Babel-çš„å¤„ç†æ­¥éª¤" class="headerlink" title="Babel çš„å¤„ç†æ­¥éª¤"></a>Babel çš„å¤„ç†æ­¥éª¤</h4><p>Babel çš„ä¸‰ä¸ªä¸»è¦å¤„ç†æ­¥éª¤åˆ†åˆ«æ˜¯ï¼š è§£æï¼ˆparseï¼‰ï¼Œè½¬æ¢ï¼ˆtransformï¼‰ï¼Œç”Ÿæˆï¼ˆgenerateï¼‰ã€‚</p>
<hr>
<h2 id="å¦‚ä½•å®ç°ä¸€ä¸ªwebpack-loader"><a href="#å¦‚ä½•å®ç°ä¸€ä¸ªwebpack-loader" class="headerlink" title="å¦‚ä½•å®ç°ä¸€ä¸ªwebpack-loader"></a>å¦‚ä½•å®ç°ä¸€ä¸ªwebpack-loader</h2><hr>
<h2 id="å¦‚ä½•å®ç°ä¸€ä¸ªwebpack-plugins"><a href="#å¦‚ä½•å®ç°ä¸€ä¸ªwebpack-plugins" class="headerlink" title="å¦‚ä½•å®ç°ä¸€ä¸ªwebpack-plugins"></a>å¦‚ä½•å®ç°ä¸€ä¸ªwebpack-plugins</h2><hr>
<h2 id="å¦‚ä½•å®ç°ä¸€ä¸ªpromise"><a href="#å¦‚ä½•å®ç°ä¸€ä¸ªpromise" class="headerlink" title="å¦‚ä½•å®ç°ä¸€ä¸ªpromise"></a>å¦‚ä½•å®ç°ä¸€ä¸ªpromise</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> PENDING = <span class="string">'PENDING'</span>;</span><br><span class="line"><span class="keyword">const</span> RESOLVED = <span class="string">'RESOLVED'</span>;</span><br><span class="line"><span class="keyword">const</span> REJECTED = <span class="string">'REJECTED'</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">MyPromise</span>(<span class="params">fn</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> that = <span class="keyword">this</span>;</span><br><span class="line">  </span><br><span class="line">  that.value = <span class="literal">null</span>;</span><br><span class="line">  that.state = PENDING;</span><br><span class="line"></span><br><span class="line">  that.resolvedCallbacks = [];</span><br><span class="line">  that.rejectedCallbacks = [];</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">resolve</span>(<span class="params">value</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (value <span class="keyword">instanceof</span> MyPromise) &#123;</span><br><span class="line">      <span class="keyword">return</span> value.then(resolve, reject);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (that.state === PENDING) &#123;</span><br><span class="line">      that.state = RESOLVED;</span><br><span class="line">      that.value = value;</span><br><span class="line">      that.resolvedCallbacks.map(<span class="function"><span class="params">cb</span> =&gt;</span> cb(that.value));</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">reject</span>(<span class="params">value</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (that.state === PENDING) &#123;</span><br><span class="line">      that.state = REJECTED;</span><br><span class="line">      that.value = value;</span><br><span class="line">      that.rejectedCallbacks.map(<span class="function"><span class="params">cb</span> =&gt;</span> cb(that.value));</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    fn(resolve, reject);</span><br><span class="line">  &#125; <span class="keyword">catch</span>(e) &#123;</span><br><span class="line">    reject(e);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">MyPromise.prototype.then = <span class="function"><span class="keyword">function</span>(<span class="params">onFulfilled, onRejected</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> that = <span class="keyword">this</span>;</span><br><span class="line">  onFulfilled = <span class="keyword">typeof</span> onFulfilled === <span class="string">'function'</span> ? onFulfilled : <span class="function"><span class="params">v</span> =&gt;</span> v;</span><br><span class="line">  onRejected = <span class="keyword">typeof</span> onRejected === <span class="string">'function'</span> ? onRejected : <span class="function"><span class="params">r</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">throw</span> r</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (that.state === PENDING) &#123;</span><br><span class="line">    that.resolvedCallbacks.push(onFulfilled);</span><br><span class="line">    that.rejectedCallbacks.push(onRejected);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (that.state === RESOLVED) &#123;</span><br><span class="line">    onFulfilled(that.value);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (that.state === REJECTED) &#123;</span><br><span class="line">    onRejected(that.value);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> that;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> MyPromise(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    resolve(<span class="number">111</span>);</span><br><span class="line">  &#125;, <span class="number">0</span>);</span><br><span class="line">&#125;).then(<span class="function"><span class="params">value</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(value);</span><br><span class="line">&#125;).then(<span class="function"><span class="params">value</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(value);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h2 id="nodeè°ƒè¯•ï¼Œé”™è¯¯ç›‘æ§"><a href="#nodeè°ƒè¯•ï¼Œé”™è¯¯ç›‘æ§" class="headerlink" title="nodeè°ƒè¯•ï¼Œé”™è¯¯ç›‘æ§"></a>nodeè°ƒè¯•ï¼Œé”™è¯¯ç›‘æ§</h2><hr>
<h2 id="httpå’ŒhttpsåŒºåˆ«"><a href="#httpå’ŒhttpsåŒºåˆ«" class="headerlink" title="httpå’ŒhttpsåŒºåˆ«"></a>httpå’ŒhttpsåŒºåˆ«</h2><p>httpså°±æ˜¯httpå’ŒTCPä¹‹é—´æœ‰ä¸€å±‚SSLå±‚ï¼Œè¿™ä¸€å±‚çš„å®é™…ä½œç”¨æ˜¯é˜²æ­¢é’“é±¼å’ŒåŠ å¯†ã€‚é˜²æ­¢é’“é±¼é€šè¿‡ç½‘ç«™çš„è¯ä¹¦ï¼Œç½‘ç«™å¿…é¡»æœ‰CAè¯ä¹¦ï¼Œè¯ä¹¦ç±»ä¼¼äºä¸€ä¸ªè§£å¯†çš„ç­¾åã€‚å¦å¤–æ˜¯åŠ å¯†ï¼ŒåŠ å¯†éœ€è¦ä¸€ä¸ªå¯†é’¥äº¤æ¢ç®—æ³•ï¼ŒåŒæ–¹é€šè¿‡äº¤æ¢åçš„å¯†é’¥åŠ è§£å¯†ã€‚</p>
<ul>
<li>httpsåè®®éœ€è¦åˆ°caç”³è¯·è¯ä¹¦ï¼Œä¸€èˆ¬å…è´¹è¯ä¹¦å¾ˆå°‘ï¼Œéœ€è¦äº¤è´¹ã€‚</li>
<li>httpæ˜¯è¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼Œä¿¡æ¯æ˜¯æ˜æ–‡ä¼ è¾“ï¼Œhttps åˆ™æ˜¯å…·æœ‰å®‰å…¨æ€§çš„sslåŠ å¯†ä¼ è¾“åè®®ã€‚</li>
<li>httpå’Œhttpsä½¿ç”¨çš„æ˜¯å®Œå…¨ä¸åŒçš„è¿æ¥æ–¹å¼ç”¨çš„ç«¯å£ä¹Ÿä¸ä¸€æ ·ï¼Œå‰è€…æ˜¯80ï¼Œåè€…æ˜¯443ã€‚</li>
<li>httpçš„è¿æ¥å¾ˆç®€å•ï¼Œæ˜¯æ— çŠ¶æ€çš„ã€‚</li>
<li>HTTPSåè®®æ˜¯ç”±SSL+HTTPåè®®æ„å»ºçš„å¯è¿›è¡ŒåŠ å¯†ä¼ è¾“ã€èº«ä»½è®¤è¯çš„ç½‘ç»œåè®®ï¼Œè¦æ¯”httpåè®®å®‰å…¨ã€‚</li>
<li>ç™¾åº¦å’Œè°·æ­Œä¸¤å¤§æœç´¢å¼•æ“éƒ½å·²ç»æ˜ç¡®è¡¨ç¤ºï¼ŒHTTPSç½‘ç«™å°†ä¼šä½œä¸ºæœç´¢æ’åçš„ä¸€ä¸ªé‡è¦æƒé‡æŒ‡æ ‡ã€‚ä¹Ÿå°±æ˜¯è¯´HTTPSç½‘ç«™æ¯”èµ·HTTPç½‘ç«™åœ¨æœç´¢æ’åä¸­æ›´æœ‰ä¼˜åŠ¿ã€‚</li>
</ul>
<hr>
<h2 id="reactï¼Œvueç”Ÿå‘½å‘¨æœŸ"><a href="#reactï¼Œvueç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="reactï¼Œvueç”Ÿå‘½å‘¨æœŸ"></a>reactï¼Œvueç”Ÿå‘½å‘¨æœŸ</h2><h4 id="vue"><a href="#vue" class="headerlink" title="vue"></a>vue</h4><ul>
<li>brforeCreate</li>
<li>create</li>
<li>beforeMountd</li>
<li>mounted</li>
<li>beforeUpdate</li>
<li>updated</li>
<li>activated</li>
<li>deactivated</li>
<li>beforeDestroy</li>
<li>destroy</li>
<li>errorCaptured</li>
</ul>
<h4 id="react"><a href="#react" class="headerlink" title="react"></a>react</h4><p>calssç¼–ç¨‹ç”Ÿå‘½å‘¨æœŸ</p>
<h5 id="åˆå§‹é˜¶æ®µ"><a href="#åˆå§‹é˜¶æ®µ" class="headerlink" title="åˆå§‹é˜¶æ®µ"></a>åˆå§‹é˜¶æ®µ</h5><ul>
<li>constructor</li>
</ul>
<h5 id="æŒ‚è½½é˜¶æ®µ"><a href="#æŒ‚è½½é˜¶æ®µ" class="headerlink" title="æŒ‚è½½é˜¶æ®µ"></a>æŒ‚è½½é˜¶æ®µ</h5><ul>
<li>componentWillMount</li>
<li>render</li>
<li>componentDidMount</li>
</ul>
<h5 id="æ›´æ–°é˜¶æ®µ"><a href="#æ›´æ–°é˜¶æ®µ" class="headerlink" title="æ›´æ–°é˜¶æ®µ"></a>æ›´æ–°é˜¶æ®µ</h5><ul>
<li>componentWillReceiveProps</li>
<li>shouldComponentUpdate</li>
<li>componentWillUpdate</li>
<li>render</li>
<li>componentDidUpdate</li>
</ul>
<h5 id="å¸è½½é˜¶æ®µ"><a href="#å¸è½½é˜¶æ®µ" class="headerlink" title="å¸è½½é˜¶æ®µ"></a>å¸è½½é˜¶æ®µ</h5><ul>
<li>componentWillUnmount</li>
</ul>
<p>åˆ°äº†React v16.3ï¼Œå¤§æ”¹åŠ¨æ¥äº†ï¼Œå¼•å…¥äº†ä¸¤ä¸ªæ–°çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼š getDerivedStateFromPropsï¼ŒgetSnapshotBeforeUpdate</p>
<p>static getDerivedStateFromProps(props, state) åœ¨ç»„ä»¶åˆ›å»ºæ—¶å’Œæ›´æ–°æ—¶çš„renderæ–¹æ³•ä¹‹å‰è°ƒç”¨ï¼Œå®ƒåº”è¯¥è¿”å›ä¸€ä¸ªå¯¹è±¡æ¥æ›´æ–°çŠ¶æ€ï¼Œæˆ–è€…è¿”å›nullæ¥ä¸æ›´æ–°ä»»ä½•å†…å®¹ã€‚</p>
<p>getSnapshotBeforeUpdate() è¢«è°ƒç”¨äºrenderä¹‹åï¼Œå¯ä»¥è¯»å–ä½†æ— æ³•ä½¿ç”¨DOMçš„æ—¶å€™ã€‚å®ƒä½¿æ‚¨çš„ç»„ä»¶å¯ä»¥åœ¨å¯èƒ½æ›´æ”¹ä¹‹å‰ä»DOMæ•è·ä¸€äº›ä¿¡æ¯ï¼ˆä¾‹å¦‚æ»šåŠ¨ä½ç½®ï¼‰ã€‚æ­¤ç”Ÿå‘½å‘¨æœŸè¿”å›çš„ä»»ä½•å€¼éƒ½å°†ä½œä¸ºå‚æ•°ä¼ é€’ç»™componentDidUpdateï¼ˆï¼‰ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ScrollingList</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(props) &#123;</span><br><span class="line">    <span class="keyword">super</span>(props);</span><br><span class="line">    <span class="keyword">this</span>.listRef = React.createRef();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  getSnapshotBeforeUpdate(prevProps, prevState) &#123;</span><br><span class="line">    <span class="comment">//æˆ‘ä»¬æ˜¯å¦è¦æ·»åŠ æ–°çš„ items åˆ°åˆ—è¡¨?</span></span><br><span class="line">    <span class="comment">// æ•æ‰æ»šåŠ¨ä½ç½®ï¼Œä»¥ä¾¿æˆ‘ä»¬å¯ä»¥ç¨åè°ƒæ•´æ»šåŠ¨.</span></span><br><span class="line">    <span class="keyword">if</span> (prevProps.list.length &lt; <span class="keyword">this</span>.props.list.length) &#123;</span><br><span class="line">      <span class="keyword">const</span> list = <span class="keyword">this</span>.listRef.current;</span><br><span class="line">      <span class="keyword">return</span> list.scrollHeight - list.scrollTop;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  componentDidUpdate(prevProps, prevState, snapshot) &#123;</span><br><span class="line">    <span class="comment">//å¦‚æœæˆ‘ä»¬æœ‰snapshotå€¼, æˆ‘ä»¬å·²ç»æ·»åŠ äº† æ–°çš„items.</span></span><br><span class="line">    <span class="comment">// è°ƒæ•´æ»šåŠ¨ä»¥è‡³äºè¿™äº›æ–°çš„items ä¸ä¼šå°†æ—§itemsæ¨å‡ºè§†å›¾ã€‚</span></span><br><span class="line">    <span class="comment">// (è¿™è¾¹çš„snapshotæ˜¯ getSnapshotBeforeUpdateæ–¹æ³•çš„è¿”å›å€¼)</span></span><br><span class="line">    <span class="keyword">if</span> (snapshot !== <span class="literal">null</span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> list = <span class="keyword">this</span>.listRef.current;</span><br><span class="line">      list.scrollTop = list.scrollHeight - snapshot;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div ref=&#123;<span class="keyword">this</span>.listRef&#125;&gt;&#123;<span class="comment">/* ...contents... */</span>&#125;&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">    );</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure>
<hr>
<h2 id="reduxå’Œrematch"><a href="#reduxå’Œrematch" class="headerlink" title="reduxå’Œrematch"></a>reduxå’Œrematch</h2><hr>
<h2 id="webpackæ€§èƒ½ä¼˜åŒ–"><a href="#webpackæ€§èƒ½ä¼˜åŒ–" class="headerlink" title="webpackæ€§èƒ½ä¼˜åŒ–"></a>webpackæ€§èƒ½ä¼˜åŒ–</h2><h6 id="å‡å°‘webpackæ‰“åŒ…æ—¶é—´"><a href="#å‡å°‘webpackæ‰“åŒ…æ—¶é—´" class="headerlink" title="å‡å°‘webpackæ‰“åŒ…æ—¶é—´"></a>å‡å°‘webpackæ‰“åŒ…æ—¶é—´</h6><ul>
<li>ä¼˜åŒ– Loader</li>
</ul>
<p>å¯¹äº Loader æ¥è¯´ï¼Œå½±å“æ‰“åŒ…æ•ˆç‡é¦–å½“å…¶å†²å¿…å± Babel äº†ã€‚å› ä¸º Babel ä¼šå°†ä»£ç è½¬ä¸ºå­—ç¬¦ä¸²ç”Ÿæˆ ASTï¼Œç„¶åå¯¹ AST ç»§ç»­è¿›è¡Œè½¬å˜æœ€åå†ç”Ÿæˆæ–°çš„ä»£ç ï¼Œé¡¹ç›®è¶Šå¤§ï¼Œè½¬æ¢ä»£ç è¶Šå¤šï¼Œæ•ˆç‡å°±è¶Šä½ã€‚å½“ç„¶äº†ï¼Œæˆ‘ä»¬æ˜¯æœ‰åŠæ³•ä¼˜åŒ–çš„ã€‚</p>
<p>é¦–å…ˆæˆ‘ä»¬å¯ä»¥ä¼˜åŒ– Loader çš„æ–‡ä»¶æœç´¢èŒƒå›´</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="comment">// js æ–‡ä»¶æ‰ä½¿ç”¨ babel</span></span><br><span class="line">        test: <span class="regexp">/\.js$/</span>,</span><br><span class="line">        loader: <span class="string">'babel-loader'</span>,</span><br><span class="line">        <span class="comment">// åªåœ¨ src æ–‡ä»¶å¤¹ä¸‹æŸ¥æ‰¾</span></span><br><span class="line">        include: [resolve(<span class="string">'src'</span>)],</span><br><span class="line">        <span class="comment">// ä¸ä¼šå»æŸ¥æ‰¾çš„è·¯å¾„</span></span><br><span class="line">        exclude: <span class="regexp">/node_modules/</span></span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¯¹äº Babel æ¥è¯´ï¼Œæˆ‘ä»¬è‚¯å®šæ˜¯å¸Œæœ›åªä½œç”¨åœ¨ JS ä»£ç ä¸Šçš„ï¼Œç„¶å node_modules ä¸­ä½¿ç”¨çš„ä»£ç éƒ½æ˜¯ç¼–è¯‘è¿‡çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¹Ÿå®Œå…¨æ²¡æœ‰å¿…è¦å†å»å¤„ç†ä¸€éã€‚</p>
<p>å½“ç„¶è¿™æ ·åšè¿˜ä¸å¤Ÿï¼Œæˆ‘ä»¬è¿˜å¯ä»¥å°† Babel ç¼–è¯‘è¿‡çš„æ–‡ä»¶ç¼“å­˜èµ·æ¥ï¼Œä¸‹æ¬¡åªéœ€è¦ç¼–è¯‘æ›´æ”¹è¿‡çš„ä»£ç æ–‡ä»¶å³å¯ï¼Œè¿™æ ·å¯ä»¥å¤§å¹…åº¦åŠ å¿«æ‰“åŒ…æ—¶é—´</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">loader: <span class="string">'babel-loader?cacheDirectory=true'</span></span><br></pre></td></tr></table></figure>
<ul>
<li>HappyPack</li>
</ul>
<p>å—é™äº Node æ˜¯å•çº¿ç¨‹è¿è¡Œçš„ï¼Œæ‰€ä»¥ Webpack åœ¨æ‰“åŒ…çš„è¿‡ç¨‹ä¸­ä¹Ÿæ˜¯å•çº¿ç¨‹çš„ï¼Œç‰¹åˆ«æ˜¯åœ¨æ‰§è¡Œ Loader çš„æ—¶å€™ï¼Œé•¿æ—¶é—´ç¼–è¯‘çš„ä»»åŠ¡å¾ˆå¤šï¼Œè¿™æ ·å°±ä¼šå¯¼è‡´ç­‰å¾…çš„æƒ…å†µã€‚<br>HappyPack å¯ä»¥å°† Loader çš„åŒæ­¥æ‰§è¡Œè½¬æ¢ä¸ºå¹¶è¡Œçš„ï¼Œè¿™æ ·å°±èƒ½å……åˆ†åˆ©ç”¨ç³»ç»Ÿèµ„æºæ¥åŠ å¿«æ‰“åŒ…æ•ˆç‡</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">module</span>: &#123;</span><br><span class="line">  loaders: [</span><br><span class="line">    &#123;</span><br><span class="line">      test: <span class="regexp">/\.js$/</span>,</span><br><span class="line">      include: [resolve(<span class="string">'src'</span>)],</span><br><span class="line">      exclude: <span class="regexp">/node_modules/</span>,</span><br><span class="line">      <span class="comment">// id åé¢çš„å†…å®¹å¯¹åº”ä¸‹é¢</span></span><br><span class="line">      loader: <span class="string">'happypack/loader?id=happybabel'</span></span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;,</span><br><span class="line">plugins: [</span><br><span class="line">  <span class="keyword">new</span> HappyPack(&#123;</span><br><span class="line">    id: <span class="string">'happybabel'</span>,</span><br><span class="line">    loaders: [<span class="string">'babel-loader?cacheDirectory'</span>],</span><br><span class="line">    <span class="comment">// å¼€å¯ 4 ä¸ªçº¿ç¨‹</span></span><br><span class="line">    threads: <span class="number">4</span></span><br><span class="line">  &#125;)</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<ul>
<li>DllPlugin</li>
</ul>
<p>DllPlugin å¯ä»¥å°†ç‰¹å®šçš„ç±»åº“æå‰æ‰“åŒ…ç„¶åå¼•å…¥ã€‚è¿™ç§æ–¹å¼å¯ä»¥æå¤§çš„å‡å°‘æ‰“åŒ…ç±»åº“çš„æ¬¡æ•°ï¼Œåªæœ‰å½“ç±»åº“æ›´æ–°ç‰ˆæœ¬æ‰æœ‰éœ€è¦é‡æ–°æ‰“åŒ…ï¼Œå¹¶ä¸”ä¹Ÿå®ç°äº†å°†å…¬å…±ä»£ç æŠ½ç¦»æˆå•ç‹¬æ–‡ä»¶çš„ä¼˜åŒ–æ–¹æ¡ˆã€‚</p>
<h6 id="å‡å°‘webpackæ‰“åŒ…åçš„ä½“ç§¯"><a href="#å‡å°‘webpackæ‰“åŒ…åçš„ä½“ç§¯" class="headerlink" title="å‡å°‘webpackæ‰“åŒ…åçš„ä½“ç§¯"></a>å‡å°‘webpackæ‰“åŒ…åçš„ä½“ç§¯</h6><ul>
<li>æŒ‰éœ€åŠ è½½</li>
</ul>
<p>æƒ³å¿…å¤§å®¶åœ¨å¼€å‘ SPA é¡¹ç›®çš„æ—¶å€™ï¼Œé¡¹ç›®ä¸­éƒ½ä¼šå­˜åœ¨åå‡ ç”šè‡³æ›´å¤šçš„è·¯ç”±é¡µé¢ã€‚å¦‚æœæˆ‘ä»¬å°†è¿™äº›é¡µé¢å…¨éƒ¨æ‰“åŒ…è¿›ä¸€ä¸ª JS æ–‡ä»¶çš„è¯ï¼Œè™½ç„¶å°†å¤šä¸ªè¯·æ±‚åˆå¹¶äº†ï¼Œä½†æ˜¯åŒæ ·ä¹ŸåŠ è½½äº†å¾ˆå¤šå¹¶ä¸éœ€è¦çš„ä»£ç ï¼Œè€—è´¹äº†æ›´é•¿çš„æ—¶é—´ã€‚é‚£ä¹ˆä¸ºäº†é¦–é¡µèƒ½æ›´å¿«åœ°å‘ˆç°ç»™ç”¨æˆ·ï¼Œæˆ‘ä»¬è‚¯å®šæ˜¯å¸Œæœ›é¦–é¡µèƒ½åŠ è½½çš„æ–‡ä»¶ä½“ç§¯è¶Šå°è¶Šå¥½ï¼Œè¿™æ—¶å€™æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨æŒ‰éœ€åŠ è½½ï¼Œå°†æ¯ä¸ªè·¯ç”±é¡µé¢å•ç‹¬æ‰“åŒ…ä¸ºä¸€ä¸ªæ–‡ä»¶ã€‚å½“ç„¶ä¸ä»…ä»…è·¯ç”±å¯ä»¥æŒ‰éœ€åŠ è½½ï¼Œå¯¹äº loadash è¿™ç§å¤§å‹ç±»åº“åŒæ ·å¯ä»¥ä½¿ç”¨è¿™ä¸ªåŠŸèƒ½ã€‚</p>
<hr>
<h2 id="ç›‘æ§"><a href="#ç›‘æ§" class="headerlink" title="ç›‘æ§"></a>ç›‘æ§</h2><p>å‰ç«¯ç›‘æ§ä¸€èˆ¬åˆ†ä¸ºä¸‰ç§ï¼Œåˆ†åˆ«ä¸ºé¡µé¢åŸ‹ç‚¹ã€æ€§èƒ½ç›‘æ§ä»¥åŠå¼‚å¸¸ç›‘æ§ã€‚</p>
<h4 id="é¡µé¢åŸ‹ç‚¹"><a href="#é¡µé¢åŸ‹ç‚¹" class="headerlink" title="é¡µé¢åŸ‹ç‚¹"></a>é¡µé¢åŸ‹ç‚¹</h4><p>é¡µé¢åŸ‹ç‚¹åº”è¯¥æ˜¯å¤§å®¶æœ€å¸¸å†™çš„ç›‘æ§äº†ï¼Œä¸€èˆ¬èµ·ç ä¼šç›‘æ§ä»¥ä¸‹å‡ ä¸ªæ•°æ®ï¼š</p>
<ul>
<li>PV/UV</li>
<li>åœç•™æ—¶é•¿</li>
<li>æµé‡æ¥æº</li>
<li>ç”¨æˆ·äº¤äº’</li>
</ul>
<p>å¯¹äºè¿™å‡ ç±»ç»Ÿè®¡ï¼Œä¸€èˆ¬çš„å®ç°æ€è·¯å¤§è‡´å¯ä»¥åˆ†ä¸ºä¸¤ç§ï¼Œåˆ†åˆ«ä¸ºæ‰‹å†™åŸ‹ç‚¹å’Œæ— åŸ‹ç‚¹çš„æ–¹å¼ã€‚</p>
<p>ç›¸ä¿¡ç¬¬ä¸€ç§æ–¹å¼ä¹Ÿæ˜¯å¤§å®¶æœ€å¸¸ç”¨çš„æ–¹å¼ï¼Œå¯ä»¥è‡ªä¸»é€‰æ‹©éœ€è¦ç›‘æ§çš„æ•°æ®ç„¶ååœ¨ç›¸åº”çš„åœ°æ–¹å†™å…¥ä»£ç ã€‚è¿™ç§æ–¹å¼çš„çµæ´»æ€§å¾ˆå¤§ï¼Œä½†æ˜¯å”¯ä¸€çš„ç¼ºç‚¹å°±æ˜¯å·¥ä½œé‡è¾ƒå¤§ï¼Œæ¯ä¸ªéœ€è¦ç›‘æ§çš„åœ°æ–¹éƒ½å¾—æ’å…¥ä»£ç ã€‚</p>
<p>å¦ä¸€ç§æ— åŸ‹ç‚¹çš„æ–¹å¼åŸºæœ¬ä¸éœ€è¦å¼€å‘è€…æ‰‹å†™åŸ‹ç‚¹äº†ï¼Œè€Œæ˜¯ç»Ÿè®¡æ‰€æœ‰çš„äº‹ä»¶å¹¶ä¸”å®šæ—¶ä¸ŠæŠ¥ã€‚è¿™ç§æ–¹å¼è™½ç„¶æ²¡æœ‰å‰ä¸€ç§æ–¹å¼ç¹çäº†ï¼Œä½†æ˜¯å› ä¸ºç»Ÿè®¡çš„æ˜¯æ‰€æœ‰äº‹ä»¶ï¼Œæ‰€ä»¥è¿˜éœ€è¦åæœŸè¿‡æ»¤å‡ºéœ€è¦çš„æ•°æ®ã€‚</p>
<h4 id="æ€§èƒ½ç›‘æ§"><a href="#æ€§èƒ½ç›‘æ§" class="headerlink" title="æ€§èƒ½ç›‘æ§"></a>æ€§èƒ½ç›‘æ§</h4><p>æ€§èƒ½ç›‘æ§å¯ä»¥å¾ˆå¥½çš„å¸®åŠ©å¼€å‘è€…äº†è§£åœ¨å„ç§çœŸå®ç¯å¢ƒä¸‹ï¼Œé¡µé¢çš„æ€§èƒ½æƒ…å†µæ˜¯å¦‚ä½•çš„ã€‚</p>
<p>å¯¹äºæ€§èƒ½ç›‘æ§æ¥è¯´ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨æµè§ˆå™¨è‡ªå¸¦çš„ <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Performance" target="_blank" rel="noopener">Performance API</a> æ¥å®ç°è¿™ä¸ªåŠŸèƒ½ã€‚</p>
<p>å¯¹äºæ€§èƒ½ç›‘æ§æ¥è¯´ï¼Œå…¶å®æˆ‘ä»¬åªéœ€è¦è°ƒç”¨ performance.getEntriesByType(â€˜navigationâ€™) è¿™è¡Œä»£ç å°±è¡Œäº†ã€‚å¯¹ï¼Œä½ æ²¡çœ‹é”™ï¼Œä¸€è¡Œä»£ç æˆ‘ä»¬å°±å¯ä»¥è·å¾—é¡µé¢ä¸­å„ç§è¯¦ç»†çš„æ€§èƒ½ç›¸å…³ä¿¡æ¯ã€‚</p>
<h4 id="å¼‚å¸¸ç›‘æ§"><a href="#å¼‚å¸¸ç›‘æ§" class="headerlink" title="å¼‚å¸¸ç›‘æ§"></a>å¼‚å¸¸ç›‘æ§</h4><p>å¯¹äºå¼‚å¸¸ç›‘æ§æ¥è¯´ï¼Œä»¥ä¸‹ä¸¤ç§ç›‘æ§æ˜¯å¿…ä¸å¯å°‘çš„ï¼Œåˆ†åˆ«æ˜¯ä»£ç æŠ¥é”™ä»¥åŠæ¥å£å¼‚å¸¸ä¸ŠæŠ¥</p>
<p>å¯¹äºä»£ç è¿è¡Œé”™è¯¯ï¼Œé€šå¸¸çš„åŠæ³•æ˜¯ä½¿ç”¨window.onerroræ‹¦æˆªæŠ¥é”™ã€‚è¯¥æ–¹æ³•èƒ½æ‹¦æˆªåˆ°å¤§éƒ¨åˆ†çš„è¯¦ç»†æŠ¥é”™ä¿¡æ¯ï¼Œä½†æ˜¯ä¹Ÿæœ‰ä¾‹å¤–ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * @param &#123;String&#125;  msg    é”™è¯¯ä¿¡æ¯</span></span><br><span class="line"><span class="comment">  * @param &#123;String&#125;  url    å‡ºé”™æ–‡ä»¶</span></span><br><span class="line"><span class="comment">  * @param &#123;Number&#125;  row    è¡Œå·</span></span><br><span class="line"><span class="comment">  * @param &#123;Number&#125;  col    åˆ—å·</span></span><br><span class="line"><span class="comment">  * @param &#123;Object&#125;  error  é”™è¯¯è¯¦ç»†ä¿¡æ¯</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="built_in">window</span>.onerror = <span class="function"><span class="keyword">function</span> (<span class="params">msg, url, row, col, error</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(&#123;</span><br><span class="line">    msg,  url,  row, col, error</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">true</span>; <span class="comment">// æ³¨æ„ï¼Œåœ¨è¿”å› true çš„æ—¶å€™ï¼Œå¼‚å¸¸æ‰ä¸ä¼šç»§ç»­å‘ä¸ŠæŠ›å‡ºerror;</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<ul>
<li>å¯¹äºè·¨åŸŸçš„ä»£ç è¿è¡Œé”™è¯¯ä¼šæ˜¾ç¤ºScript errorã€‚å¯¹äºè¿™ç§æƒ…å†µæˆ‘ä»¬éœ€è¦ç»™scriptæ ‡ç­¾æ·»åŠ crossoriginå±æ€§</li>
<li>å¯¹äºæŸäº›æµè§ˆå™¨å¯èƒ½ä¸ä¼šæ˜¾ç¤ºè°ƒç”¨æ ˆä¿¡æ¯ï¼Œè¿™ç§æƒ…å†µé€šè¿‡arguments.callee.calleræ¥åšæ ˆé€’å½’ã€‚</li>
</ul>
<p>å¯¹äºå¼‚æ­¥ä»£ç æ¥è¯´ï¼Œå¯ä»¥ä½¿ç”¨catchçš„æ–¹å¼æ•è·é”™è¯¯ã€‚æ¯”å¦‚Promiseå¯ä»¥ç›´æ¥ä½¿ç”¨catchå‡½æ•°ï¼Œawait asyncå¯ä»¥ä½¿ç”¨try catchã€‚</p>
<p>ä½†æ˜¯è¦æ³¨æ„çº¿ä¸Šè¿è¡Œçš„ä»£ç éƒ½æ˜¯å‹ç¼©è¿‡çš„ï¼Œéœ€è¦åœ¨æ‰“åŒ…æ—¶ç”ŸæˆsourceMapæ–‡ä»¶ä¾¿äºdebugã€‚</p>
<h5 id="å¯¹äºæ•è·çš„é”™è¯¯éœ€è¦ä¸Šä¼ ç»™æœåŠ¡å™¨"><a href="#å¯¹äºæ•è·çš„é”™è¯¯éœ€è¦ä¸Šä¼ ç»™æœåŠ¡å™¨" class="headerlink" title="å¯¹äºæ•è·çš„é”™è¯¯éœ€è¦ä¸Šä¼ ç»™æœåŠ¡å™¨**"></a>å¯¹äºæ•è·çš„é”™è¯¯éœ€è¦ä¸Šä¼ ç»™æœåŠ¡å™¨**</h5><p>å¯ä»¥é€šè¿‡ajaxå‘é€æ•°æ®<br>è¿˜å¯ä»¥é€šè¿‡imgæ ‡ç­¾çš„srcå‘èµ·ä¸€ä¸ªè¯·æ±‚ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">report</span>(<span class="params">error</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> report = <span class="string">'https://xxx/report'</span>;</span><br><span class="line">  <span class="keyword">new</span> Image().src = report + <span class="string">'error='</span> + error;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¦å¤–æ¥å£å¼‚å¸¸å°±ç›¸å¯¹æ¥è¯´ç®€å•äº†ï¼Œå¯ä»¥åˆ—ä¸¾å‡ºå‡ºé”™çš„çŠ¶æ€ç ã€‚ä¸€æ—¦å‡ºç°æ­¤ç±»çš„çŠ¶æ€ç å°±å¯ä»¥ç«‹å³ä¸ŠæŠ¥å‡ºé”™ã€‚æ¥å£å¼‚å¸¸ä¸ŠæŠ¥å¯ä»¥è®©å¼€å‘äººå‘˜è¿…é€ŸçŸ¥é“æœ‰å“ªäº›æ¥å£å‡ºç°äº†å¤§é¢ç§¯çš„æŠ¥é”™ï¼Œä»¥ä¾¿è¿…é€Ÿä¿®å¤é—®é¢˜ã€‚</p>
<h2 id="æ™®é€šå‡½æ•°è·Ÿç®­å¤´å‡½æ•°çš„åŒºåˆ«"><a href="#æ™®é€šå‡½æ•°è·Ÿç®­å¤´å‡½æ•°çš„åŒºåˆ«" class="headerlink" title="æ™®é€šå‡½æ•°è·Ÿç®­å¤´å‡½æ•°çš„åŒºåˆ«"></a>æ™®é€šå‡½æ•°è·Ÿç®­å¤´å‡½æ•°çš„åŒºåˆ«</h2><ul>
<li>è¯­æ³•æ›´åŠ ç®€æ´ã€æ¸…æ™°</li>
<li>ç®­å¤´å‡½æ•°ä¸ä¼šåˆ›å»ºè‡ªå·±çš„thisï¼Œå®ƒåªä¼šä»è‡ªå·±çš„ä½œç”¨åŸŸé“¾çš„ä¸Šä¸€å±‚ç»§æ‰¿this</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> id = <span class="string">'GLOBAL'</span>;</span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  id: <span class="string">'OBJ'</span>,</span><br><span class="line">  a: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.id);</span><br><span class="line">  &#125;,</span><br><span class="line">  b: <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="keyword">this</span>.id);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">obj.a();    <span class="comment">// 'OBJ'</span></span><br><span class="line">obj.b();    <span class="comment">// 'GLOBAL'</span></span><br></pre></td></tr></table></figure>
<ul>
<li><p>ç®­å¤´å‡½æ•°ç»§æ‰¿è€Œæ¥çš„thisæŒ‡å‘æ°¸è¿œä¸å˜</p>
</li>
<li><p>call/apply/bindæ— æ³•æ”¹å˜ç®­å¤´å‡½æ•°ä¸­thisçš„æŒ‡å‘</p>
</li>
</ul>
<p>.call()/.apply()/.bind()æ–¹æ³•å¯ä»¥ç”¨æ¥åŠ¨æ€ä¿®æ”¹å‡½æ•°æ‰§è¡Œæ—¶thisçš„æŒ‡å‘ï¼Œä½†ç”±äºç®­å¤´å‡½æ•°çš„thiså®šä¹‰æ—¶å°±å·²ç»ç¡®å®šä¸”æ°¸è¿œä¸ä¼šæ”¹å˜ã€‚æ‰€ä»¥ä½¿ç”¨è¿™äº›æ–¹æ³•æ°¸è¿œä¹Ÿæ”¹å˜ä¸äº†ç®­å¤´å‡½æ•°thisçš„æŒ‡å‘ï¼Œè™½ç„¶è¿™ä¹ˆåšä»£ç ä¸ä¼šæŠ¥é”™ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> id = <span class="string">'Global'</span>;</span><br><span class="line"><span class="comment">// ç®­å¤´å‡½æ•°å®šä¹‰åœ¨å…¨å±€ä½œç”¨åŸŸ</span></span><br><span class="line"><span class="keyword">let</span> fun1 = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.id)</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">fun1();     <span class="comment">// 'Global'</span></span><br><span class="line"><span class="comment">// thisçš„æŒ‡å‘ä¸ä¼šæ”¹å˜ï¼Œæ°¸è¿œæŒ‡å‘Windowå¯¹è±¡</span></span><br><span class="line">fun1.call(&#123;<span class="attr">id</span>: <span class="string">'Obj'</span>&#125;);     <span class="comment">// 'Global'</span></span><br><span class="line">fun1.apply(&#123;<span class="attr">id</span>: <span class="string">'Obj'</span>&#125;);    <span class="comment">// 'Global'</span></span><br><span class="line">fun1.bind(&#123;<span class="attr">id</span>: <span class="string">'Obj'</span>&#125;)();   <span class="comment">// 'Global'</span></span><br></pre></td></tr></table></figure>
<ul>
<li>ç®­å¤´å‡½æ•°ä¸èƒ½ä½œä¸ºæ„é€ å‡½æ•°ä½¿ç”¨</li>
</ul>
<p>å› ä¸ºç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„thisï¼Œå®ƒçš„thiså…¶å®æ˜¯ç»§æ‰¿äº†å¤–å±‚æ‰§è¡Œç¯å¢ƒä¸­çš„thisï¼Œä¸”thisæŒ‡å‘æ°¸è¿œä¸ä¼šéšåœ¨å“ªé‡Œè°ƒç”¨ã€è¢«è°è°ƒç”¨è€Œæ”¹å˜ï¼Œæ‰€ä»¥ç®­å¤´å‡½æ•°ä¸èƒ½ä½œä¸ºæ„é€ å‡½æ•°ä½¿ç”¨ï¼Œæˆ–è€…è¯´æ„é€ å‡½æ•°ä¸èƒ½å®šä¹‰æˆç®­å¤´å‡½æ•°ï¼Œå¦åˆ™ç”¨newè°ƒç”¨æ—¶ä¼šæŠ¥é”™ï¼</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> Fun = <span class="function">(<span class="params">name, age</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">    <span class="keyword">this</span>.age = age;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æŠ¥é”™</span></span><br><span class="line"><span class="keyword">let</span> p = <span class="keyword">new</span> Fun(<span class="string">'cao'</span>, <span class="number">24</span>);</span><br></pre></td></tr></table></figure>
<ul>
<li>ç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„argumentsï¼Œåœ¨ç®­å¤´å‡½æ•°ä¸­è®¿é—®argumentså®é™…ä¸Šè·å¾—çš„æ˜¯å¤–å±‚å±€éƒ¨ï¼ˆå‡½æ•°ï¼‰æ‰§è¡Œç¯å¢ƒä¸­çš„å€¼ã€‚</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ä¾‹å­ä¸€</span></span><br><span class="line"><span class="keyword">let</span> fun = <span class="function">(<span class="params">val</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(val);   <span class="comment">// 111</span></span><br><span class="line">    <span class="comment">// ä¸‹é¢ä¸€è¡Œä¼šæŠ¥é”™</span></span><br><span class="line">    <span class="comment">// Uncaught ReferenceError: arguments is not defined</span></span><br><span class="line">    <span class="comment">// å› ä¸ºå¤–å±‚å…¨å±€ç¯å¢ƒæ²¡æœ‰argumentså¯¹è±¡</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">arguments</span>);</span><br><span class="line">&#125;;</span><br><span class="line">fun(<span class="number">111</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¾‹å­äºŒ</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">outer</span>(<span class="params">val1, val2</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> argOut = <span class="built_in">arguments</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(argOut);    <span class="comment">// [111, 222]</span></span><br><span class="line">    <span class="keyword">let</span> fun = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> argIn = <span class="built_in">arguments</span>;</span><br><span class="line">        <span class="built_in">console</span>.log(argIn);     <span class="comment">// // [111, 222]</span></span><br><span class="line">        <span class="built_in">console</span>.log(argOut === argIn);  <span class="comment">// true</span></span><br><span class="line">    &#125;;</span><br><span class="line">    fun();</span><br><span class="line">&#125;</span><br><span class="line">outer(<span class="number">111</span>, <span class="number">222</span>);</span><br></pre></td></tr></table></figure>
<ul>
<li>ç®­å¤´å‡½æ•°æ²¡æœ‰åŸå‹prototype</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> sayHi = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'Hello World !'</span>)</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(sayHi.prototype); <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure>
<h2 id="æ‰‹å†™ä¸€ä¸ªwebpack"><a href="#æ‰‹å†™ä¸€ä¸ªwebpack" class="headerlink" title="æ‰‹å†™ä¸€ä¸ªwebpack"></a>æ‰‹å†™ä¸€ä¸ªwebpack</h2><ul>
<li><a href="https://github.com/lmjben/diy-webpack" target="_blank" rel="noopener">æ‰‹å†™ä¸€ä¸ªwebpack</a></li>
</ul>
]]></content>
      <tags>
        <tag>æ€»ç»“</tag>
      </tags>
  </entry>
  <entry>
    <title>çŸ¥è¯†ç‚¹</title>
    <url>/2020/03/31/2020/3%E6%9C%88/0331/</url>
    <content><![CDATA[<h2 id="Reactå®ç°ä¸€ä¸ªåœºæ™¯ï¼Œæ¸²æŸ“å¤šå¼ å›¾ç‰‡ï¼Œä¿è¯å›¾ç‰‡çš„åº•éƒ¨å°½é‡æ˜¯å¯¹é½çš„ï¼Œç„¶åæ»šåŠ¨æ¡æ‹‰åˆ°åº•ï¼Œåœ¨è¯·æ±‚å›¾ç‰‡å†æ¬¡æ¸²æŸ“"><a href="#Reactå®ç°ä¸€ä¸ªåœºæ™¯ï¼Œæ¸²æŸ“å¤šå¼ å›¾ç‰‡ï¼Œä¿è¯å›¾ç‰‡çš„åº•éƒ¨å°½é‡æ˜¯å¯¹é½çš„ï¼Œç„¶åæ»šåŠ¨æ¡æ‹‰åˆ°åº•ï¼Œåœ¨è¯·æ±‚å›¾ç‰‡å†æ¬¡æ¸²æŸ“" class="headerlink" title="Reactå®ç°ä¸€ä¸ªåœºæ™¯ï¼Œæ¸²æŸ“å¤šå¼ å›¾ç‰‡ï¼Œä¿è¯å›¾ç‰‡çš„åº•éƒ¨å°½é‡æ˜¯å¯¹é½çš„ï¼Œç„¶åæ»šåŠ¨æ¡æ‹‰åˆ°åº•ï¼Œåœ¨è¯·æ±‚å›¾ç‰‡å†æ¬¡æ¸²æŸ“"></a>Reactå®ç°ä¸€ä¸ªåœºæ™¯ï¼Œæ¸²æŸ“å¤šå¼ å›¾ç‰‡ï¼Œä¿è¯å›¾ç‰‡çš„åº•éƒ¨å°½é‡æ˜¯å¯¹é½çš„ï¼Œç„¶åæ»šåŠ¨æ¡æ‹‰åˆ°åº•ï¼Œåœ¨è¯·æ±‚å›¾ç‰‡å†æ¬¡æ¸²æŸ“</h2><h2 id="React-ä¸­-key-çš„ç”¨æ³•ï¼Œå¸¸ç”¨ä½¿ç”¨åœºæ™¯"><a href="#React-ä¸­-key-çš„ç”¨æ³•ï¼Œå¸¸ç”¨ä½¿ç”¨åœºæ™¯" class="headerlink" title="React ä¸­ key çš„ç”¨æ³•ï¼Œå¸¸ç”¨ä½¿ç”¨åœºæ™¯"></a>React ä¸­ key çš„ç”¨æ³•ï¼Œå¸¸ç”¨ä½¿ç”¨åœºæ™¯</h2><p><strong>keyçš„æ¦‚å¿µ</strong></p>
<p>react ä¸­çš„ key å±æ€§æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„å±æ€§ï¼Œå®ƒçš„å‡ºç°ä¸æ˜¯ç»™å¼€å‘è€…ç”¨çš„ï¼Œè€Œæ˜¯ç»™ react è‡ªèº«ç”¨çš„ã€‚<br>ç®€å•çš„æ¥è¯´ï¼Œreact åˆ©ç”¨ key æ¥è¯†åˆ«ç»„ä»¶ï¼Œä»–æ˜¯ä¸€ç§èº«ä»½æ ‡è¯†ï¼Œå°±åƒæ¯ä¸ªäººçš„èº«ä»½è¯ä¸€æ ·ã€‚æ¯ä¸ª key å¯¹åº”ä¸€ä¸ªç»„ä»¶ï¼Œç›¸åŒçš„ key, react ä¼šè®¤ä¸ºæ˜¯åŒä¸€ä¸ªç»„ä»¶ï¼Œè¿™æ ·åç»­ç›¸åŒçš„ key å¯¹åº”çš„ç»„ä»¶éƒ½ä¸ä¼šè¢«åˆ›å»ºã€‚(ç»æµ‹è¯•ï¼Œ16ç‰ˆæœ¬ä¹‹åkeyé‡å¤ä¹Ÿä¼šæ¸²æŸ“å‡ºæ¥ï¼Ÿ)</p>
<p><strong>keyçš„ä½¿ç”¨åœºæ™¯</strong></p>
<p>åœ¨é¡¹ç›®å¼€å‘ä¸­ï¼Œkeyå±æ€§çš„ä½¿ç”¨åœºæ™¯æœ€å¤šçš„è¿˜æ˜¯ç”±æ•°ç»„åŠ¨æ€åˆ›å»ºçš„å­ç»„ä»¶æƒ…å†µï¼Œéœ€è¦ä¸ºæ¯ä¸ªå­ç»„ä»¶æ·»åŠ å”¯ä¸€çš„keyå±æ€§å€¼ã€‚é‚£æœ‰çš„äººä¼šè‡ªç„¶è€Œç„¶æƒ³åˆ°ï¼Œkey å’ŒåŠ¨æ€æ¸²æŸ“çš„å­å…ƒç´ è·å–çš„indexçš„å€¼å¾ˆæ¥è¿‘ï¼Œæ˜¯ä¸æ˜¯æˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨indexå€¼ èµ‹å€¼ç»™keyå‘¢ï¼Ÿ</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  data.map(<span class="function">(<span class="params">item, index</span>) =&gt;</span> (</span><br><span class="line">    &lt;div key=&#123;index&#125;&gt;item.name&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  ))</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure>
<p>åœ¨å°è¯•åæˆ‘ä»¬å‘ç°æŠ¥é”™æ²¡äº†ï¼Œæ¸²æŸ“ä¹Ÿæ²¡é—®é¢˜ã€‚ä½†æ˜¯è¿™é‡Œæˆ‘ä»¬å¼ºçƒˆä¸æ¨èä½¿ç”¨æ•°ç»„çš„index å€¼æ¥ä½œä¸ºkeyã€‚<br>å¦‚æœæ•°æ®æ›´æ–°ä»…ä»…æ˜¯æ•°ç»„é‡æ–°æ’åºæˆ–åœ¨å…¶ä¸­é—´ä½ç½®æ’å…¥æ–°å…ƒç´ ï¼Œé‚£ä¹ˆæ‰€æœ‰å…ƒç´ éƒ½å°†é‡æ–°æ¸²æŸ“ã€‚</p>
<p>ä¾‹å¦‚ï¼š<br>æœ¬æ¥index=2 çš„å…ƒç´ å‘å‰ç§»åŠ¨åï¼Œé‚£è¯¥å…ƒç´ çš„key ä¸ä¹ŸåŒæ ·å‘ç”Ÿäº†æ”¹å˜ï¼Œé‚£è¿™æ ·æ”¹å˜ï¼Œkey å°±æ²¡æœ‰ä»»ä½•å­˜åœ¨çš„æ„ä¹‰äº†ï¼Œæ—¢ç„¶æ˜¯ä½œä¸ºèº«ä»½è¯ä¸€æ ·çš„å­˜åœ¨ï¼Œé‚£å°±ä¸å®¹æœ‰å¤±ï¼Œå½“ç„¶ï¼Œåœ¨ä½ ç”¨keyå€¼åˆ›å»ºå­ç»„ä»¶çš„æ—¶å€™ï¼Œè‹¥æ•°ç»„çš„å†…å®¹åªæ˜¯ä½œä¸ºçº¯å±•ç¤ºï¼Œè€Œä¸æ¶‰åŠåˆ°æ•°ç»„çš„åŠ¨æ€å˜æ›´ï¼Œå…¶å®æ˜¯å¯ä»¥ä½¿ç”¨index ä½œä¸ºkeyçš„ï¼Œ</p>
<p><strong>keyçš„å€¼å¿…é¡»ä¿è¯å”¯ä¸€ä¸”ç¨³å®š</strong></p>
<p>æˆ‘ä»¬åœ¨ä¸keyå€¼æ‰“è¿‡å‡ æ¬¡äº¤åˆ°ä»¥åï¼Œæ„Ÿè§‰keyå€¼å°±ç±»ä¼¼äºæ•°æ®åº“ä¸­çš„ä¸»é”®idä¸€æ ·ï¼Œæœ‰ä¸”å”¯ä¸€ã€‚</p>
<h2 id="Reactå¦‚ä½•å¤„ç†æ›´æ–°"><a href="#Reactå¦‚ä½•å¤„ç†æ›´æ–°" class="headerlink" title="Reactå¦‚ä½•å¤„ç†æ›´æ–°"></a>Reactå¦‚ä½•å¤„ç†æ›´æ–°</h2><h2 id="React-å†…éƒ¨-setState-æ˜¯å¦‚ä½•æ‰¹å¤„ç†çš„"><a href="#React-å†…éƒ¨-setState-æ˜¯å¦‚ä½•æ‰¹å¤„ç†çš„" class="headerlink" title="React å†…éƒ¨ setState æ˜¯å¦‚ä½•æ‰¹å¤„ç†çš„"></a>React å†…éƒ¨ setState æ˜¯å¦‚ä½•æ‰¹å¤„ç†çš„</h2><p>setState çš„æ‰¹é‡æ›´æ–°æŒ‰ç…§å…ˆè¿›å…ˆå‡ºçš„åŸåˆ™ï¼Œé¡ºåºæ›´æ–°ã€‚</p>
<ol>
<li>åœ¨ react çš„ event handler å†…éƒ¨åŒæ­¥çš„å¤šæ¬¡ setState ä¼šè¢« batch ä¸ºä¸€æ¬¡æ›´æ–°</li>
<li>åœ¨ä¸€ä¸ªå¼‚æ­¥çš„äº‹ä»¶å¾ªç¯é‡Œé¢å¤šæ¬¡ setStateï¼Œreact ä¸ä¼š batch</li>
<li>å¯ä»¥ä½¿ç”¨React.unstable_batchedUpdates æ¥å¼ºåˆ¶ batch</li>
</ol>
<p><strong>ä¸ºä»€ä¹ˆåœ¨ setTimeout ä¸­å¤šæ¬¡ setStateï¼Œreact ä¸ä¼š batchï¼Ÿ</strong></p>
<p>å› ä¸º React çš„æ›´æ–°æ˜¯åŸºäº Transactionï¼ˆäº‹åŠ¡ï¼‰çš„ï¼ŒTransacation å°±æ˜¯ç»™ç›®æ ‡æ‰§è¡Œçš„å‡½æ•°åŒ…è£¹ä¸€ä¸‹ï¼ŒåŠ ä¸Šå‰ç½®å’Œåç½®çš„ hook ï¼ˆæœ‰ç‚¹ç±»ä¼¼ koa çš„ middlewareï¼‰ï¼Œåœ¨å¼€å§‹æ‰§è¡Œä¹‹å‰å…ˆæ‰§è¡Œ initialize hookï¼Œç»“æŸä¹‹åå†æ‰§è¡Œ close hookï¼Œè¿™æ ·æ­é…ä¸Š isBatchingUpdates è¿™æ ·çš„å¸ƒå°”æ ‡å¿—ä½å°±å¯ä»¥å®ç°ä¸€æ•´ä¸ªå‡½æ•°è°ƒç”¨æ ˆå†…çš„å¤šæ¬¡ setState å…¨éƒ¨å…¥ pending é˜Ÿåˆ—ï¼Œç»“æŸåç»Ÿä¸€ apply äº†ã€‚</p>
<p>ä½†æ˜¯ setTimeout è¿™æ ·çš„æ–¹æ³•æ‰§è¡Œæ˜¯è„±ç¦»äº†äº‹åŠ¡çš„ï¼Œreact ç®¡æ§ä¸åˆ°ï¼Œæ‰€ä»¥å°±æ²¡æ³• batch äº†ã€‚ Reactæ²¡æœ‰æ§åˆ¶æƒçš„å‡½æ•° setTimeout</p>
<p><strong>ä¸ºä»€ä¹ˆ react è¦è¿™ä¹ˆè®¾è®¡ï¼Ÿ</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Parent</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> [count, setCount] = useState(<span class="number">0</span>);</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div onClick=&#123;() =&gt; setCount(count + <span class="number">1</span>)&#125;&gt;</span><br><span class="line">      Parent clicked &#123;count&#125; times</span><br><span class="line">      &lt;Child /&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  );</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">function Child() &#123;</span></span><br><span class="line"><span class="regexp">  let [count, setCount] = useState(0);</span></span><br><span class="line"><span class="regexp">  return (</span></span><br><span class="line"><span class="regexp">    &lt;button onClick=&#123;() =&gt; setCount(count + 1)&#125;&gt;</span></span><br><span class="line"><span class="regexp">      Child clicked &#123;count&#125; times</span></span><br><span class="line"><span class="regexp">    &lt;/</span>button&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢è¿™æ ·çš„ demoï¼Œç”±äºç‚¹å‡»äº‹ä»¶å†’æ³¡çš„ç¼˜æ•…ï¼Œæˆ‘ä»¬å‡è®¾å¦‚æœ react ä¸ batch ç«‹å³æ›´æ–°çš„è¯ï¼Œé‚£ä¹ˆç‚¹äº† child button ä¹‹åçš„é€»è¾‘ä¼šæ˜¯å¦‚ä¸‹è¿™æ ·</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">*** è¿›å…¥ react click çš„äº‹ä»¶å‡½æ•° ***</span><br><span class="line">Child (onClick) è§¦å‘ç‚¹å‡»</span><br><span class="line">  - setState ä¿®æ”¹ state</span><br><span class="line">  - re-render Child é‡æ–°æ¸²æŸ“ // ğŸ˜ ä¸å¿…è¦çš„</span><br><span class="line">Parent (onClick) è§¦å‘ç‚¹å‡»ï¼ˆå†’æ³¡ï¼‰</span><br><span class="line">  - setState ä¿®æ”¹ state</span><br><span class="line">  - re-render Parent é‡æ–°æ¸²æŸ“</span><br><span class="line">  - re-render Child é‡æ–°æ¸²æŸ“ ï¼ˆæ¸²æŸ“æ˜¯è‡ªé¡¶å‘ä¸‹çš„ï¼Œçˆ¶äº²æ›´æ–°ä¼šå¯¼è‡´å„¿å­æ›´æ–°ï¼‰</span><br><span class="line">*** é€€å‡º react click çš„äº‹ä»¶å‡½æ•°  ***</span><br></pre></td></tr></table></figure>
<p>ä»ä¸Šé¢å¯ä»¥çœ‹å‡ºï¼Œç¬¬ä¸€æ¬¡å­ç»„ä»¶çš„é‡æ–°æ¸²æŸ“å®Œå…¨æ˜¯æµªè´¹çš„ã€‚</p>
<p>æ‰€ä»¥ React è®¾è®¡æˆ setState ä¸ç«‹å³è§¦å‘é‡æ–°æ¸²æŸ“ï¼Œè€Œæ˜¯å…ˆæ‰§è¡Œå®Œæ‰€æœ‰çš„ event handlerï¼Œç„¶åç”¨ä¸€æ¬¡é‡æ–°æ¸²æŸ“å®Œæˆæ‰€æœ‰æ›´æ–°ã€‚</p>
<p><strong>forceUpdateçš„è¯´æ˜</strong></p>
<p>forceUpdate ä»å‡½æ•°åä¸Šç†è§£ï¼šâ€œå¼ºåˆ¶æ›´æ–°â€ã€‚</p>
<ol>
<li>forceUpdate æ˜¯åŒæ­¥çš„å—ï¼Ÿâ€œå¼ºåˆ¶â€ä¼šä¿è¯è°ƒç”¨ç„¶åç›´æ¥dom-diffå—ï¼Ÿ</li>
</ol>
<p>forceUpdateåœ¨æ‰¹é‡ä¸å¦çš„è¡¨ç°ä¸Šï¼Œå’ŒsetStateæ˜¯ä¸€æ ·çš„ã€‚åœ¨Reactæœ‰æ§åˆ¶æƒçš„å‡½æ•°é‡Œï¼Œæ˜¯æ‰¹é‡çš„ã€‚</p>
<ol start="2">
<li>â€œå¼ºåˆ¶â€æ›´æ–°æ•´ä¸ªç»„ä»¶æ ‘å—ï¼ŸåŒ…æ‹¬è‡ªå·±ï¼Œå­å­™åä»£ç»„ä»¶å—ï¼Ÿ</li>
</ol>
<p>forceUpdateåªä¼šå¼ºåˆ¶æœ¬èº«ç»„ä»¶çš„æ›´æ–°ï¼Œå³ä¸è°ƒç”¨â€œshouldComponentUpdateâ€ç›´æ¥æ›´æ–°ï¼Œå¯¹äºå­å­™åä»£ç»„ä»¶è¿˜æ˜¯è¦è°ƒç”¨è‡ªå·±çš„â€œshouldComponentUpdateâ€æ¥å†³å®šçš„ã€‚</p>
<h2 id="React15å¦‚ä½•å»ä¼˜åŒ–"><a href="#React15å¦‚ä½•å»ä¼˜åŒ–" class="headerlink" title="React15å¦‚ä½•å»ä¼˜åŒ–"></a>React15å¦‚ä½•å»ä¼˜åŒ–</h2><h2 id="useCallback-useMemoçš„åŒºåˆ«"><a href="#useCallback-useMemoçš„åŒºåˆ«" class="headerlink" title="useCallback useMemoçš„åŒºåˆ«"></a>useCallback useMemoçš„åŒºåˆ«</h2><p><strong>useMemo</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> memoizedValue = useMemo(<span class="function"><span class="params">()</span> =&gt;</span> computeExpensiveValue(a, b), [a, b]);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>æŠŠåˆ›å»ºå‡½æ•°å’Œä¾èµ–é¡¹æ•°ç»„ä½œä¸ºå‚æ•°ä¼ å…¥useMemoï¼Œå®ƒä»…ä¼šåœ¨æŸä¸ªä¾èµ–é¡¹æ”¹å˜æ—¶æ‰é‡æ–°è®¡ç®—memoizedå€¼ã€‚è¿™ç§ä¼˜åŒ–æœ‰åŠ©äºé¿å…åœ¨æ¯æ¬¡æ¸²æŸ“æ—¶éƒ½è¿›è¡Œé«˜å¼€é”€çš„è®¡ç®—ã€‚</p>
</blockquote>
<p><strong>useCallback</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> memoizedCallback = useCallback(</span><br><span class="line">  () =&gt; doSomething(a, b),</span><br><span class="line">  [a, b]</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>æŠŠå†…è”å›è°ƒå‡½æ•°åŠä¾èµ–é¡¹æ•°ç»„ä½œä¸ºå‚æ•°ä¼ å…¥useCallback, å®ƒå°†è¿”å›è¯¥å›è°ƒå‡½æ•°çš„ memoized ç‰ˆæœ¬ï¼Œè¯¥å›è°ƒå‡½æ•°ä»…åœ¨æŸä¸ªä¾èµ–é¡¹æ”¹å˜æ—¶æ‰ä¼šæ›´æ–°ã€‚å½“ä½ æŠŠå›è°ƒå‡½æ•°<br>ä¼ é€’ç»™ç»è¿‡ä¼˜åŒ–çš„å¹¶ä½¿ç”¨å¼•ç”¨ç›¸ç­‰æ€§å»é¿å…éå¿…è¦çš„æ¸²æŸ“çš„å­ç»„ä»¶æ—¶ï¼Œå®ƒå°†éå¸¸æœ‰ç”¨</p>
</blockquote>
<p>çœ‹èµ·æ¥ä¼¼ä¹å’ŒuseMemoå·®ä¸å¤šï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹æœ‰ä»€ä¹ˆå¼‚åŒï¼š</p>
<p>useMemo å’Œ useCallback æ¥æ”¶çš„å‚æ•°éƒ½æ˜¯ä¸€æ ·ï¼Œéƒ½æ˜¯åœ¨å…¶ä¾èµ–é¡¹å‘ç”Ÿå˜åŒ–åæ‰æ‰§è¡Œï¼Œéƒ½æ˜¯è¿”å›ç¼“å­˜çš„å€¼ï¼ŒåŒºåˆ«åœ¨äº useMemo è¿”å›çš„æ˜¯å‡½æ•°è¿è¡Œçš„ç»“æœï¼ŒuseCallbackè¿”å›çš„å‡½æ•°ã€‚</p>
<blockquote>
<p>useCallback(fn, deps) ç›¸å½“äº useMemo(() =&gt; fn, deps)</p>
</blockquote>
<h2 id="React-Hooks"><a href="#React-Hooks" class="headerlink" title="React Hooks"></a>React Hooks</h2><h4 id="æ²¡æœ‰ç ´åæ€§æ”¹åŠ¨"><a href="#æ²¡æœ‰ç ´åæ€§æ”¹åŠ¨" class="headerlink" title="æ²¡æœ‰ç ´åæ€§æ”¹åŠ¨"></a>æ²¡æœ‰ç ´åæ€§æ”¹åŠ¨</h4><ul>
<li>å®Œå…¨æ˜¯å¯é€‰çš„ã€‚</li>
<li>100%å‘åå…¼å®¹çš„ã€‚</li>
<li>ç°åœ¨å¯ç”¨ï¼Œhook å‘å¸ƒäº v16.8.0</li>
</ul>
<p><strong>æ²¡æœ‰è®¡åˆ’ä»Reactç§»é™¤classã€‚</strong><br><strong>Hookä¸ä¼šå½±å“ä½ å¯¹ React æ¦‚å¿µçš„ç†è§£ã€‚</strong></p>
<h4 id="åŠ¨æœº"><a href="#åŠ¨æœº" class="headerlink" title="åŠ¨æœº"></a>åŠ¨æœº</h4><p>Hook è§£å†³äº†æˆ‘ä»¬äº”å¹´æ¥ç¼–å†™å’Œç»´æŠ¤æˆåƒä¸Šä¸‡çš„ç»„ä»¶æ—¶é‡åˆ°çš„å„ç§å„æ ·çœ‹èµ·æ¥ä¸ç›¸å…³çš„é—®é¢˜ã€‚</p>
<h5 id="åœ¨ç»„ä»¶ä¹‹é—´å¤ç”¨çŠ¶æ€é€»è¾‘å¾ˆéš¾"><a href="#åœ¨ç»„ä»¶ä¹‹é—´å¤ç”¨çŠ¶æ€é€»è¾‘å¾ˆéš¾" class="headerlink" title="åœ¨ç»„ä»¶ä¹‹é—´å¤ç”¨çŠ¶æ€é€»è¾‘å¾ˆéš¾"></a>åœ¨ç»„ä»¶ä¹‹é—´å¤ç”¨çŠ¶æ€é€»è¾‘å¾ˆéš¾</h5><p>ä½ å¯ä»¥ä½¿ç”¨ Hook ä»ç»„ä»¶ä¸­æå–çŠ¶æ€é€»è¾‘ï¼Œä½¿å¾—è¿™äº›é€»è¾‘å¯ä»¥å•ç‹¬æµ‹è¯•å¹¶å¤ç”¨ã€‚Hook ä½¿ä½ åœ¨æ— éœ€ä¿®æ”¹ç»„ä»¶ç»“æ„çš„æƒ…å†µä¸‹å¤ç”¨çŠ¶æ€é€»è¾‘ã€‚</p>
<h5 id="å¤æ‚ç»„ä»¶å˜å¾—éš¾ä»¥ç†è§£"><a href="#å¤æ‚ç»„ä»¶å˜å¾—éš¾ä»¥ç†è§£" class="headerlink" title="å¤æ‚ç»„ä»¶å˜å¾—éš¾ä»¥ç†è§£"></a>å¤æ‚ç»„ä»¶å˜å¾—éš¾ä»¥ç†è§£</h5><p>æˆ‘ä»¬ç»å¸¸ç»´æŠ¤ä¸€äº›ç»„ä»¶ï¼Œç»„ä»¶èµ·åˆå¾ˆç®€å•ï¼Œä½†æ˜¯é€æ¸ä¼šè¢«çŠ¶æ€é€»è¾‘å’Œå‰¯ä½œç”¨å……æ–¥ã€‚æ¯ä¸ªç”Ÿå‘½å‘¨æœŸå¸¸å¸¸åŒ…å«ä¸€äº›ä¸ç›¸å…³çš„é€»è¾‘ã€‚ä¾‹å¦‚ï¼Œç»„ä»¶å¸¸å¸¸åœ¨ componentDidMount å’Œ componentDidUpdate ä¸­è·å–æ•°æ®ã€‚ä½†æ˜¯ï¼ŒåŒä¸€ä¸ª componentDidMount ä¸­å¯èƒ½ä¹ŸåŒ…å«å¾ˆå¤šå…¶å®ƒçš„é€»è¾‘ï¼Œå¦‚è®¾ç½®äº‹ä»¶ç›‘å¬ï¼Œè€Œä¹‹åéœ€åœ¨ componentWillUnmount ä¸­æ¸…é™¤ã€‚ç›¸äº’å…³è”ä¸”éœ€è¦å¯¹ç…§ä¿®æ”¹çš„ä»£ç è¢«è¿›è¡Œäº†æ‹†åˆ†ï¼Œè€Œå®Œå…¨ä¸ç›¸å…³çš„ä»£ç å´åœ¨åŒä¸€ä¸ªæ–¹æ³•ä¸­ç»„åˆåœ¨ä¸€èµ·ã€‚å¦‚æ­¤å¾ˆå®¹æ˜“äº§ç”Ÿ bugï¼Œå¹¶ä¸”å¯¼è‡´é€»è¾‘ä¸ä¸€è‡´ã€‚</p>
<p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒHook å°†ç»„ä»¶ä¸­ç›¸äº’å…³è”çš„éƒ¨åˆ†æ‹†åˆ†æˆæ›´å°çš„å‡½æ•°ï¼ˆæ¯”å¦‚è®¾ç½®è®¢é˜…æˆ–è¯·æ±‚æ•°æ®ï¼‰ï¼Œè€Œå¹¶éå¼ºåˆ¶æŒ‰ç…§ç”Ÿå‘½å‘¨æœŸåˆ’åˆ†ã€‚ä½ è¿˜å¯ä»¥ä½¿ç”¨ reducer æ¥ç®¡ç†ç»„ä»¶çš„å†…éƒ¨çŠ¶æ€ï¼Œä½¿å…¶æ›´åŠ å¯é¢„æµ‹ã€‚</p>
<h5 id="éš¾ä»¥ç†è§£çš„-class"><a href="#éš¾ä»¥ç†è§£çš„-class" class="headerlink" title="éš¾ä»¥ç†è§£çš„ class"></a>éš¾ä»¥ç†è§£çš„ class</h5><p>é™¤äº†ä»£ç å¤ç”¨å’Œä»£ç ç®¡ç†ä¼šé‡åˆ°å›°éš¾å¤–ï¼Œæˆ‘ä»¬è¿˜å‘ç° class æ˜¯å­¦ä¹  React çš„ä¸€å¤§å±éšœã€‚ä½ å¿…é¡»å»ç†è§£ JavaScript ä¸­ this çš„å·¥ä½œæ–¹å¼ï¼Œè¿™ä¸å…¶ä»–è¯­è¨€å­˜åœ¨å·¨å¤§å·®å¼‚ã€‚è¿˜ä¸èƒ½å¿˜è®°ç»‘å®šäº‹ä»¶å¤„ç†å™¨ã€‚æ²¡æœ‰ç¨³å®šçš„è¯­æ³•ææ¡ˆï¼Œè¿™äº›ä»£ç éå¸¸å†—ä½™ã€‚å¤§å®¶å¯ä»¥å¾ˆå¥½åœ°ç†è§£ propsï¼Œstate å’Œè‡ªé¡¶å‘ä¸‹çš„æ•°æ®æµï¼Œä½†å¯¹ class å´ä¸€ç­¹è«å±•ã€‚å³ä¾¿åœ¨æœ‰ç»éªŒçš„ React å¼€å‘è€…ä¹‹é—´ï¼Œå¯¹äºå‡½æ•°ç»„ä»¶ä¸ class ç»„ä»¶çš„å·®å¼‚ä¹Ÿå­˜åœ¨åˆ†æ­§ï¼Œç”šè‡³è¿˜è¦åŒºåˆ†ä¸¤ç§ç»„ä»¶çš„ä½¿ç”¨åœºæ™¯ã€‚class ä¹Ÿç»™ç›®å‰çš„å·¥å…·å¸¦æ¥äº†ä¸€äº›é—®é¢˜ã€‚ä¾‹å¦‚ï¼Œclass ä¸èƒ½å¾ˆå¥½çš„å‹ç¼©ï¼Œå¹¶ä¸”ä¼šä½¿çƒ­é‡è½½å‡ºç°ä¸ç¨³å®šçš„æƒ…å†µã€‚å› æ­¤ï¼Œæˆ‘ä»¬æƒ³æä¾›ä¸€ä¸ªä½¿ä»£ç æ›´æ˜“äºä¼˜åŒ–çš„ APIã€‚</p>
<p>ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼ŒHook ä½¿ä½ åœ¨é class çš„æƒ…å†µä¸‹å¯ä»¥ä½¿ç”¨æ›´å¤šçš„ React ç‰¹æ€§ã€‚ ä»æ¦‚å¿µä¸Šè®²ï¼ŒReact ç»„ä»¶ä¸€ç›´æ›´åƒæ˜¯å‡½æ•°ã€‚è€Œ Hook åˆ™æ‹¥æŠ±äº†å‡½æ•°ï¼ŒåŒæ—¶ä¹Ÿæ²¡æœ‰ç‰ºç‰² React çš„ç²¾ç¥åŸåˆ™ã€‚Hook æä¾›äº†é—®é¢˜çš„è§£å†³æ–¹æ¡ˆï¼Œæ— éœ€å­¦ä¹ å¤æ‚çš„å‡½æ•°å¼æˆ–å“åº”å¼ç¼–ç¨‹æŠ€æœ¯ã€‚</p>
<h2 id="React-Context-å¦‚ä½•å»ä½¿ç”¨"><a href="#React-Context-å¦‚ä½•å»ä½¿ç”¨" class="headerlink" title="React Context å¦‚ä½•å»ä½¿ç”¨"></a>React Context å¦‚ä½•å»ä½¿ç”¨</h2><ul>
<li>React.createContext</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> MyContext = React.createContext(<span class="literal">null</span>);</span><br></pre></td></tr></table></figure>
<ul>
<li>Context.Provider</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;MyContext.Provider value=&#123;value&#125;&gt;</span><br></pre></td></tr></table></figure>
<p>æ¯ä¸ª Context ç»„ä»¶éƒ½ä¼šè¿”å›ä¸€ä¸ª Provider Reactç»„ä»¶ï¼Œå®ƒå…è®¸æ¶ˆè´¹ç»„ä»¶è®¢é˜… context çš„å˜åŒ–ã€‚</p>
<ul>
<li>Class.contextType</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Myclass</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="keyword">static</span> contextType = MyContext;</span><br><span class="line"></span><br><span class="line">  componentDidMount() &#123;</span><br><span class="line">    <span class="keyword">let</span> value = <span class="keyword">this</span>.context;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  componentDidUpdate() &#123;</span><br><span class="line">    <span class="keyword">let</span> value = <span class="keyword">this</span>.context;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">let</span> value = <span class="keyword">this</span>.context;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æŒ‚è½½åœ¨classä¸Šçš„ contextType å±æ€§ä¼šè¢«é‡èµ‹å€¼ä¸ºä¸€ä¸ªç”± React.createContext() åˆ›å»ºçš„ Context å¯¹è±¡ã€‚ è¿™èƒ½è®©ä½ ä½¿ç”¨<br>this.context æ¥æ¶ˆè´¹æœ€è¿‘ Context ä¸Šçš„å€¼ã€‚ä½ å¯ä»¥åœ¨ä»»ä½•ç”Ÿå‘½å‘¨æœŸä¸­è®¿é—®åˆ°å®ƒï¼ŒåŒ…æ‹¬renderå‡½æ•°ä¸­ã€‚</p>
<ul>
<li>Context.Consumer</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;MyContext.Consumer&gt;</span><br><span class="line">  &#123;</span><br><span class="line">    value =&gt; <span class="comment">/* åŸºäºcontextçš„å€¼æ¸²æŸ“ */</span></span><br><span class="line">  &#125;</span><br><span class="line">&lt;<span class="regexp">/MyContext.consumer&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="Redux-å’Œ-Mobx-çš„åŒºåˆ«"><a href="#Redux-å’Œ-Mobx-çš„åŒºåˆ«" class="headerlink" title="Redux å’Œ Mobx çš„åŒºåˆ«"></a>Redux å’Œ Mobx çš„åŒºåˆ«</h2><ol>
<li>å¼€å‘éš¾åº¦ä½ï¼Œredux éœ€è¦å¼•å…¥å¾ˆå¤šç¬¬ä¸‰æ–¹åº“æ¥å®Œå–„å·¥ç¨‹éœ€æ±‚ã€‚</li>
<li>å¼€å‘ä»£ç å°‘ï¼Œ redux éœ€è¦å†™å¤§é‡çš„æ ·æ¿ä»£ç ã€‚</li>
<li>å¢åŠ æ¸²æŸ“æ€§èƒ½ï¼Œreduxéœ€è¦å€ŸåŠ© shouldComponentUpdate æˆ–è€… immutable æ¥ä¼˜åŒ–ã€‚</li>
</ol>
<h2 id="åœ¨ä½¿ç”¨Reduxä¸­ï¼Œå½“ä¿®æ”¹ä¸€ä¸ªæ•°æ®ï¼Œå‘ç°ç»„ä»¶æ²¡æœ‰æ›´æ–°ï¼Œå¯èƒ½çš„åŸå› æœ‰å“ªäº›"><a href="#åœ¨ä½¿ç”¨Reduxä¸­ï¼Œå½“ä¿®æ”¹ä¸€ä¸ªæ•°æ®ï¼Œå‘ç°ç»„ä»¶æ²¡æœ‰æ›´æ–°ï¼Œå¯èƒ½çš„åŸå› æœ‰å“ªäº›" class="headerlink" title="åœ¨ä½¿ç”¨Reduxä¸­ï¼Œå½“ä¿®æ”¹ä¸€ä¸ªæ•°æ®ï¼Œå‘ç°ç»„ä»¶æ²¡æœ‰æ›´æ–°ï¼Œå¯èƒ½çš„åŸå› æœ‰å“ªäº›"></a>åœ¨ä½¿ç”¨Reduxä¸­ï¼Œå½“ä¿®æ”¹ä¸€ä¸ªæ•°æ®ï¼Œå‘ç°ç»„ä»¶æ²¡æœ‰æ›´æ–°ï¼Œå¯èƒ½çš„åŸå› æœ‰å“ªäº›</h2><ol>
<li>æ˜¯å¦ key å€¼é‡å¤å¯¼è‡´</li>
<li>æ˜¯å¦æ­£ç¡®çš„å¼•å…¥æ•°æ®, æˆ–è€…ä¼ é€’props</li>
<li>æ˜¯å¦ç»„ä»¶å†…éƒ¨å¿˜è®°connect</li>
</ol>
<h2 id="React16-å‡½æ•°å¼ç¼–ç¨‹æ€ä¹ˆå»ä¼˜åŒ–"><a href="#React16-å‡½æ•°å¼ç¼–ç¨‹æ€ä¹ˆå»ä¼˜åŒ–" class="headerlink" title="React16 å‡½æ•°å¼ç¼–ç¨‹æ€ä¹ˆå»ä¼˜åŒ–"></a>React16 å‡½æ•°å¼ç¼–ç¨‹æ€ä¹ˆå»ä¼˜åŒ–</h2><ul>
<li>useMemo</li>
<li>useCallback</li>
<li>fragments</li>
</ul>
]]></content>
      <tags>
        <tag>react</tag>
      </tags>
  </entry>
  <entry>
    <title>çŸ¥è¯†ç‚¹</title>
    <url>/2020/04/02/2020/4%E6%9C%88/0402/</url>
    <content><![CDATA[<h2 id="js-ä¸ºä»€ä¹ˆæ˜¯å•çº¿ç¨‹ï¼Ÿ"><a href="#js-ä¸ºä»€ä¹ˆæ˜¯å•çº¿ç¨‹ï¼Ÿ" class="headerlink" title="js ä¸ºä»€ä¹ˆæ˜¯å•çº¿ç¨‹ï¼Ÿ"></a>js ä¸ºä»€ä¹ˆæ˜¯å•çº¿ç¨‹ï¼Ÿ</h2><p>çº¿ç¨‹ï¼šæ˜¯æ“ä½œç³»ç»Ÿèƒ½å¤Ÿè¿›è¡Œè¿ç®—è°ƒåº¦çš„æœ€å°å•ä½ã€‚<br>å•çº¿ç¨‹ï¼šï¼ˆä¸Šé¢æœ‰è¯´ï¼šä¸€æ¡çº¿ç¨‹æŒ‡çš„æ˜¯è¿›ç¨‹ä¸­ä¸€ä¸ªå•ä¸€é¡ºåºçš„æ§åˆ¶æµï¼‰å°±æ˜¯åœ¨è¿›ç¨‹ä¸­åªæœ‰ä¸€æ¡çº¿ç¨‹ï¼Œåœ¨ç¨‹åºæ‰§è¡Œæ—¶ï¼Œæ‰€èµ°çš„ç¨‹åºè·¯å¾„æŒ‰ç…§è¿ç»­é¡ºåºæ’ä¸‹æ¥ï¼Œå‰é¢çš„å¿…é¡»å¤„ç†å¥½ï¼Œåé¢çš„æ‰ä¼šæ‰§è¡Œã€‚<br>ä½œä¸ºæµè§ˆå™¨è„šæœ¬è¯­è¨€ï¼ŒJavaScriptçš„ä¸»è¦ç”¨é€”æ˜¯ä¸ç”¨æˆ·äº’åŠ¨ï¼Œä»¥åŠæ“ä½œDOMã€‚è¿™å†³å®šäº†å®ƒåªèƒ½æ˜¯å•çº¿ç¨‹ï¼Œå¦åˆ™ä¼šå¸¦æ¥å¾ˆå¤æ‚çš„åŒæ­¥é—®é¢˜ã€‚æ¯”å¦‚ï¼Œå‡å®šJavaScriptåŒæ—¶æœ‰ä¸¤ä¸ªçº¿ç¨‹ï¼Œä¸€ä¸ªçº¿ç¨‹åœ¨æŸä¸ªDOMèŠ‚ç‚¹ä¸Šæ·»åŠ å†…å®¹ï¼Œå¦ä¸€ä¸ªçº¿ç¨‹åˆ é™¤äº†è¿™ä¸ªèŠ‚ç‚¹ï¼Œè¿™æ—¶æµè§ˆå™¨åº”è¯¥ä»¥å“ªä¸ªçº¿ç¨‹ä¸ºå‡†ï¼Ÿ<br>æ‰€ä»¥ï¼Œä¸ºäº†é¿å…å¤æ‚æ€§ï¼Œä»ä¸€è¯ç”Ÿï¼ŒJavaScriptå°±æ˜¯å•çº¿ç¨‹ã€‚</p>
<h2 id="æµè§ˆå™¨çš„å†…æ ¸æœºåˆ¶"><a href="#æµè§ˆå™¨çš„å†…æ ¸æœºåˆ¶" class="headerlink" title="æµè§ˆå™¨çš„å†…æ ¸æœºåˆ¶"></a>æµè§ˆå™¨çš„å†…æ ¸æœºåˆ¶</h2><p>æµè§ˆå™¨çš„å†…æ ¸æ˜¯å¤šçº¿ç¨‹çš„ï¼Œä¸€ä¸ªæµè§ˆå™¨ä¸€èˆ¬è‡³å°‘å®ç°ä¸‰ä¸ªå¸¸é©»çº¿ç¨‹ï¼š</p>
<ol>
<li>javascriptå¼•æ“ï¼šæ˜¯åŸºäºäº‹ä»¶é©±åŠ¨å•çº¿ç¨‹æ‰§è¡Œçš„ï¼Œjså¼•æ“ä¸€ç›´ç­‰å¾…ç€ä»»åŠ¡é˜Ÿåˆ—ä¸­ä»»åŠ¡çš„åˆ°æ¥ï¼Œç„¶ååŠ ä»¥å¤„ç†ï¼Œæµè§ˆå™¨æ— è®ºä»€ä¹ˆæ—¶å€™éƒ½åªæœ‰ä¸€ä¸ªjsçº¿ç¨‹åœ¨è¿è¡Œjsç¨‹åºã€‚</li>
<li>GUI æ¸²æŸ“çº¿ç¨‹ï¼šè´Ÿè´£æ¸²æŸ“æµè§ˆç•Œé¢ï¼Œå½“ç•Œé¢éœ€è¦é‡æ’ã€é‡ç»˜æˆ–ç”±äºæŸç§æ“ä½œå¼•å‘å›æµæ—¶ï¼Œè¯¥çº¿ç¨‹å°±ä¼šæ‰§è¡Œã€‚ä½†éœ€è¦æ³¨æ„ GUI æ¸²æŸ“çº¿ç¨‹ä¸ js å¼•æ“æ˜¯äº’æ–¥çš„ï¼Œå½“jså¼•æ“æ‰§è¡Œæ—¶GUIçº¿ç¨‹ä¼šè¢«æŒ‚èµ·ï¼Œ<br>GUI æ›´æ–°ä¼šè¢«ä¿å­˜åœ¨ä¸€ä¸ªé˜Ÿåˆ—ä¸­ç­‰åˆ°jså¼•æ“ç©ºé—²æ—¶ç«‹å³è¢«æ‰§è¡Œã€‚</li>
<li>äº‹ä»¶è§¦å‘çº¿ç¨‹ï¼šå½“ä¸€ä¸ªäº‹ä»¶è¢«è§¦å‘æ—¶è¯¥çº¿ç¨‹ä¼šæŠŠäº‹ä»¶æ·»åŠ åˆ°å¾…å¤„ç†åˆ—çš„é˜Ÿå°¾ï¼Œç­‰å¾…jså¼•æ“çš„å¤„ç†ã€‚</li>
</ol>
<h2 id="React-äº‹ä»¶ä¸-js-äº‹ä»¶çš„åŒºåˆ«"><a href="#React-äº‹ä»¶ä¸-js-äº‹ä»¶çš„åŒºåˆ«" class="headerlink" title="React äº‹ä»¶ä¸ js äº‹ä»¶çš„åŒºåˆ«"></a>React äº‹ä»¶ä¸ js äº‹ä»¶çš„åŒºåˆ«</h2><p>JSX ä¸Šå†™çš„äº‹ä»¶å¹¶æ²¡æœ‰ç»‘å®šåœ¨å¯¹åº”çš„çœŸå® DOM ä¸Šï¼Œè€Œæ˜¯é€šè¿‡äº‹ä»¶ä»£ç†çš„æ–¹å¼ï¼Œå°†æ‰€æœ‰çš„äº‹ä»¶éƒ½ç»Ÿä¸€ç»‘å®šåœ¨äº† document ä¸Šã€‚è¿™æ ·çš„æ–¹å¼ä¸ä»…å‡å°‘äº†å†…å­˜æ¶ˆè€—ï¼Œè¿˜èƒ½åœ¨ç»„ä»¶æŒ‚è½½é”€æ¯æ—¶ç»Ÿä¸€è®¢é˜…å’Œç§»é™¤äº‹ä»¶ã€‚<br>å¦å¤–å†’æ³¡åˆ° document ä¸Šçš„äº‹ä»¶ä¹Ÿä¸æ˜¯åŸç”Ÿæµè§ˆå™¨äº‹ä»¶ï¼Œè€Œæ˜¯ React è‡ªå·±å®ç°çš„åˆæˆäº‹ä»¶ï¼ˆSyntheticEventï¼‰ã€‚å› æ­¤æˆ‘ä»¬å¦‚æœä¸æƒ³è¦äº‹ä»¶å†’æ³¡çš„è¯ï¼Œè°ƒç”¨ event.stopPropagation æ˜¯æ— æ•ˆçš„ï¼Œè€Œåº”è¯¥è°ƒç”¨ event.preventDefaultã€‚</p>
<p>é‚£ä¹ˆå®ç°åˆæˆäº‹ä»¶çš„ç›®çš„æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿæ€»çš„æ¥è¯´åœ¨æˆ‘çœ‹æ¥å¥½å¤„æœ‰ä¸¤ç‚¹ï¼Œåˆ†åˆ«æ˜¯ï¼š</p>
<ul>
<li><p>åˆæˆäº‹ä»¶é¦–å…ˆæŠ¹å¹³äº†æµè§ˆå™¨ä¹‹é—´çš„å…¼å®¹é—®é¢˜ï¼Œå¦å¤–è¿™æ˜¯ä¸€ä¸ªè·¨æµè§ˆå™¨åŸç”Ÿäº‹ä»¶åŒ…è£…å™¨ï¼Œèµ‹äºˆäº†è·¨æµè§ˆå™¨å¼€å‘çš„èƒ½åŠ›</p>
</li>
<li><p>å¯¹äºåŸç”Ÿæµè§ˆå™¨äº‹ä»¶æ¥è¯´ï¼Œæµè§ˆå™¨ä¼šç»™ç›‘å¬å™¨åˆ›å»ºä¸€ä¸ªäº‹ä»¶å¯¹è±¡ã€‚å¦‚æœä½ æœ‰å¾ˆå¤šçš„äº‹ä»¶ç›‘å¬ï¼Œé‚£ä¹ˆå°±éœ€è¦åˆ†é…å¾ˆå¤šçš„äº‹ä»¶å¯¹è±¡ï¼Œé€ æˆé«˜é¢çš„å†…å­˜åˆ†é…é—®é¢˜ã€‚ä½†æ˜¯å¯¹äºåˆæˆäº‹ä»¶æ¥è¯´ï¼Œæœ‰ä¸€ä¸ªäº‹ä»¶æ± ä¸“é—¨æ¥ç®¡ç†å®ƒä»¬çš„åˆ›å»ºå’Œé”€æ¯ï¼Œå½“äº‹ä»¶éœ€è¦è¢«ä½¿ç”¨æ—¶ï¼Œå°±ä¼šä»æ± å­ä¸­å¤ç”¨å¯¹è±¡ï¼Œäº‹ä»¶å›è°ƒç»“æŸåï¼Œå°±ä¼šé”€æ¯äº‹ä»¶å¯¹è±¡ä¸Šçš„å±æ€§ï¼Œä»è€Œä¾¿äºä¸‹æ¬¡å¤ç”¨äº‹ä»¶å¯¹è±¡ã€‚</p>
</li>
</ul>
<h2 id="setState-çš„æ‰§è¡Œæµç¨‹"><a href="#setState-çš„æ‰§è¡Œæµç¨‹" class="headerlink" title="setState çš„æ‰§è¡Œæµç¨‹"></a>setState çš„æ‰§è¡Œæµç¨‹</h2><h2 id="EventLoop"><a href="#EventLoop" class="headerlink" title="EventLoop"></a>EventLoop</h2><h2 id="ç§»åŠ¨ç«¯é€‚é…"><a href="#ç§»åŠ¨ç«¯é€‚é…" class="headerlink" title="ç§»åŠ¨ç«¯é€‚é…"></a>ç§»åŠ¨ç«¯é€‚é…</h2><p>ç§»åŠ¨ç«¯çš„å±å¹•å®½åº¦å·®è·æ¯”è¾ƒå°ï¼ˆ4-8è‹±å¯¸ï¼‰ï¼ŒUIé¡µé¢é€šå¸¸ä¹Ÿä¼šä¿æŒä¸€è‡´çš„å¸ƒå±€æ–¹å¼ï¼Œåªæ˜¯æ–‡å­—ã€å›¾æ ‡ã€å¤§å›¾ç‰‡ç­‰å¯èƒ½ä¼šæ ¹æ®ä¸šåŠ¡éœ€è¦åšä¸€äº›å®šåˆ¶åŒ–çš„å¤„ç†ã€‚</p>
<p><strong>Padè®¾å¤‡è™½ç„¶ä¹Ÿæ˜¯ç§»åŠ¨è®¾å¤‡ï¼Œä½†æ˜¯å› ä¸ºå±å¹•è¶³å¤Ÿå®½ï¼Œæ‰€ä»¥ç°åœ¨å¤šæ•°äº§å“ï¼ˆæŸå®ï¼‰çš„æ–¹æ¡ˆéƒ½æ˜¯è®¿é—®PCç«™ç‚¹äº†</strong></p>
<h3 id="ç§»åŠ¨ç«¯å¤šå±é€‚é…çš„éœ€æ±‚ï¼Œå¸¸è§ä¸»è¦æœ‰ä¸¤ç±»ï¼š"><a href="#ç§»åŠ¨ç«¯å¤šå±é€‚é…çš„éœ€æ±‚ï¼Œå¸¸è§ä¸»è¦æœ‰ä¸¤ç±»ï¼š" class="headerlink" title="ç§»åŠ¨ç«¯å¤šå±é€‚é…çš„éœ€æ±‚ï¼Œå¸¸è§ä¸»è¦æœ‰ä¸¤ç±»ï¼š"></a>ç§»åŠ¨ç«¯å¤šå±é€‚é…çš„éœ€æ±‚ï¼Œå¸¸è§ä¸»è¦æœ‰ä¸¤ç±»ï¼š</h3><ol>
<li>å¸ƒå±€ä¼¸ç¼©å¼ï¼ˆå¸ƒå±€ä¼¸ç¼©ï¼Œå†…å®¹å¤§å°å›ºå®šæˆ–æ¢¯çº§å˜åŒ–ï¼‰</li>
<li>ç­‰æ¯”ç¼©æ”¾å¼ï¼ˆå¸ƒå±€å’Œå†…å®¹å®Œå…¨ç­‰æ¯”ä¾‹ç¼©æ”¾ï¼‰</li>
</ol>
<h4 id="å¸ƒå±€ä¼¸ç¼©å¼"><a href="#å¸ƒå±€ä¼¸ç¼©å¼" class="headerlink" title="å¸ƒå±€ä¼¸ç¼©å¼"></a>å¸ƒå±€ä¼¸ç¼©å¼</h4><p>å¸ƒå±€ä¼¸ç¼©å¼é€‚é…éœ€æ±‚ï¼Œå¸¸è§äºæ’ç‰ˆæ¯”è¾ƒç®€å•çš„ä¿¡æ¯æµå±•ç¤ºç±»ä¸šåŠ¡ã€‚<br>å…¶å¸ƒå±€ç‰¹ç‚¹ä¸€èˆ¬ä¸ºæ¨ªå‘ä¼¸ç¼©ï¼Œç«–å‘é«˜åº¦å›ºå®šæˆ–ç”±å†…å®¹å¡«å……å†³å®šï¼›æ–‡å­—å›¾æ ‡ç­‰ç½‘é¡µå†…å®¹ä¸€èˆ¬ä¼šå›ºå®šå¤§å°ï¼Œä¸”åœ¨å®½å±çª„å±ä¸Šçš„è§†è§‰å¤§å°ä¿æŒä¸€è‡´ã€‚</p>
<h5 id="æŠ€æœ¯æ–¹æ¡ˆ"><a href="#æŠ€æœ¯æ–¹æ¡ˆ" class="headerlink" title="æŠ€æœ¯æ–¹æ¡ˆ"></a>æŠ€æœ¯æ–¹æ¡ˆ</h5><ul>
<li>è®¾ç½® viewport å®½åº¦ä¸º device-widthï¼Œä»¥ä¿è¯ px ä¸ºå•ä½å–å€¼çš„ä¸€äº›æ–‡å­—å›¾æ ‡ç­‰ç½‘é¡µå†…å®¹è§†è§‰å¤§å°ç¬¦åˆé¢„æœŸä¸”å®½çª„å±å¤§å°ä¸€è‡´ã€‚ï¼ˆ css ä¸­çš„ px å–å€¼éœ€æŒ‰ä¸€å€å±çš„ UI ç¨¿æ¥å†™ï¼‰ã€‚</li>
<li>å¸ƒå±€æ–¹æ¡ˆçµæ´»ä½¿ç”¨ç›¸å¯¹å•ä½ %/float/flex ç­‰ï¼Œä»¥ä¿è¯å¸ƒå±€çš„æ¨ªå‘ä¼¸ç¼©å’Œå®¹å™¨å†…å„å…ƒç´ çš„å¤§å°é—´è·ç¬¦åˆé¢„æœŸï¼›</li>
<li>ç»„åˆåŒ…è£¹ç›¸å…³å…ƒç´ ï¼Œå¹¶ç›¸å¯¹æŸä¸€æ–¹å‘åšå®šä½ï¼Œä»¥ä¿è¯å®½åº¦å˜åŒ–æ—¶çš„å®šä½ç¨³å®šã€‚</li>
</ul>
<h4 id="ç­‰æ¯”ç¼©æ”¾å¼"><a href="#ç­‰æ¯”ç¼©æ”¾å¼" class="headerlink" title="ç­‰æ¯”ç¼©æ”¾å¼"></a>ç­‰æ¯”ç¼©æ”¾å¼</h4><p>ç­‰æ¯”ç¼©æ”¾å¼é€‚é…éœ€æ±‚ï¼Œå¹¿æ³›åº”ç”¨äºå„ç§äº§å“ç±»ã€è¿è¥ç±»ç­‰ä¸šåŠ¡åœºæ™¯ã€‚<br>å…¶å¸ƒå±€ç‰¹ç‚¹ç®€å•ç²—æš´ï¼Œå°±æ˜¯æ ¹æ®å±å¹•å®½åº¦æ•´ä¸ªé¡µé¢ç­‰æ¯”ç¼©æ”¾ã€‚</p>
<h6 id="rem"><a href="#rem" class="headerlink" title="rem"></a>rem</h6><p>rem æ˜¯ css3 æ–°å¢çš„ç›¸å¯¹äºæ ¹å…ƒç´  html çš„ font-size è®¡ç®—å€¼çš„å¤§å°çš„å€æ•°å•ä½ã€‚</p>
<ul>
<li>è®¾ç½® viewport å®½åº¦ä¸º device-width æˆ–å…¶ä»–å›ºå®šå€¼ï¼Œä»¥å¾—åˆ° px ä¸ºå•ä½çš„æ–‡å­—ã€å›¾æ ‡æˆ–è¾¹çº¿ç­‰æ•ˆæœ</li>
<li>css å•ä½ä½¿ç”¨ remï¼Œjs æ ¹æ® viewport å®½åº¦ä»¥åŠ css ä¸­çš„ remçš„æ¢ç®—ç³»æ•°ï¼ŒåŠ¨æ€è®¡ç®—å¹¶è®¾ç½® html æ ¹èŠ‚ç‚¹ font-sizeï¼Œä»¥å®ç°æ•´ä¸ªé¡µé¢å†…å®¹çš„ç­‰æ¯”ä¾‹ç¼©æ”¾ã€‚</li>
</ul>
<blockquote>
<p>rem ä¸ºåŸºç¡€çš„åŠ¨æ€é€‚é…æ–¹æ¡ˆ<br>è®¾ï¼šæ¨ªå‘æ»¡å±çš„ rem ä¸ªæ•°é¢„å®šä¸º remCountï¼Œæ ‡æ³¨ç¨¿æ€»å®½åº¦ px ä¸º uiWidthï¼Œæ ‡æ³¨ç¨¿å†…æŸå…ƒç´ å®½åº¦ä¸º uiEleWidthã€‚<br>é‚£ä¹ˆï¼š<br>â— è®¾è®¡ç¨¿ä¸­ 1rem è¡¨ç¤ºçš„ px æ•° uiPX1rem = uiWidth/remCount<br>â— CSS ä¸­æŸå…ƒç´  rem çš„å€¼ cssEleWidth= uiEleWidth/uiPX1rem<br>â— JS ä¸­æ ¹èŠ‚ç‚¹çš„ fontSize = document.documentElement.clientWidth/remCount</p>
</blockquote>
<p>github ä¸­è¿‘ 1 ä¸‡ star çš„ js åº“lib-flexible ä¾¿æ˜¯é‡‡ç”¨çš„æ­¤æ–¹æ¡ˆã€‚</p>
<h6 id="viewport-units"><a href="#viewport-units" class="headerlink" title="viewport units"></a>viewport units</h6><p>1vw å³è¡¨ç¤ºå½“å‰è§†å£å®½åº¦çš„ 1%ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¿™ä¸€ç‚¹æ›¿ä»£â€œrem+æ ¹èŠ‚ç‚¹ font-sizeâ€çš„ç­‰æ¯”ç¼©æ”¾å®ç°ã€‚<br>ä¸¾ä¸ªä¾‹å­ï¼Œ750px çš„ UI ç¨¿ä¸­ï¼Œå®½åº¦ 75px çš„æŒ‰é’®ï¼Œåœ¨ css ä¸­çš„å®½åº¦æè¿°å³ä¸ºï¼šwidth:10vwã€‚</p>
<h6 id="viewport-meta-only"><a href="#viewport-meta-only" class="headerlink" title="viewport meta only"></a>viewport meta only</h6><h2 id="h5ä¸åŸç”Ÿå¦‚ä½•äº¤äº’"><a href="#h5ä¸åŸç”Ÿå¦‚ä½•äº¤äº’" class="headerlink" title="h5ä¸åŸç”Ÿå¦‚ä½•äº¤äº’"></a>h5ä¸åŸç”Ÿå¦‚ä½•äº¤äº’</h2><ol>
<li>appè°ƒç”¨h5çš„ä»£ç </li>
</ol>
<p>å› ä¸ºappæ˜¯å®¿ä¸»ï¼Œå¯ä»¥ç›´æ¥è®¿é—®h5ï¼Œæ‰€ä»¥è¿™ç§è°ƒç”¨æ¯”è¾ƒç®€å•ï¼Œå°±æ˜¯åœ¨h5ä¸­æš´éœ²ä¸€äº›å…¨å±€å¯¹è±¡ï¼ˆåŒ…æ‹¬æ–¹æ³•ï¼‰ï¼Œç„¶ååœ¨åŸç”Ÿappä¸­è°ƒç”¨è¿™äº›å¯¹è±¡ã€‚</p>
<ol start="2">
<li>h5è°ƒç”¨appçš„ä»£ç </li>
</ol>
<ul>
<li>ç”±appå‘h5æ³¨å…¥ä¸€ä¸ªå…¨å±€çš„jså¯¹è±¡ï¼Œç„¶ååœ¨h5ç›´æ¥è®¿é—®è¿™ä¸ªå¯¹è±¡</li>
<li>ç”±h5å‘èµ·ä¸€ä¸ªè‡ªå®šä¹‰åè®®è¯·æ±‚ï¼Œappæ‹¦æˆªè¿™ä¸ªè¯·æ±‚åï¼Œå†ç”±appè°ƒç”¨h5ä¸­çš„å›è°ƒå‡½æ•°</li>
</ul>
<h2 id="ä»€ä¹ˆæ˜¯-â€œReact-Fiberâ€ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯-â€œReact-Fiberâ€ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯ â€œReact Fiberâ€ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯ â€œReact Fiberâ€ï¼Ÿ</h2><p>Fiber æ˜¯ React 16 ä¸­æ–°çš„åè°ƒå¼•æ“ã€‚å®ƒçš„ä¸»è¦ç›®çš„æ˜¯ä½¿ Virtual DOM å¯ä»¥è¿›è¡Œå¢é‡å¼æ¸²æŸ“ã€‚</p>
<h2 id="HOC-æ˜¯ä»€ä¹ˆï¼Ÿç›¸æ¯”-mixins-æœ‰ä»€ä¹ˆä¼˜ç‚¹ï¼Ÿ"><a href="#HOC-æ˜¯ä»€ä¹ˆï¼Ÿç›¸æ¯”-mixins-æœ‰ä»€ä¹ˆä¼˜ç‚¹ï¼Ÿ" class="headerlink" title="HOC æ˜¯ä»€ä¹ˆï¼Ÿç›¸æ¯” mixins æœ‰ä»€ä¹ˆä¼˜ç‚¹ï¼Ÿ"></a>HOC æ˜¯ä»€ä¹ˆï¼Ÿç›¸æ¯” mixins æœ‰ä»€ä¹ˆä¼˜ç‚¹ï¼Ÿ</h2><p>React çš„æ€æƒ³ä¸­æ˜¯å­˜åœ¨å‡½æ•°å¼ç¼–ç¨‹çš„ï¼Œé«˜é˜¶ç»„ä»¶å’Œé«˜é˜¶å‡½æ•°å°±æ˜¯åŒä¸€ä¸ªä¸œè¥¿ã€‚æˆ‘ä»¬å®ç°ä¸€ä¸ªå‡½æ•°ï¼Œä¼ å…¥ä¸€ä¸ªç»„ä»¶ï¼Œç„¶ååœ¨å‡½æ•°å†…éƒ¨å†å®ç°ä¸€ä¸ªå‡½æ•°å»æ‰©å±•ä¼ å…¥çš„ç»„ä»¶ï¼Œæœ€åè¿”å›ä¸€ä¸ªæ–°çš„ç»„ä»¶ï¼Œè¿™å°±æ˜¯é«˜é˜¶ç»„ä»¶çš„æ¦‚å¿µï¼Œä½œç”¨å°±æ˜¯ä¸ºäº†æ›´å¥½çš„å¤ç”¨ä»£ç ã€‚</p>
<p>å…¶å® HOC å’Œ Vue ä¸­çš„ mixins ä½œç”¨æ˜¯ä¸€è‡´çš„ï¼Œå¹¶ä¸”åœ¨æ—©æœŸ React ä¹Ÿæ˜¯ä½¿ç”¨ mixins çš„æ–¹å¼ã€‚ä½†æ˜¯åœ¨ä½¿ç”¨ class çš„æ–¹å¼åˆ›å»ºç»„ä»¶ä»¥åï¼Œmixins çš„æ–¹å¼å°±ä¸èƒ½ä½¿ç”¨äº†ï¼Œå¹¶ä¸”å…¶å® mixins ä¹Ÿæ˜¯å­˜åœ¨ä¸€äº›é—®é¢˜çš„ï¼Œæ¯”å¦‚ï¼š</p>
<ul>
<li>éšå«äº†ä¸€äº›ä¾èµ–ï¼Œæ¯”å¦‚æˆ‘åœ¨ç»„ä»¶ä¸­å†™äº†æŸä¸ª state å¹¶ä¸”åœ¨ mixin ä¸­ä½¿ç”¨äº†ï¼Œå°±è¿™å­˜åœ¨äº†ä¸€ä¸ªä¾èµ–å…³ç³»ã€‚ä¸‡ä¸€ä¸‹æ¬¡åˆ«äººè¦ç§»é™¤å®ƒï¼Œå°±å¾—å» mixin ä¸­æŸ¥æ‰¾ä¾èµ–</li>
<li>å¤šä¸ª mixin ä¸­å¯èƒ½å­˜åœ¨ç›¸åŒå‘½åçš„å‡½æ•°ï¼ŒåŒæ—¶ä»£ç ç»„ä»¶ä¸­ä¹Ÿä¸èƒ½å‡ºç°ç›¸åŒå‘½åçš„å‡½æ•°ï¼Œå¦åˆ™å°±æ˜¯é‡å†™äº†ï¼Œå…¶å®æˆ‘ä¸€ç›´è§‰å¾—å‘½åçœŸçš„æ˜¯ä¸€ä»¶éº»çƒ¦äº‹ã€‚</li>
<li>é›ªçƒæ•ˆåº”ï¼Œè™½ç„¶æˆ‘ä¸€ä¸ªç»„ä»¶è¿˜æ˜¯ä½¿ç”¨ç€åŒä¸€ä¸ª mixinï¼Œä½†æ˜¯ä¸€ä¸ª mixin ä¼šè¢«å¤šä¸ªç»„ä»¶ä½¿ç”¨ï¼Œå¯èƒ½ä¼šå­˜åœ¨éœ€æ±‚ä½¿å¾— mixin ä¿®æ”¹åŸæœ¬çš„å‡½æ•°æˆ–è€…æ–°å¢æ›´å¤šçš„å‡½æ•°ï¼Œè¿™æ ·å¯èƒ½å°±ä¼šäº§ç”Ÿä¸€ä¸ªç»´æŠ¤æˆæœ¬</li>
</ul>
<p>HOC è§£å†³äº†è¿™äº›é—®é¢˜ï¼Œå¹¶ä¸”å®ƒä»¬è¾¾æˆçš„æ•ˆæœä¹Ÿæ˜¯ä¸€è‡´çš„ï¼ŒåŒæ—¶ä¹Ÿæ›´åŠ çš„æ”¿æ²»æ­£ç¡®ï¼ˆæ¯•ç«Ÿæ›´åŠ å‡½æ•°å¼äº†ï¼‰ã€‚</p>
<h2 id="ä»€ä¹ˆæ˜¯ä½œç”¨åŸŸé“¾"><a href="#ä»€ä¹ˆæ˜¯ä½œç”¨åŸŸé“¾" class="headerlink" title="ä»€ä¹ˆæ˜¯ä½œç”¨åŸŸé“¾?"></a>ä»€ä¹ˆæ˜¯ä½œç”¨åŸŸé“¾?</h2><p>å½“ä»£ç åœ¨ä¸€ä¸ªç¯å¢ƒä¸­æ‰§è¡Œæ—¶ï¼Œä¼šåˆ›å»ºå˜é‡å¯¹è±¡çš„ä¸€ä¸ªä½œç”¨åŸŸé“¾ã€‚</p>
<p><strong>ä»€ä¹ˆæ˜¯ä½œç”¨åŸŸ</strong></p>
<p>å˜é‡çš„ä½œç”¨åŸŸåˆ†ä¸ºä¸¤ç§ï¼šå…¨å±€å˜é‡å’Œå±€éƒ¨å˜é‡ã€‚<br>1ã€å…¨å±€ä½œç”¨åŸŸï¼š æœ€å¤–å±‚å‡½æ•°å®šä¹‰çš„å˜é‡æ‹¥æœ‰å…¨å±€ä½œç”¨åŸŸï¼Œå³å¯¹ä»»ä½•å†…éƒ¨å‡½æ•°æ¥è¯´ï¼Œéƒ½æ˜¯å¯ä»¥è®¿é—®çš„ï¼›<br>2ã€å±€éƒ¨ä½œç”¨åŸŸï¼š å±€éƒ¨ä½œç”¨åŸŸä¸€èˆ¬åªåœ¨å›ºå®šçš„ä»£ç ç‰‡æ®µå†…å¯è®¿é—®åˆ°ï¼Œè€Œå¯¹äºå‡½æ•°å¤–éƒ¨æ˜¯æ— æ³•è®¿é—®çš„ï¼Œæœ€å¸¸è§çš„ä¾‹å¦‚å‡½æ•°å†…éƒ¨ã€‚</p>
<h2 id="webpack-ä¼˜åŒ–-webpack4-ä¸-webpack3-çš„åŒºåˆ«"><a href="#webpack-ä¼˜åŒ–-webpack4-ä¸-webpack3-çš„åŒºåˆ«" class="headerlink" title="webpack ä¼˜åŒ–, webpack4 ä¸ webpack3 çš„åŒºåˆ«"></a>webpack ä¼˜åŒ–, webpack4 ä¸ webpack3 çš„åŒºåˆ«</h2>]]></content>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title>NextTick åŸç†åˆ†æ</title>
    <url>/2019/06/13/2019/June/NextTick/README/</url>
    <content><![CDATA[<h1 id="NextTick-åŸç†åˆ†æ"><a href="#NextTick-åŸç†åˆ†æ" class="headerlink" title="NextTick åŸç†åˆ†æ"></a>NextTick åŸç†åˆ†æ</h1><p>nextTickå¯ä»¥è®©æˆ‘ä»¬åœ¨ä¸‹æ¬¡DOMæ›´æ–°å¾ªç¯ç»“æŸä¹‹åæ‰§è¡Œå»¶è¿Ÿå›è°ƒï¼Œç”¨äºè·å¾—æ›´æ–°åçš„DOMã€‚</p>
<p>åœ¨Vue2.4ä¹‹å‰éƒ½æ˜¯ä½¿ç”¨çš„microtasksï¼Œä½†æ˜¯microtasksçš„ä¼˜å…ˆçº§è¿‡é«˜ï¼Œåœ¨æŸäº›æƒ…å†µä¸‹å¯èƒ½ä¼šå‡ºç°æ¯”äº‹ä»¶å†’æ³¡æ›´å¿«çš„æƒ…å†µï¼Œä½†å¦‚æœéƒ½æ˜¯macrotasksåˆå¯èƒ½ä¼šå‡ºç°æ¸²æŸ“çš„æ€§èƒ½é—®é¢˜ã€‚æ‰€ä»¥åœ¨æ–°ç‰ˆæœ¬ä¸­ï¼Œä¼šé»˜è®¤ä½¿ç”¨microtasksï¼Œä½†åœ¨ç‰¹æ®Šæƒ…å†µä¸‹ä¼šä½¿ç”¨macrotasksï¼Œæ¯”å¦‚v-onã€‚</p>
<p>å¯¹äºå®ç°macrotasksï¼Œä¼šå…ˆåˆ¤æ–­æ˜¯å¦èƒ½ä½¿ç”¨setImmediateï¼Œä¸èƒ½çš„è¯é™çº§ä¸ºMessageChannelï¼Œä»¥ä¸Šéƒ½ä¸è¡Œçš„è¯å°±ä½¿ç”¨setTimeoutã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="keyword">typeof</span> setImmediate !== <span class="string">'undefined'</span> &amp;&amp; isNative(setImmediate)) &#123;</span><br><span class="line">  macroTimerFunc = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    setImmediate(flushCallbacks)</span><br><span class="line">  &#125;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (</span><br><span class="line">  <span class="keyword">typeof</span> MessageChannel !== <span class="string">'undefined'</span> &amp;&amp;</span><br><span class="line">  (isNative(MessageChannel) ||</span><br><span class="line">    <span class="comment">// PhantomJS</span></span><br><span class="line">    MessageChannel.toString() === <span class="string">'[object MessageChannelConstructor]'</span>)</span><br><span class="line">) &#123;</span><br><span class="line">  <span class="keyword">const</span> channel = <span class="keyword">new</span> MessageChannel()</span><br><span class="line">  <span class="keyword">const</span> port = channel.port2</span><br><span class="line">  channel.port1.onmessage = flushCallbacks</span><br><span class="line">  macroTimerFunc = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    port.postMessage(<span class="number">1</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  macroTimerFunc = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    setTimeout(flushCallbacks, <span class="number">0</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä»¥ä¸Šä»£ç ç”¨æ¥åˆ¤æ–­èƒ½ä¸èƒ½ä½¿ç”¨ç›¸åº”çš„APIã€‚</p>
<h2 id="æ³¨è§£"><a href="#æ³¨è§£" class="headerlink" title="æ³¨è§£"></a>æ³¨è§£</h2><ul>
<li>macrotasksï¼ˆå®ä»»åŠ¡ï¼‰ï¼š setTimeout, setInterval, setImmediate, I/O, UI rendering</li>
<li>microtasksï¼ˆå¾®ä»»åŠ¡ï¼‰ï¼š process.nextTick, Promise, MutationObserver</li>
</ul>
]]></content>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title>gitçš„åŸºæœ¬æ“ä½œ</title>
    <url>/2019/06/09/2019/June/git/README/</url>
    <content><![CDATA[<h1 id="git"><a href="#git" class="headerlink" title="git"></a>git</h1><ul>
<li><a href="#rebase-%E5%90%88%E5%B9%B6">Rebase åˆå¹¶</a></li>
<li><a href="#stash">stash</a></li>
<li><a href="#reflog">reflog</a></li>
<li><a href="#reset">Reset</a></li>
</ul>
<h2 id="Rebase-åˆå¹¶"><a href="#Rebase-åˆå¹¶" class="headerlink" title="Rebase åˆå¹¶"></a>Rebase åˆå¹¶</h2><p>è¯¥å‘½ä»¤å¯ä»¥è®©å’Œ <code>merge</code> å‘½ä»¤å¾—åˆ°çš„ç»“æœåŸºæœ¬æ˜¯ä¸€è‡´çš„ã€‚</p>
<p>é€šå¸¸ä½¿ç”¨ <code>merge</code> æ“ä½œå°†åˆ†æ”¯ä¸Šçš„ä»£ç åˆå¹¶åˆ° <code>master</code> ä¸­ï¼Œåˆ†æ”¯æ ·å­å¦‚ä¸‹æ‰€ç¤º</p>
<p><img src="https://user-gold-cdn.xitu.io/2018/4/23/162f109db27be054?w=505&amp;h=461&amp;f=png&amp;s=22796" alt=""></p>
<p>ä½¿ç”¨ <code>rebase</code> åï¼Œä¼šå°† <code>develop</code> ä¸Šçš„ <code>commit</code> æŒ‰é¡ºåºç§»åˆ° <code>master</code> çš„ç¬¬ä¸‰ä¸ª <code>commit</code> åé¢ï¼Œåˆ†æ”¯æ ·å­å¦‚ä¸‹æ‰€ç¤º</p>
<p><img src="https://user-gold-cdn.xitu.io/2018/4/23/162f11cc2cb8b332?w=505&amp;h=563&amp;f=png&amp;s=26514" alt=""></p>
<p>Rebase å¯¹æ¯” mergeï¼Œä¼˜åŠ¿åœ¨äºåˆå¹¶åçš„ç»“æœå¾ˆæ¸…æ™°ï¼Œåªæœ‰ä¸€æ¡çº¿ï¼ŒåŠ£åŠ¿åœ¨äºå¦‚æœä¸€æ—¦å‡ºç°å†²çªï¼Œè§£å†³å†²çªå¾ˆéº»çƒ¦ï¼Œå¯èƒ½è¦è§£å†³å¤šä¸ªå†²çªï¼Œä½†æ˜¯ merge å‡ºç°å†²çªåªéœ€è¦è§£å†³ä¸€æ¬¡ã€‚</p>
<p>ä½¿ç”¨ rebase åº”è¯¥åœ¨éœ€è¦è¢« rebase çš„åˆ†æ”¯ä¸Šæ“ä½œï¼Œå¹¶ä¸”è¯¥åˆ†æ”¯æ˜¯æœ¬åœ°åˆ†æ”¯ã€‚å¦‚æœ <code>develop</code> åˆ†æ”¯éœ€è¦ rebase åˆ° <code>master</code> ä¸Šå»ï¼Œé‚£ä¹ˆåº”è¯¥å¦‚ä¸‹æ“ä½œ</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># branch develop</span></span></span><br><span class="line">git rebase master</span><br><span class="line">git checkout master</span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># ç”¨äºå°† `master` ä¸Šçš„ HEAD ç§»åŠ¨åˆ°æœ€æ–°çš„ commit</span></span></span><br><span class="line">git merge develop</span><br></pre></td></tr></table></figure>
<h2 id="stash"><a href="#stash" class="headerlink" title="stash"></a>stash</h2><p><code>stash</code> ç”¨äºä¸´æ—¶æŠ¥é”™å·¥ä½œç›®å½•çš„æ”¹åŠ¨ã€‚å¼€å‘ä¸­å¯èƒ½ä¼šé‡åˆ°ä»£ç å†™ä¸€åŠéœ€è¦åˆ‡åˆ†æ”¯æ‰“åŒ…çš„é—®é¢˜ï¼Œå¦‚æœè¿™æ—¶å€™ä½ ä¸æƒ³ <code>commit</code> çš„è¯ï¼Œå°±å¯ä»¥ä½¿ç”¨è¯¥å‘½ä»¤ã€‚</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git stash</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨è¯¥å‘½ä»¤å¯ä»¥æš‚å­˜ä½ çš„å·¥ä½œç›®å½•ï¼Œåé¢æƒ³æ¢å¤å·¥ä½œç›®å½•ï¼Œåªéœ€è¦ä½¿ç”¨</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git stash apply</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨applyå‘½ä»¤æ¢å¤ï¼Œstashåˆ—è¡¨ä¸­çš„ä¿¡æ¯æ˜¯ä¼šç»§ç»­ä¿ç•™çš„</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git stash pop</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨popæ¢å¤ï¼Œå¹¶ä¸”ä¼šåˆ é™¤æš‚å­˜åˆ—è¡¨</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git stash list</span><br></pre></td></tr></table></figure>
<p>æŸ¥çœ‹æš‚å­˜åˆ—è¡¨</p>
<h2 id="reflog"><a href="#reflog" class="headerlink" title="reflog"></a>reflog</h2><p><code>reflog</code> å¯ä»¥çœ‹åˆ° HEAD çš„ç§»åŠ¨è®°å½•ï¼Œå‡å¦‚ä¹‹å‰è¯¯åˆ äº†ä¸€ä¸ªåˆ†æ”¯ï¼Œå¯ä»¥é€šè¿‡ <code>git reflog</code> çœ‹åˆ°ç§»åŠ¨ HEAD çš„å“ˆå¸Œå€¼</p>
<p><img src="https://user-gold-cdn.xitu.io/2018/4/23/162f14df98ce3d83?w=950&amp;h=118&amp;f=png&amp;s=77151" alt=""></p>
<p>ä»å›¾ä¸­å¯ä»¥çœ‹å‡ºï¼ŒHEAD çš„æœ€åä¸€æ¬¡ç§»åŠ¨è¡Œä¸ºæ˜¯ <code>merge</code> åï¼Œæ¥ä¸‹æ¥åˆ†æ”¯ <code>new</code> å°±è¢«åˆ é™¤äº†ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤æ‰¾å› <code>new</code> åˆ†æ”¯</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git checkout 37d9aca</span><br><span class="line">git checkout -b new</span><br></pre></td></tr></table></figure>
<p>PSï¼š<code>reflog</code> è®°å½•æ˜¯æ—¶æ•ˆçš„ï¼Œåªä¼šä¿å­˜ä¸€æ®µæ—¶é—´å†…çš„è®°å½•ã€‚</p>
<h2 id="Reset"><a href="#Reset" class="headerlink" title="Reset"></a>Reset</h2><p>å¦‚æœä½ æƒ³åˆ é™¤åˆšå†™çš„ commitï¼Œå°±å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤å®ç°</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git reset --hard HEAD^</span><br></pre></td></tr></table></figure>
<p>ä½†æ˜¯ <code>reset</code> çš„æœ¬è´¨å¹¶ä¸æ˜¯åˆ é™¤äº† commitï¼Œè€Œæ˜¯é‡æ–°è®¾ç½®äº† HEAD å’Œå®ƒæŒ‡å‘çš„ branchã€‚</p>
<h1 id="git-å¸¸ç”¨æ“ä½œ"><a href="#git-å¸¸ç”¨æ“ä½œ" class="headerlink" title="git å¸¸ç”¨æ“ä½œ"></a>git å¸¸ç”¨æ“ä½œ</h1><p>$ git ch(checkout) -b develop  åˆ›å»ºå¼€å‘åˆ†æ”¯develop</p>
<p>$ git push  æ¨é€å½“å‰åˆ†æ”¯åˆ°è¿œç«¯ä»“åº“</p>
<p>$ git st(status)  æŸ¥çœ‹å½“å‰åˆ†æ”¯å·¥ä½œåŒºã€æš‚å­˜åŒºçš„å·¥ä½œçŠ¶æ€</p>
<p>$ git diff   diffæ–‡ä»¶çš„ä¿®æ”¹</p>
<p>$ git ci(commit) .  æäº¤æœ¬æ¬¡ä¿®æ”¹</p>
<p>$ git fetch â€“all  æ‹‰å–æ‰€æœ‰è¿œç«¯çš„æœ€æ–°ä»£ç </p>
<p>$ git merge origin/develop  å¦‚æœæ˜¯å¤šäººåä½œï¼ŒmergeåŒäº‹çš„ä¿®æ”¹åˆ°å½“å‰åˆ†æ”¯ï¼ˆå…ˆäººåå·±åŸåˆ™ï¼‰</p>
<p>$ git merge origin/master   ä¸Šçº¿ä¹‹å‰ä¿è¯å½“å‰åˆ†æ”¯ä¸è½åäºè¿œç«¯origin/masterï¼Œä¸€å®šè¦mergeè¿œç«¯origin/masteråˆ°å½“å‰åˆ†æ”¯</p>
<p>$ git push  æ¨é€å½“å‰åˆ†æ”¯åˆ°è¿œç«¯ä»“åº“</p>
<p>$ git merge â€“no-ff origin/develop  åŒäº‹review codeä¹‹åç®¡ç†å‘˜åˆå¹¶origin/developåˆ°è¿œç«¯ä¸»å¹²origin/master</p>
<hr>
<p>ğŸ‘‰ HEADï¼šå½“å‰commitå¼•ç”¨$ git version  gitç‰ˆæœ¬</p>
<p>$ git branch  æŸ¥çœ‹æœ¬åœ°æ‰€æœ‰çš„åˆ†æ”¯</p>
<p>$ git branch -r æŸ¥çœ‹æ‰€æœ‰è¿œç¨‹çš„åˆ†æ”¯</p>
<p>$ git branch -a æŸ¥çœ‹æ‰€æœ‰è¿œç¨‹åˆ†æ”¯å’Œæœ¬åœ°åˆ†æ”¯</p>
<p>$ git branch -d <branchname> åˆ é™¤æœ¬åœ°branchnameåˆ†æ”¯</branchname></p>
<p>$ git branch -m brancholdname  branchnewname é‡å‘½ååˆ†æ”¯</p>
<p>$ git branch <branchname>   åˆ›å»ºbranchnameåˆ†æ”¯</branchname></p>
<p>$ git checkout <branchname> åˆ‡æ¢åˆ†æ”¯åˆ°branchname</branchname></p>
<p>$ git checkout -b <branchname> ç­‰åŒäºæ‰§è¡Œä¸Šä¸¤æ­¥ï¼Œå³åˆ›å»ºæ–°çš„åˆ†æ”¯å¹¶åˆ‡æ¢åˆ°è¯¥åˆ†æ”¯</branchname></p>
<p>$ git checkout â€“ xx/xx  æ’¤é”€æœ¬æ–‡ä»¶çš„æ›´æ”¹</p>
<p>$ git pull origin master:master å°†è¿œç¨‹originä¸»æœºçš„masteråˆ†æ”¯åˆå¹¶åˆ°å½“å‰masteråˆ†æ”¯,å†’å·åé¢çš„éƒ¨åˆ†è¡¨ç¤ºå½“å‰æœ¬åœ°æ‰€åœ¨çš„åˆ†æ”¯</p>
<p>$ git pull origin master â€“allow-unrelated-histories  å…è®¸åˆå¹¶ä¸¤ä¸ªä¸åŒé¡¹ç›®çš„å†å²è®°å½•</p>
<p>$ git push origin -d <branchname>   åˆ é™¤è¿œç¨‹branchnameåˆ†æ”¯</branchname></p>
<p>$ git fetch â€“p  æ›´æ–°åˆ†æ”¯</p>
<p>$ git status æŸ¥çœ‹æœ¬åœ°å·¥ä½œåŒºã€æš‚å­˜åŒºæ–‡ä»¶çš„ä¿®æ”¹çŠ¶æ€</p>
<p>$ git add xx  æŠŠxxæ–‡ä»¶æ·»åŠ åˆ°æš‚å­˜åŒºå»</p>
<p>$ git commit -m â€˜ â€˜  æäº¤æ–‡ä»¶ -m åé¢çš„æ˜¯æ³¨é‡Š</p>
<p>$ git commit -am(-a -m) æäº¤æ‰€æœ‰çš„ä¿®æ”¹ï¼Œç­‰åŒäºä¸Šä¸¤æ­¥</p>
<p>$ git commit ./xx   ç­‰åŒäºgit add ./xx + git commit</p>
]]></content>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title>æ„é€ æ–¹æ³•constructor</title>
    <url>/2019/05/03/2019/May/Classes/README/</url>
    <content><![CDATA[<h2 id="æ„é€ æ–¹æ³•"><a href="#æ„é€ æ–¹æ³•" class="headerlink" title="æ„é€ æ–¹æ³•"></a>æ„é€ æ–¹æ³•</h2><p>constructoræ˜¯ä¸€ç§ç”¨äºåˆ›å»ºå’Œåˆå§‹åŒ–classåˆ›å»ºçš„å¯¹è±¡çš„ç‰¹æ®Šæ–¹æ³•ã€‚<br><strong>æè¿°</strong></p>
<ol>
<li>åœ¨ä¸€ä¸ªç±»ä¸­åªèƒ½æœ‰ä¸€ä¸ªåå«â€constructorâ€çš„ç‰¹æ®Šæ–¹æ³•ã€‚ä¸€ä¸ªç±»ä¸­å‡ºç°å¤šæ¬¡å°†ä¼šæŠ›å‡ºSyntaxErroré”™è¯¯ã€‚</li>
<li>åœ¨ä¸€ä¸ªæ„é€ æ–¹æ³•ä¸­å¯ä»¥ä½¿ç”¨superå…³é”®å­—æ¥è°ƒç”¨ä¸€ä¸ªçˆ¶ç±»çš„æ„é€ æ–¹æ³•</li>
<li>å¦‚æœæ²¡æœ‰æ˜¾ç¤ºæŒ‡å®šæ„é€ æ–¹æ³•ï¼Œåˆ™ä¼šæ·»åŠ é»˜è®¤çš„construtoræ–¹æ³•ã€‚</li>
<li>å¦‚æœä¸æŒ‡å®šä¸€ä¸ªæ„é€ å‡½æ•°ï¼ˆconstructorï¼‰æ–¹æ³•ï¼Œåˆ™ä½¿ç”¨ä¸€ä¸ªé»˜è®¤çš„æ„é€ å‡½æ•°ï¼ˆconstructorï¼‰</li>
</ol>
<blockquote>
<p>å¦‚æœä¸æŒ‡å®šæ„é€ æ–¹æ³•ï¼Œåˆ™ä½¿ç”¨é»˜è®¤æ„é€ å‡½æ•°ã€‚å¯¹äºåŸºç±»ï¼Œé»˜è®¤æ„é€ å‡½æ•°æ˜¯ï¼š</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">constructor</span>() &#123;&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>å¯¹äºæ´¾ç”Ÿç±»ï¼Œé»˜è®¤æ„é€ å‡½æ•°æ˜¯ï¼š</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">constructor</span>(...args) &#123;</span><br><span class="line">  <span class="keyword">super</span>(...args);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="extends"><a href="#extends" class="headerlink" title="extends"></a>extends</h3><p>extendså…³é”®å­—ç”¨äºç±»å£°æ˜æˆ–è€…ç±»è¡¨è¾¾å¼ä¸­ï¼Œä»¥åˆ›å»ºä¸€ä¸ªç±»ï¼Œè¯¥ç±»æ˜¯å¦ä¸€ä¸ªç±»çš„å­ç±»ã€‚<br><strong>æè¿°</strong></p>
<p>extendså…³é”®å­—ç”¨æ¥åˆ›å»ºä¸€ä¸ªæ™®é€šç±»æˆ–è€…å†…å»ºå¯¹è±¡çš„å­ç±»<br>ç»§æ‰¿çš„.prototypeå¿…é¡»æ˜¯ä¸€ä¸ªObjectæˆ–è€…nullã€‚</p>
<h3 id="static"><a href="#static" class="headerlink" title="static"></a>static</h3><p>ç±»ï¼ˆclassï¼‰é€šè¿‡staticå…³é”®å­—å®šä¹‰é™æ€æ–¹æ³•ã€‚ä¸èƒ½åœ¨ç±»çš„å®ä¾‹ä¸Šè°ƒç”¨é™æ€æ–¹æ³•ï¼Œè€Œåº”è¯¥é€šè¿‡ç±»æœ¬èº«è°ƒç”¨ã€‚è¿™äº›é€šå¸¸æ˜¯å®ç”¨ç¨‹åºæ–¹æ³•ï¼Œä¾‹å¦‚åˆ›å»ºæˆ–å…‹éš†å¯¹è±¡çš„åŠŸèƒ½</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ClassWithStaticMethod</span> </span>&#123;</span><br><span class="line">  <span class="keyword">static</span> staticMethod() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'static method has been called.'</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">ClassWithStaticMethod.staticMethod();</span><br></pre></td></tr></table></figure>
<h3 id="è°ƒç”¨é™æ€æ–¹æ³•"><a href="#è°ƒç”¨é™æ€æ–¹æ³•" class="headerlink" title="è°ƒç”¨é™æ€æ–¹æ³•"></a>è°ƒç”¨é™æ€æ–¹æ³•</h3><ul>
<li>ä»å¦ä¸€ä¸ªé™æ€æ–¹æ³•ï¼Œé™æ€æ–¹æ³•è°ƒç”¨åŒä¸€ä¸ªç±»ä¸­çš„å…¶ä»–é™æ€æ–¹æ³•ï¼Œå¯ä½¿ç”¨thiså…³é”®å­—</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">StaticMethodCall</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> staticMethod() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">'Static method has been called'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">static</span> anotherStaticMethod() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.staticMethod() + <span class="string">' from another static method'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>ä»ç±»çš„æ„é€ å‡½æ•°å’Œå…¶ä»–æ–¹æ³•ï¼Œéé™æ€æ–¹æ³•ä¸­ï¼Œä¸èƒ½ç›´æ¥ä½¿ç”¨thiså…³é”®å­—æ¥è®¿é—®é™æ€æ–¹æ³•ã€‚è€Œæ˜¯è¦ç”¨ç±»åæ¥è°ƒç”¨ï¼›<br>CLASSNAME.STATIC_METHOD_NAME()ï¼Œæˆ–è€…ç”¨æ„é€ å‡½æ•°çš„å±æ€§æ¥è°ƒç”¨è¯¥æ–¹æ³•ï¼›this.constructor.STATIC_METHOD_NAME()ã€‚</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">StaticMethodCall</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>() &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(StaticMethodCall.staticMethod());</span><br><span class="line">        <span class="comment">// 'static method has been called.'</span></span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.constructor.staticMethod());</span><br><span class="line">        <span class="comment">// 'static method has been called.'</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">static</span> staticMethod() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">'static method has been called.'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="è¡¥å……"><a href="#è¡¥å……" class="headerlink" title="è¡¥å……"></a>è¡¥å……</h4><ol>
<li>ç›®å‰ECMAScriptï¼Œclassä¸­è¿˜æ²¡æœ‰å®šä¹‰Privateï¼ˆç§æœ‰å±æ€§ï¼‰çš„èƒ½åŠ›ï¼Œæ‰€ä»¥æˆ‘ä»¬é€šè¿‡çº¦å®šï¼Œç”¨ä¸‹åˆ’çº¿æ¥æ ‡è®°å®ƒä»¬ã€‚</li>
</ol>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Car</span> </span>&#123;</span><br><span class="line">  _milesDriven = <span class="number">0</span>;</span><br><span class="line">  drive(distance) &#123;</span><br><span class="line">    <span class="keyword">this</span>._milesDriven += distance;</span><br><span class="line">  &#125;</span><br><span class="line">  getMilesDriven() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>._milesDriven;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨ä¸Šé¢çš„äº‹ä¾‹ä¸­ï¼Œæˆ‘ä»¬ä¾é Carçš„å®ä¾‹è°ƒç”¨getMilesDrivenæ–¹æ³•æ¥è·å–åˆ°å®ƒçš„ç§æœ‰å±æ€§_milesDrivenã€‚ä½†æ˜¯ï¼Œå› ä¸ºæ²¡æœ‰ä»€ä¹ˆèƒ½ä½¿_milesDrivenæˆä¸ºç§æœ‰çš„ï¼Œ<br>æ‰€ä»¥ä»»ä½•å®ä¾‹éƒ½å¯ä»¥è®¿é—®å®ƒã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> tesla = <span class="keyword">new</span> Cal();</span><br><span class="line">tesla.drive(<span class="number">10</span>);</span><br><span class="line"><span class="built_in">console</span>.log(tesla._milesDriven);</span><br></pre></td></tr></table></figure>
<p>ç›®å‰Class Fieldsæœ‰ä¸ªææ¡ˆï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡#åˆ›å»ºç§æœ‰å­—æ®µã€‚</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Car</span> </span>&#123;</span><br><span class="line">  #milesDriven = 0;</span><br><span class="line">  drive(distance) &#123;</span><br><span class="line">    this.#milesDriven += distance;</span><br><span class="line">  &#125;</span><br><span class="line">  getMilesDriven() &#123;</span><br><span class="line">    return this.#milesDriven;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> tesla = <span class="keyword">new</span> Car()</span><br><span class="line">tesla.drive(<span class="number">10</span>)</span><br><span class="line">tesla.getMilesDriven() <span class="comment">// 10</span></span><br><span class="line">tesla.#milesDriven // Invalid</span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title>å¸¸è§çš„æµè§ˆå™¨å…¼å®¹é—®é¢˜</title>
    <url>/2019/05/05/2019/May/Compatible/README/</url>
    <content><![CDATA[<h2 id="å¸¸è§çš„æµè§ˆå™¨å…¼å®¹é—®é¢˜"><a href="#å¸¸è§çš„æµè§ˆå™¨å…¼å®¹é—®é¢˜" class="headerlink" title="å¸¸è§çš„æµè§ˆå™¨å…¼å®¹é—®é¢˜"></a>å¸¸è§çš„æµè§ˆå™¨å…¼å®¹é—®é¢˜</h2><h3 id="htmlä¸­çš„å…¼å®¹é—®é¢˜"><a href="#htmlä¸­çš„å…¼å®¹é—®é¢˜" class="headerlink" title="htmlä¸­çš„å…¼å®¹é—®é¢˜"></a>htmlä¸­çš„å…¼å®¹é—®é¢˜</h3><h4 id="ä¸åŒæµè§ˆå™¨çš„æ ‡ç­¾é»˜è®¤çš„å¤–è¡¥ä¸å’Œå†…è¡¥ä¸ä¸åŒ"><a href="#ä¸åŒæµè§ˆå™¨çš„æ ‡ç­¾é»˜è®¤çš„å¤–è¡¥ä¸å’Œå†…è¡¥ä¸ä¸åŒ" class="headerlink" title="ä¸åŒæµè§ˆå™¨çš„æ ‡ç­¾é»˜è®¤çš„å¤–è¡¥ä¸å’Œå†…è¡¥ä¸ä¸åŒ"></a>ä¸åŒæµè§ˆå™¨çš„æ ‡ç­¾é»˜è®¤çš„å¤–è¡¥ä¸å’Œå†…è¡¥ä¸ä¸åŒ</h4><ul>
<li>åœºæ™¯ï¼šéšä¾¿å†™å‡ ä¸ªæ ‡ç­¾ï¼Œä¸åŠ æ ·å¼æ§åˆ¶çš„æƒ…å†µä¸‹ï¼Œå„è‡ªçš„marginå’Œpaddingå·®å¼‚è¾ƒå¤§ã€‚</li>
<li>è§£å†³æ–¹æ³•ï¼šä¸Šæ¥å…ˆæ¶ˆé™¤é»˜è®¤æ ·å¼* {margin: 0, padding: 0}</li>
</ul>
<h4 id="å—å±æ€§æ ‡ç­¾floatåï¼Œåˆæœ‰æ¨ªè¡Œçš„marginçš„æƒ…å†µä¸‹ï¼Œåœ¨IE6æ˜¾ç¤ºmarginæ¯”è®¾ç½®çš„å¤§ï¼ˆå³åŒå€è¾¹è·bugï¼‰"><a href="#å—å±æ€§æ ‡ç­¾floatåï¼Œåˆæœ‰æ¨ªè¡Œçš„marginçš„æƒ…å†µä¸‹ï¼Œåœ¨IE6æ˜¾ç¤ºmarginæ¯”è®¾ç½®çš„å¤§ï¼ˆå³åŒå€è¾¹è·bugï¼‰" class="headerlink" title="å—å±æ€§æ ‡ç­¾floatåï¼Œåˆæœ‰æ¨ªè¡Œçš„marginçš„æƒ…å†µä¸‹ï¼Œåœ¨IE6æ˜¾ç¤ºmarginæ¯”è®¾ç½®çš„å¤§ï¼ˆå³åŒå€è¾¹è·bugï¼‰"></a>å—å±æ€§æ ‡ç­¾floatåï¼Œåˆæœ‰æ¨ªè¡Œçš„marginçš„æƒ…å†µä¸‹ï¼Œåœ¨IE6æ˜¾ç¤ºmarginæ¯”è®¾ç½®çš„å¤§ï¼ˆå³åŒå€è¾¹è·bugï¼‰</h4><ul>
<li>åœºæ™¯ï¼šå¸¸è§ç—‡çŠ¶æ˜¯IE6åé¢çš„ä¸€å—è¢«é¡¶åˆ°ä¸‹ä¸€è¡Œ;</li>
<li>è§£å†³æ–¹æ³•ï¼šåœ¨floatçš„æ ‡ç­¾æ ·å¼æ§åˆ¶ä¸­åŠ å…¥display: inline-block; å°†å…¶è½¬åŒ–ä¸ºè¡Œå†…å±æ€§</li>
</ul>
<h4 id="IE6-ä¸­z-indexå¤±æ•ˆ"><a href="#IE6-ä¸­z-indexå¤±æ•ˆ" class="headerlink" title="IE6 ä¸­z-indexå¤±æ•ˆ"></a>IE6 ä¸­z-indexå¤±æ•ˆ</h4><ul>
<li>åœºæ™¯ï¼šå…ƒç´ çš„çˆ¶çº§å…ƒç´ è®¾ç½®çš„z-indexä¸º1ï¼Œé‚£ä¹ˆå…¶å­çº§å…ƒç´ å†è®¾ç½®z-indexæ—¶ä¼šå¤±æ•ˆï¼Œå…¶å±‚çº§ä¼šç»§æ‰¿çˆ¶çº§å…ƒç´ çš„è®¾ç½®ï¼Œé€ æˆæŸäº›å±‚çº§è°ƒæ•´ä¸Šçš„bug</li>
<li>åŸå› ï¼šz-indexèµ·ä½œç”¨æœ‰ä¸ªå‰æï¼Œå°±æ˜¯å…ƒç´ çš„positionå±æ€§è¦æ˜¯relativeã€absoluteæˆ–è€…fixedã€‚</li>
<li>è§£å†³æ–¹æ¡ˆï¼š1. position: relative æ”¹ä¸º position: absolute; 2. å»é™¤æµ®åŠ¨; 3. æµ®åŠ¨å…ƒç´ æ·»åŠ positionå±æ€§ï¼ˆå¦‚relativeï¼Œabsoluteç­‰ï¼‰ã€‚</li>
</ul>
<h4 id="åœ¨å†™aæ ‡ç­¾çš„æ ·å¼ï¼Œå†™çš„æ ·å¼æ²¡æœ‰æ•ˆæœï¼Œå…¶å®åªæ˜¯å†™çš„æ ·å¼è¢«è¦†ç›–äº†"><a href="#åœ¨å†™aæ ‡ç­¾çš„æ ·å¼ï¼Œå†™çš„æ ·å¼æ²¡æœ‰æ•ˆæœï¼Œå…¶å®åªæ˜¯å†™çš„æ ·å¼è¢«è¦†ç›–äº†" class="headerlink" title="åœ¨å†™aæ ‡ç­¾çš„æ ·å¼ï¼Œå†™çš„æ ·å¼æ²¡æœ‰æ•ˆæœï¼Œå…¶å®åªæ˜¯å†™çš„æ ·å¼è¢«è¦†ç›–äº†"></a>åœ¨å†™aæ ‡ç­¾çš„æ ·å¼ï¼Œå†™çš„æ ·å¼æ²¡æœ‰æ•ˆæœï¼Œå…¶å®åªæ˜¯å†™çš„æ ·å¼è¢«è¦†ç›–äº†</h4><ul>
<li>æ­£ç¡®çš„aæ ‡ç­¾é¡ºåºï¼šlink/visited/hover/active</li>
</ul>
<h4 id="24ä½pngå›¾ç‰‡ï¼ŒIE6ä¸­ä¸å…¼å®¹é€æ˜åº•å„¿"><a href="#24ä½pngå›¾ç‰‡ï¼ŒIE6ä¸­ä¸å…¼å®¹é€æ˜åº•å„¿" class="headerlink" title="24ä½pngå›¾ç‰‡ï¼ŒIE6ä¸­ä¸å…¼å®¹é€æ˜åº•å„¿"></a>24ä½pngå›¾ç‰‡ï¼ŒIE6ä¸­ä¸å…¼å®¹é€æ˜åº•å„¿</h4><ul>
<li>è§£å†³æ–¹å¼ï¼š1. ä½¿ç”¨8ä½pngå›¾ç‰‡; 2. ä¸ºie6å‡†å¤‡ä¸€å¥—ç‰¹æ®Šçš„å›¾ç‰‡</li>
</ul>
<h3 id="jsåœ¨ä¸åŒæµè§ˆå™¨ä¸­çš„å…¼å®¹é—®é¢˜"><a href="#jsåœ¨ä¸åŒæµè§ˆå™¨ä¸­çš„å…¼å®¹é—®é¢˜" class="headerlink" title="jsåœ¨ä¸åŒæµè§ˆå™¨ä¸­çš„å…¼å®¹é—®é¢˜"></a>jsåœ¨ä¸åŒæµè§ˆå™¨ä¸­çš„å…¼å®¹é—®é¢˜</h3><h4 id="äº‹ä»¶ç›‘å¬çš„å…¼å®¹"><a href="#äº‹ä»¶ç›‘å¬çš„å…¼å®¹" class="headerlink" title="äº‹ä»¶ç›‘å¬çš„å…¼å®¹"></a>äº‹ä»¶ç›‘å¬çš„å…¼å®¹</h4><ul>
<li>IEä¸æ”¯æŒaddEventListener;</li>
<li>è§£å†³ï¼šç»™IEä½¿ç”¨attachEvent</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> addHandler = <span class="function"><span class="keyword">function</span>(<span class="params">e, type, handler</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (e.addEventListener) &#123;</span><br><span class="line">    e.addEventListener(type, handler, <span class="literal">false</span>);</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (e.attachEvent) &#123;</span><br><span class="line">    e.attachEvent(<span class="string">'on'</span> + type, handler);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    e[<span class="string">'on'</span> + type] = handler;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> removeHandler = <span class="function"><span class="keyword">function</span>(<span class="params">e, type, handler</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (e.removeEventListener) &#123;</span><br><span class="line">    e.removeEventListener(type, handler, <span class="literal">false</span>);</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (e.detachEvent) &#123;</span><br><span class="line">    e.detachEvent(<span class="string">'on'</span> + type, handler);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    on[<span class="string">'on'</span> + type] = <span class="literal">null</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="event-targetçš„å…¼å®¹ï¼Œå¼•å‘äº‹ä»¶çš„DOMå…ƒç´ ã€‚"><a href="#event-targetçš„å…¼å®¹ï¼Œå¼•å‘äº‹ä»¶çš„DOMå…ƒç´ ã€‚" class="headerlink" title="event.targetçš„å…¼å®¹ï¼Œå¼•å‘äº‹ä»¶çš„DOMå…ƒç´ ã€‚"></a>event.targetçš„å…¼å®¹ï¼Œå¼•å‘äº‹ä»¶çš„DOMå…ƒç´ ã€‚</h4><ul>
<li>IE 6789ä¸æ”¯æŒevent.target</li>
<li>è§£å†³æ–¹æ³•ï¼ševent.srcElement;</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">target = event.target || event.srcElement;</span><br></pre></td></tr></table></figure>
<h4 id="é˜»æ­¢ç³»ç»Ÿé»˜è®¤çš„å…¼å®¹"><a href="#é˜»æ­¢ç³»ç»Ÿé»˜è®¤çš„å…¼å®¹" class="headerlink" title="é˜»æ­¢ç³»ç»Ÿé»˜è®¤çš„å…¼å®¹"></a>é˜»æ­¢ç³»ç»Ÿé»˜è®¤çš„å…¼å®¹</h4><ul>
<li>IE 6789ä¸æ”¯æŒevent.preventDefault;</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">event.preventDefault ? event.preventDefault() : event.returnValue = <span class="literal">false</span></span><br></pre></td></tr></table></figure>
<h4 id="é˜»æ­¢äº‹ä»¶å†’æ³¡çš„å…¼å®¹"><a href="#é˜»æ­¢äº‹ä»¶å†’æ³¡çš„å…¼å®¹" class="headerlink" title="é˜»æ­¢äº‹ä»¶å†’æ³¡çš„å…¼å®¹"></a>é˜»æ­¢äº‹ä»¶å†’æ³¡çš„å…¼å®¹</h4><ul>
<li>IE 6789ä¸æ”¯æŒevent.stopPropagation;</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">event.stopPropagation ? event.stopPropagation() : event.cancelBubble = <span class="literal">false</span></span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title>ä»€ä¹ˆæ˜¯å‡½æ•°æŸ¯é‡ŒåŒ–ï¼Ÿ</title>
    <url>/2019/05/07/2019/May/Curry/README/</url>
    <content><![CDATA[<h2 id="ä»€ä¹ˆæ˜¯å‡½æ•°æŸ¯é‡ŒåŒ–ï¼Ÿå®ç°-sum-1-2-3-è¿”å›ç»“æœæ˜¯1-2-3ä¹‹å’Œ"><a href="#ä»€ä¹ˆæ˜¯å‡½æ•°æŸ¯é‡ŒåŒ–ï¼Ÿå®ç°-sum-1-2-3-è¿”å›ç»“æœæ˜¯1-2-3ä¹‹å’Œ" class="headerlink" title="ä»€ä¹ˆæ˜¯å‡½æ•°æŸ¯é‡ŒåŒ–ï¼Ÿå®ç° sum(1)(2)(3) è¿”å›ç»“æœæ˜¯1,2,3ä¹‹å’Œ"></a>ä»€ä¹ˆæ˜¯å‡½æ•°æŸ¯é‡ŒåŒ–ï¼Ÿå®ç° sum(1)(2)(3) è¿”å›ç»“æœæ˜¯1,2,3ä¹‹å’Œ</h2><p>å‡½æ•°æŸ¯é‡ŒåŒ–ï¼šæŠŠæ¥å—å¤šä¸ªå‚æ•°çš„å‡½æ•°å˜æ¢æˆæ¥å—ä¸€ä¸ªå•ä¸€å‚æ•°ï¼ˆæœ€åˆå‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼‰çš„å‡½æ•°ï¼Œå¹¶ä¸”è¿”å›æ¥å—ä½™ä¸‹çš„å‚æ•°è€Œä¸”è¿”å›ç»“æœçš„æ–°å‡½æ•°</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params">a</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">b</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">c</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> a+b+c;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="å¼•ç”³ï¼šå®ç°ä¸€ä¸ªcurryå‡½æ•°ï¼Œå°†æ™®é€šå‡½æ•°è¿›è¡ŒæŸ¯é‡ŒåŒ–"><a href="#å¼•ç”³ï¼šå®ç°ä¸€ä¸ªcurryå‡½æ•°ï¼Œå°†æ™®é€šå‡½æ•°è¿›è¡ŒæŸ¯é‡ŒåŒ–" class="headerlink" title="å¼•ç”³ï¼šå®ç°ä¸€ä¸ªcurryå‡½æ•°ï¼Œå°†æ™®é€šå‡½æ•°è¿›è¡ŒæŸ¯é‡ŒåŒ–"></a>å¼•ç”³ï¼šå®ç°ä¸€ä¸ªcurryå‡½æ•°ï¼Œå°†æ™®é€šå‡½æ•°è¿›è¡ŒæŸ¯é‡ŒåŒ–</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">curry</span>(<span class="params">fn, args = []</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> rest = [...args, ...arguments];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (rest.length &lt; fn.length) &#123;</span><br><span class="line">      <span class="keyword">return</span> curry.call(<span class="keyword">this</span>, fn, rest);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> fn.apply(<span class="keyword">this</span>, rest);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//test</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params">a,b,c</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a+b+c;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> sumFn = curry(sum);</span><br><span class="line"><span class="built_in">console</span>.log(sumFn(<span class="number">1</span>)(<span class="number">2</span>)(<span class="number">3</span>)); <span class="comment">//6</span></span><br><span class="line"><span class="built_in">console</span>.log(sumFn(<span class="number">1</span>)(<span class="number">2</span>, <span class="number">3</span>)); <span class="comment">//6</span></span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title>callã€applyæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿcallã€applyå’Œbindçš„å†…éƒ¨å®ç°</title>
    <url>/2019/05/01/2019/May/Bind/README/</url>
    <content><![CDATA[<h1 id="callã€applyæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿcallã€applyå’Œbindçš„å†…éƒ¨å®ç°"><a href="#callã€applyæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿcallã€applyå’Œbindçš„å†…éƒ¨å®ç°" class="headerlink" title="callã€applyæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿcallã€applyå’Œbindçš„å†…éƒ¨å®ç°"></a>callã€applyæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿcallã€applyå’Œbindçš„å†…éƒ¨å®ç°</h1><p>callã€applyçš„åŠŸèƒ½ç›¸åŒï¼ŒåŒºåˆ«åœ¨äºä¼ å‚çš„æ–¹å¼ä¸ä¸€æ ·ï¼š</p>
<ul>
<li>fn.call(obj, arg1, arg2, â€¦)ï¼Œè°ƒç”¨ä¸€ä¸ªå‡½æ•°ï¼Œå…·æœ‰ä¸€ä¸ªæŒ‡å®šçš„thiså€¼å’Œåˆ†åˆ«æä¾›çš„å‚æ•°ï¼ˆå‚æ•°çš„åˆ—è¡¨ï¼‰ã€‚</li>
<li>fn.apply(obj, [argsArray])ï¼Œè°ƒç”¨ä¸€ä¸ªå‡½æ•°ï¼Œå…·æœ‰ä¸€ä¸ªæŒ‡å®šçš„thiså€¼ï¼Œä»¥åŠä½œä¸ºä¸€ä¸ªæ•°ç»„ï¼ˆæˆ–ç±»æ•°ç»„å¯¹è±¡ï¼‰æä¾›å‚æ•°ã€‚</li>
</ul>
<h2 id="callæ ¸å¿ƒ"><a href="#callæ ¸å¿ƒ" class="headerlink" title="callæ ¸å¿ƒ"></a>callæ ¸å¿ƒ</h2><ul>
<li>å°†å‡½æ•°è®¾ä¸ºä¼ å…¥å‚æ•°çš„å±æ€§</li>
<li>æŒ‡å®šthisåˆ°å‡½æ•°å¹¶ä¼ å…¥ç»™å®šå‚æ•°æ‰§è¡Œå‡½æ•°</li>
<li>å¦‚æœä¸ä¼ å…¥å‚æ•°æˆ–è€…å‚æ•°ä¸ºnullï¼Œé»˜è®¤æŒ‡å‘ä¸º window/global</li>
<li>åˆ é™¤å‚æ•°ä¸Šçš„å‡½æ•°</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Function</span>.prototype.call = <span class="function"><span class="keyword">function</span>(<span class="params">context</span>) </span>&#123;</span><br><span class="line">  <span class="comment">/*</span></span><br><span class="line"><span class="comment">   * å¦‚æœç¬¬ä¸€ä¸ªå‚æ•°ä¼ å…¥çš„æ˜¯ null æˆ–è€… undefinedï¼Œé‚£ä¹ˆthisæŒ‡å‘ window/global</span></span><br><span class="line"><span class="comment">   * å¦‚æœç¬¬ä¸€ä¸ªå‚æ•°ä¼ å…¥çš„ä¸æ˜¯ null æˆ–è€… undefinedï¼Œé‚£ä¹ˆå¿…é¡»æ˜¯ä¸€ä¸ªå¯¹è±¡</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line">  <span class="keyword">if</span> (!context) &#123;</span><br><span class="line">    <span class="comment">//  contextä¸ºnullæˆ–è€…æ˜¯undefined</span></span><br><span class="line">    <span class="comment">//  åˆ¤æ–­æ˜¯æµè§ˆå™¨ç¯å¢ƒè¿˜æ˜¯nodeç¯å¢ƒ</span></span><br><span class="line">    context = <span class="keyword">typeof</span> <span class="built_in">window</span> === <span class="string">'undefined'</span> ? global : <span class="built_in">window</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  context.fn = <span class="keyword">this</span>;  <span class="comment">//  thisæŒ‡å‘æ˜¯å½“å‰çš„å‡½æ•°ï¼ˆFunctionçš„å®ä¾‹ï¼‰</span></span><br><span class="line">  <span class="keyword">let</span> rest = [...arguments].slice(<span class="number">1</span>); <span class="comment">//  è·å–é™¤äº†thisæŒ‡å‘å¯¹è±¡ä»¥å¤–çš„å‚æ•°ï¼Œç©ºæ•°ç»„sliceåè¿”å›çš„ä»ç„¶æ˜¯ç©ºæ•°ç»„</span></span><br><span class="line">  <span class="keyword">let</span> result = context.fn(...rest); <span class="comment">//  éšå¼ç»‘å®šï¼Œå½“å‰å‡½æ•°çš„thisæŒ‡å‘äº†context</span></span><br><span class="line">  <span class="keyword">delete</span> context.fn;</span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// test code</span></span><br><span class="line"><span class="keyword">var</span> foo = &#123;</span><br><span class="line">  name: <span class="string">'Selina'</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> name = <span class="string">'Chirs'</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params">job, age</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">  <span class="built_in">console</span>.log(job, age);</span><br><span class="line">&#125;</span><br><span class="line">bar.call(foo, <span class="string">'programmer'</span>, <span class="number">20</span>);</span><br><span class="line"><span class="comment">//  Selina programmer, 20</span></span><br><span class="line">bar.call(<span class="literal">null</span>, <span class="string">'teacher'</span>, <span class="number">25</span>);</span><br><span class="line"><span class="comment">//  browerç¯å¢ƒï¼š Chirs teacher, 25ï¼› nodeç¯å¢ƒï¼š undefined teacher, 25</span></span><br></pre></td></tr></table></figure>
<h2 id="applyæ ¸å¿ƒ"><a href="#applyæ ¸å¿ƒ" class="headerlink" title="applyæ ¸å¿ƒ"></a>applyæ ¸å¿ƒ</h2><p>applyçš„å®ç°å’Œcallå¾ˆç±»ä¼¼ï¼Œä½†æ˜¯éœ€è¦æ³¨æ„ä»–ä»¬çš„å‚æ•°ä¸ä¸€æ ·ï¼Œapplyçš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯æ•°ç»„æˆ–ç±»æ•°ç»„ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Function</span>.prototype.apply = <span class="function"><span class="keyword">function</span>(<span class="params">context, rest</span>) </span>&#123;</span><br><span class="line">  <span class="comment">/*</span></span><br><span class="line"><span class="comment">   * å¦‚æœç¬¬ä¸€ä¸ªå‚æ•°ä¼ å…¥çš„æ˜¯ null æˆ–è€… undefinedï¼Œé‚£ä¹ˆthisæŒ‡å‘ window/global</span></span><br><span class="line"><span class="comment">   * å¦‚æœç¬¬ä¸€ä¸ªå‚æ•°ä¼ å…¥çš„ä¸æ˜¯ null æˆ–è€… undefinedï¼Œé‚£ä¹ˆå¿…é¡»æ˜¯ä¸€ä¸ªå¯¹è±¡</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line">  <span class="keyword">if</span> (!context) &#123;</span><br><span class="line">    <span class="comment">//  contextä¸ºnullæˆ–è€…æ˜¯undefined</span></span><br><span class="line">    <span class="comment">//  åˆ¤æ–­æ˜¯æµè§ˆå™¨ç¯å¢ƒè¿˜æ˜¯nodeç¯å¢ƒ</span></span><br><span class="line">    context = <span class="keyword">typeof</span> <span class="built_in">window</span> === <span class="string">'undefined'</span> ? global : <span class="built_in">window</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  context.fn = <span class="keyword">this</span>;</span><br><span class="line">  <span class="keyword">let</span> result;</span><br><span class="line">  <span class="keyword">if</span> (rest == <span class="literal">null</span>) &#123;</span><br><span class="line">    <span class="comment">//  undefined æˆ–è€… null ä¸æ˜¯ Iterator å¯¹è±¡ï¼Œä¸èƒ½è¢«...</span></span><br><span class="line">    result = context.fn(rest);</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">typeof</span> rest === <span class="string">'object'</span>) &#123;</span><br><span class="line">    result = context.fn(...rest);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">delete</span> result.fn;</span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// test code</span></span><br><span class="line"><span class="keyword">var</span> foo = &#123;</span><br><span class="line">  name: <span class="string">'Selina'</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> name = <span class="string">'Chirs'</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params">job, age</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">  <span class="built_in">console</span>.log(job, age);</span><br><span class="line">&#125;</span><br><span class="line">bar.apply(foo, [<span class="string">'programmer'</span>, <span class="number">20</span>]);</span><br><span class="line"><span class="comment">//  Selina programmer, 20</span></span><br><span class="line">bar.apply(<span class="literal">null</span>, [<span class="string">'teacher'</span>, <span class="number">25</span>]);</span><br><span class="line"><span class="comment">// browerç¯å¢ƒï¼š Chirs teacher, 25ï¼› nodeç¯å¢ƒï¼š undefined teacher, 25</span></span><br></pre></td></tr></table></figure>
<h2 id="bindæ ¸å¿ƒ"><a href="#bindæ ¸å¿ƒ" class="headerlink" title="bindæ ¸å¿ƒ"></a>bindæ ¸å¿ƒ</h2><p>bind å’Œ call/apply æœ‰ä¸€ä¸ªå¾ˆé‡è¦çš„åŒºåˆ«ï¼Œä¸€ä¸ªå‡½æ•°è¢« call/apply çš„æ—¶å€™ï¼Œä¼šç›´æ¥è°ƒç”¨ï¼Œä½†æ˜¯ bindä¼šåˆ›å»ºä¸€ä¸ªæ–°å‡½æ•°ã€‚å½“è¿™ä¸ªæ–°å‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œbind()çš„ç¬¬ä¸€ä¸ªå‚æ•°å°†<br>ä½œä¸ºå®ƒè¿è¡Œæ—¶çš„thisï¼Œä¹‹åçš„ä¸€ç³»åˆ—å‚æ•°å°†ä¼šåœ¨ä¼ é€’çš„å®å‚å‰ä¼ å…¥ä½œä¸ºå®ƒçš„å‚æ•°ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Function</span>.prototype.bind = <span class="function"><span class="keyword">function</span>(<span class="params">context</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="keyword">this</span> !== <span class="string">'function'</span>) &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">TypeError</span>(<span class="string">'not a function'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">let</span> self = <span class="keyword">this</span>;</span><br><span class="line">  <span class="keyword">let</span> args = [...arguments].slice(<span class="number">1</span>);</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">Fn</span>(<span class="params"></span>) </span>&#123;&#125;;</span><br><span class="line">  Fn.prototype = <span class="keyword">this</span>.prototype;</span><br><span class="line">  <span class="keyword">let</span> bound = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> res = [...args, ...arguments];  <span class="comment">//  bindä¼ é€’çš„å‚æ•°å’Œå‡½æ•°è°ƒç”¨æ—¶ä¼ é€’çš„å‚æ•°æ‹¼æ¥</span></span><br><span class="line">    context = <span class="keyword">this</span> <span class="keyword">instanceof</span> Fn ? <span class="keyword">this</span> : context || <span class="keyword">this</span>;</span><br><span class="line">    <span class="keyword">return</span> self.apply(context, res);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//  åŸå‹é“¾</span></span><br><span class="line">  bound.prototype = <span class="keyword">new</span> Fn();</span><br><span class="line">  <span class="keyword">return</span> bound;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> name = <span class="string">'Jack'</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">person</span>(<span class="params">age, job, gender</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name , age, job, gender);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> Yve = &#123;<span class="attr">name</span> : <span class="string">'Yvette'</span>&#125;;</span><br><span class="line"><span class="keyword">let</span> result = person.bind(Yve, <span class="number">22</span>, <span class="string">'enginner'</span>)(<span class="string">'female'</span>);</span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title>ä¿®é¥°å™¨çš„ä½¿ç”¨</title>
    <url>/2019/05/09/2019/May/Decorator/README/</url>
    <content><![CDATA[<p>ç”±äºä½¿ç”¨äº†decorator, nodeä¸ç”¨æ­£å¸¸è¯†åˆ«ï¼Œéœ€è¦ä½¿ç”¨babelè½¬æ¢</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ babel-node test.js</span><br></pre></td></tr></table></figure>
<h3 id="1-ç±»ä¿®é¥°å™¨ï¼ˆåªæœ‰ä¸€ä¸ªå‚æ•°ï¼‰"><a href="#1-ç±»ä¿®é¥°å™¨ï¼ˆåªæœ‰ä¸€ä¸ªå‚æ•°ï¼‰" class="headerlink" title="1. ç±»ä¿®é¥°å™¨ï¼ˆåªæœ‰ä¸€ä¸ªå‚æ•°ï¼‰"></a>1. ç±»ä¿®é¥°å™¨ï¼ˆåªæœ‰ä¸€ä¸ªå‚æ•°ï¼‰</h3><p>target: æŒ‡å‘ç±»ï¼Œå¦‚æœæ˜¯ç±»å‹æ˜¯functionï¼Œåˆ™æŒ‡å‘MyFunction.prototype</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">testable</span>(<span class="params">target</span>) </span>&#123;</span><br><span class="line">  target.isTestable = <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@testabel</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyTestableClass</span> </span>&#123;&#125;</span><br></pre></td></tr></table></figure>
<p>ä»¥ä¸Šä»£ç ï¼Œ@testableå°±æ˜¯ä¸€ä¸ªè£…é¥°å™¨ï¼Œå®ƒä¸ºMyTestableClassè¿™ä¸ªç±»æ·»åŠ äº†ä¸€ä¸ªé™æ€å±æ€§isTestable</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">testable</span>(<span class="params">isTestable</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">target</span>) </span>&#123;</span><br><span class="line">    target.isTestable = isTestable;</span><br><span class="line">    target.prototype.name = <span class="string">'achen'</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@testabel(<span class="literal">false</span>)</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyTestabelClass</span> </span>&#123;&#125;</span><br></pre></td></tr></table></figure>
<p>ä»¥ä¸Šä»£ç ï¼Œå‘Šè¯‰æˆ‘ä»¬@testableä½•å¦‚ä¼ é€’å‚æ•°ï¼Œå¹¶ä¸”å¦‚ä½•ä¸ºç±»æ·»åŠ åŸå‹å±æ€§æˆ–è€…æ–¹æ³•ã€‚</p>
<h3 id="2-æ–¹æ³•ä¿®é¥°å™¨ï¼ˆæœ‰ä¸‰ä¸ªå‚æ•°ï¼‰"><a href="#2-æ–¹æ³•ä¿®é¥°å™¨ï¼ˆæœ‰ä¸‰ä¸ªå‚æ•°ï¼‰" class="headerlink" title="2. æ–¹æ³•ä¿®é¥°å™¨ï¼ˆæœ‰ä¸‰ä¸ªå‚æ•°ï¼‰"></a>2. æ–¹æ³•ä¿®é¥°å™¨ï¼ˆæœ‰ä¸‰ä¸ªå‚æ•°ï¼‰</h3><p>target: æ–¹æ³•æ‰€åœ¨çš„ç±»<br>name: æ–¹æ³•åç§°<br>descriptor: æè¿°å¯¹è±¡</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Math</span> </span>&#123;</span><br><span class="line">  @log</span><br><span class="line">  add(a, b) &#123;</span><br><span class="line">    <span class="keyword">return</span> a + b;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">log</span>(<span class="params">target, name, descriptor</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> oldValue = descriptor.value;</span><br><span class="line"></span><br><span class="line">  descriptor.value = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`Calling <span class="subst">$&#123;name&#125;</span> with`</span>, <span class="built_in">arguments</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> oldValue.apply(<span class="keyword">this</span>, <span class="built_in">arguments</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> descriptor;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> math = <span class="keyword">new</span> <span class="built_in">Math</span>();</span><br><span class="line"></span><br><span class="line">math.add(<span class="number">2</span>, <span class="number">4</span>);</span><br></pre></td></tr></table></figure>
<h4 id="ä¸ºä»€ä¹ˆä¿®é¥°å™¨ä¸èƒ½ç”¨äºå‡½æ•°ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆä¿®é¥°å™¨ä¸èƒ½ç”¨äºå‡½æ•°ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆä¿®é¥°å™¨ä¸èƒ½ç”¨äºå‡½æ•°ï¼Ÿ"></a>ä¸ºä»€ä¹ˆä¿®é¥°å™¨ä¸èƒ½ç”¨äºå‡½æ•°ï¼Ÿ</h4><p>ä¿®é¥°å™¨åªèƒ½ç”¨äºç±»å’Œç±»çš„æ–¹æ³•ï¼Œä¸èƒ½ç”¨äºå‡½æ•°ï¼Œå› ä¸ºå­˜åœ¨å‡½æ•°æå‡</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> conuter = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> add = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  counter++;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">@add</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title>JSç»§æ‰¿çš„å®ç°æ–¹å¼</title>
    <url>/2019/05/11/2019/May/Extends/README/</url>
    <content><![CDATA[<h2 id="JSç»§æ‰¿çš„å®ç°æ–¹å¼"><a href="#JSç»§æ‰¿çš„å®ç°æ–¹å¼" class="headerlink" title="JSç»§æ‰¿çš„å®ç°æ–¹å¼"></a>JSç»§æ‰¿çš„å®ç°æ–¹å¼</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.name = <span class="string">'Animal'</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">this</span>.sleep = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name + <span class="string">'~~~'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Animal.prototype.eat = <span class="function"><span class="keyword">function</span>(<span class="params">food</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>.name + <span class="string">' eat: '</span> + food);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="1-åŸå‹é“¾ç»§æ‰¿"><a href="#1-åŸå‹é“¾ç»§æ‰¿" class="headerlink" title="1. åŸå‹é“¾ç»§æ‰¿"></a>1. åŸå‹é“¾ç»§æ‰¿</h3><p>æ ¸å¿ƒï¼š å°†çˆ¶ç±»çš„å®ä¾‹ä½œä¸ºå­ç±»çš„åŸå‹</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Cat</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">Cat.prototype = <span class="keyword">new</span> Animal();</span><br><span class="line">Cat.prototype.name = <span class="string">'cat'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> cat = <span class="keyword">new</span> cat();</span><br><span class="line"><span class="built_in">console</span>.log(cat.name); <span class="comment">// cat</span></span><br><span class="line"><span class="built_in">console</span>.log(cat.eat(<span class="string">'fish'</span>)); <span class="comment">// cat eat: fish</span></span><br><span class="line"><span class="built_in">console</span>.log(cat.sleep()); <span class="comment">//  cat~~~</span></span><br><span class="line"><span class="built_in">console</span>.log(cat <span class="keyword">instanceof</span> Animal); <span class="comment">//  true</span></span><br><span class="line"><span class="built_in">console</span>.log(cat <span class="keyword">instanceof</span> Cat);  <span class="comment">//  true</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>ç‰¹ç‚¹ï¼š</p>
</blockquote>
<ol>
<li>éå¸¸çº¯ç²¹çš„ç»§æ‰¿å…³ç³»ï¼Œå®ä¾‹æ˜¯å­ç±»çš„å®ä¾‹ï¼Œä¹Ÿæ˜¯çˆ¶ç±»çš„å®ä¾‹</li>
<li>çˆ¶ç±»æ–°å¢åŸå‹æ–¹æ³•/åŸå‹å±æ€§ï¼Œå­ç±»éƒ½èƒ½è®¿é—®åˆ°</li>
<li>ç®€å•ï¼Œæ˜“äºå®ç°</li>
</ol>
<blockquote>
<p>ç¼ºç‚¹ï¼š</p>
</blockquote>
<ol>
<li>è¦æƒ³ä¸ºå­ç±»æ–°å¢å±æ€§å’Œæ–¹æ³•ï¼Œå¿…é¡»è¦åœ¨new Animal()è¿™æ ·çš„è¯­å¥ä¹‹åæ‰§è¡Œï¼Œä¸èƒ½æ”¾åˆ°æ„é€ å™¨ä¸­</li>
<li>æ— æ³•å®ç°å¤šç»§æ‰¿</li>
<li>æ¥è‡ªåŸå‹å¯¹è±¡çš„æ‰€æœ‰å±æ€§è¢«æ‰€æœ‰å®ä¾‹å…±äº«</li>
<li>åˆ›å»ºå­ç±»å®ä¾‹æ—¶ï¼Œæ— æ³•å‘çˆ¶ç±»æ„é€ å‡½æ•°ä¼ å‚</li>
</ol>
<h3 id="2-æ„é€ ç»§æ‰¿"><a href="#2-æ„é€ ç»§æ‰¿" class="headerlink" title="2. æ„é€ ç»§æ‰¿"></a>2. æ„é€ ç»§æ‰¿</h3><p>æ ¸å¿ƒï¼šä½¿ç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°æ¥å¢å¼ºå­ç±»å®ä¾‹ï¼Œç­‰äºæ˜¯å¤åˆ¶çˆ¶ç±»çš„å®ä¾‹å±æ€§ç»™å­ç±»ï¼ˆæ²¡ç”¨åˆ°åŸå‹ï¼‰</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Cat</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  Animal.apply(<span class="keyword">this</span>);  <span class="comment">// Animal.call(this);</span></span><br><span class="line">  <span class="keyword">this</span>.name = <span class="string">'cat'</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> cat = <span class="keyword">new</span> Cat();</span><br><span class="line"><span class="built_in">console</span>.log(cat.name);  <span class="comment">//  cat</span></span><br><span class="line"><span class="built_in">console</span>.log(cat.sleep()); <span class="comment">//  cat~~~</span></span><br><span class="line"><span class="built_in">console</span>.log(cat <span class="keyword">instanceof</span> Animal);   <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(cat <span class="keyword">instanceof</span> Cat);  <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>ç‰¹ç‚¹ï¼š</p>
</blockquote>
<ol>
<li>è§£å†³äº†1ä¸­ï¼Œå­ç±»å®ä¾‹å…±äº«çˆ¶ç±»å¼•ç”¨å±æ€§çš„é—®é¢˜</li>
<li>åˆ›å»ºå­ç±»å®ä¾‹æ—¶ï¼Œå¯ä»¥å‘çˆ¶ç±»ä¼ é€’å‚æ•°</li>
<li>å¯ä»¥å®ç°å¤šç»§æ‰¿ï¼ˆcallå¤šä¸ªçˆ¶ç±»å¯¹è±¡ï¼‰</li>
</ol>
<blockquote>
<p>ç¼ºç‚¹ï¼š</p>
</blockquote>
<ol>
<li>å®ä¾‹å¹¶ä¸æ˜¯çˆ¶ç±»çš„å®ä¾‹ï¼Œåªæ˜¯å­ç±»çš„å®ä¾‹</li>
<li>åªèƒ½ç»§æ‰¿çˆ¶ç±»çš„å®ä¾‹å±æ€§å’Œæ–¹æ³•ï¼Œä¸èƒ½ç»§æ‰¿åŸå‹å±æ€§/æ–¹æ³•</li>
<li>æ— æ³•å®ç°å‡½æ•°å¤ç”¨ï¼Œæ¯ä¸ªå­ç±»éƒ½æœ‰çˆ¶ç±»å®ä¾‹å‡½æ•°çš„å‰¯æœ¬ï¼Œå½±å“æ€§èƒ½</li>
</ol>
<h3 id="3-å®ä¾‹ç»§æ‰¿"><a href="#3-å®ä¾‹ç»§æ‰¿" class="headerlink" title="3. å®ä¾‹ç»§æ‰¿"></a>3. å®ä¾‹ç»§æ‰¿</h3><p>æ ¸å¿ƒï¼šä¸ºçˆ¶ç±»å®ä¾‹æ·»åŠ æ–°ç‰¹æ€§ï¼Œåšä¸ºå­ç±»å®ä¾‹è¿”å›</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Cat</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> instance = <span class="keyword">new</span> Animal();</span><br><span class="line">  instance.name = name || <span class="string">'Tom'</span>;</span><br><span class="line">  <span class="keyword">return</span> instance;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> cat = <span class="keyword">new</span> Cat();</span><br><span class="line"><span class="built_in">console</span>.log(cat.name);  <span class="comment">//  Tom</span></span><br><span class="line"><span class="built_in">console</span>.log(cat.sleep()); <span class="comment">//  Tom~~~</span></span><br><span class="line"><span class="built_in">console</span>.log(cat <span class="keyword">instanceof</span> Animal);  <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(cat <span class="keyword">instanceof</span> Cat);  <span class="comment">//  false</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>ç‰¹ç‚¹ï¼š</p>
</blockquote>
<ol>
<li>ä¸é™åˆ¶è°ƒç”¨æ–¹å¼ï¼Œä¸ç®¡äº‹new å­ç±»ï¼ˆï¼‰è¿˜æ˜¯å­ç±»ï¼ˆï¼‰ï¼Œè¿”å›çš„å¯¹è±¡å…·æœ‰ç›¸åŒçš„æ•ˆæœ</li>
</ol>
<blockquote>
<p>ç¼ºç‚¹ï¼š</p>
</blockquote>
<ol>
<li>å®ä¾‹æ˜¯çˆ¶ç±»çš„å®ä¾‹ï¼Œä¸æ˜¯å­ç±»çš„å®ä¾‹</li>
<li>ä¸æ”¯æŒå¤šç»§æ‰¿</li>
</ol>
<h3 id="4-æ‹·è´ç»§æ‰¿"><a href="#4-æ‹·è´ç»§æ‰¿" class="headerlink" title="4. æ‹·è´ç»§æ‰¿"></a>4. æ‹·è´ç»§æ‰¿</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Cat</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> animal = <span class="keyword">new</span> Animal();</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i <span class="keyword">in</span> animal) &#123;</span><br><span class="line">    Cat.prototype[i] = animal[i];</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  Cat.prototype.name = name || <span class="string">'Tom'</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> cat = <span class="keyword">new</span> Cat();</span><br><span class="line"><span class="built_in">console</span>.log(cat.name);  <span class="comment">//  Tom</span></span><br><span class="line"><span class="built_in">console</span>.log(cat.sleep()); <span class="comment">//  Tom~~~</span></span><br><span class="line"><span class="built_in">console</span>.log(cat <span class="keyword">instanceof</span> Animal);  <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(cat <span class="keyword">instanceof</span> Cat);  <span class="comment">//  true</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>ç‰¹ç‚¹ï¼š</p>
</blockquote>
<ol>
<li>æ”¯æŒå¤šç»§æ‰¿</li>
</ol>
<blockquote>
<p>ç¼ºç‚¹ï¼š</p>
</blockquote>
<ol>
<li>æ•ˆç‡è¾ƒä½ï¼Œå†…å­˜å ç”¨é«˜ï¼ˆå› ä¸ºè¦æ‹·è´çˆ¶ç±»çš„å±æ€§ï¼‰</li>
<li>æ— æ³•è·å–çˆ¶ç±»ä¸å¯æšä¸¾çš„æ–¹æ³•ï¼ˆä¸å¯æšä¸¾æ–¹æ³•ï¼Œä¸èƒ½ä½¿ç”¨for in è®¿é—®åˆ°ï¼‰</li>
</ol>
<h3 id="5-ç»„åˆç»§æ‰¿"><a href="#5-ç»„åˆç»§æ‰¿" class="headerlink" title="5. ç»„åˆç»§æ‰¿"></a>5. ç»„åˆç»§æ‰¿</h3><p>æ ¸å¿ƒï¼šé€šè¿‡è°ƒç”¨çˆ¶ç±»æ„é€ ï¼Œç»§æ‰¿çˆ¶ç±»çš„å±æ€§å¹¶ä¿ç•™ä¼ å‚çš„ä¼˜ç‚¹ï¼Œç„¶åé€šè¿‡å°†çˆ¶ç±»å®ä¾‹ä½œä¸ºå­ç±»åŸå‹ï¼Œå®ç°å‡½æ•°å¤ç”¨</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Cat</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  Animal.call(<span class="keyword">this</span>);</span><br><span class="line">  <span class="keyword">this</span>.name = name || <span class="string">'Tom'</span>;</span><br><span class="line">&#125;</span><br><span class="line">Cat.prototype = <span class="keyword">new</span> Animal();</span><br><span class="line">Cat.prototype.constructor = Cat;  <span class="comment">//  ä¿®å¤Catçš„æ„é€ å‡½æ•°</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> cat = <span class="keyword">new</span> Cat();</span><br><span class="line"><span class="built_in">console</span>.log(cat.name);  <span class="comment">//  Tom</span></span><br><span class="line"><span class="built_in">console</span>.log(cat.sleep()); <span class="comment">//  Tom~~~</span></span><br><span class="line"><span class="built_in">console</span>.log(cat <span class="keyword">instanceof</span> Animal);   <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(cat <span class="keyword">instanceof</span> Cat);  <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>ç‰¹ç‚¹ï¼š</p>
</blockquote>
<ol>
<li>å¼¥è¡¥äº†æ–¹å¼2çš„ç¼ºé™·ï¼Œå¯ä»¥ç»§æ‰¿å®ä¾‹å±æ€§/æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥ç»§æ‰¿åŸå‹å±æ€§/æ–¹æ³•</li>
<li>æ—¢æ˜¯å­ç±»çš„å®ä¾‹ï¼Œä¹Ÿæ˜¯çˆ¶ç±»çš„å®ä¾‹</li>
<li>ä¸å­˜åœ¨å¼•ç”¨å±æ€§å…±äº«é—®é¢˜</li>
<li>å¯ä¼ å‚</li>
<li>å‡½æ•°å¯å¤ç”¨</li>
</ol>
<blockquote>
<p>ç¼ºç‚¹ï¼š</p>
</blockquote>
<ol>
<li>è°ƒç”¨äº†ä¸¤æ¬¡çˆ¶ç±»æ„é€ å‡½æ•°ï¼Œç”Ÿæˆäº†ä¸¤ä»½å®ä¾‹ï¼ˆå­ç±»å®ä¾‹å°†å­ç±»åŸå‹ä¸Šçš„é‚£ä»½å±è”½äº†ï¼‰</li>
</ol>
<h3 id="6-å¯„ç”Ÿç»„åˆç»§æ‰¿"><a href="#6-å¯„ç”Ÿç»„åˆç»§æ‰¿" class="headerlink" title="6. å¯„ç”Ÿç»„åˆç»§æ‰¿"></a>6. å¯„ç”Ÿç»„åˆç»§æ‰¿</h3><p>æ ¸å¿ƒï¼šé€šè¿‡å¯„ç”Ÿæ–¹å¼ï¼Œç æ‰çˆ¶ç±»çš„å®ä¾‹å±æ€§ï¼Œè¿™æ ·ï¼Œåœ¨è°ƒç”¨ä¸¤æ¬¡çˆ¶ç±»çš„æ„é€ çš„æ—¶å€™ï¼Œå°±ä¸ä¼šåˆå§‹åŒ–ä¸¤æ¬¡å®ä¾‹æ–¹æ³•/å±æ€§ï¼Œé¿å…çš„ç»„åˆç»§æ‰¿çš„ç¼ºç‚¹</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Cat</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  Animal.call(<span class="keyword">this</span>);</span><br><span class="line">  <span class="keyword">this</span>.name = name || <span class="string">'Tom'</span>;</span><br><span class="line">&#125;</span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">//  åˆ›å»ºä¸€ä¸ªæ²¡æœ‰å®ä¾‹æ–¹æ³•çš„ç±»</span></span><br><span class="line">  <span class="keyword">var</span> Super = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;;</span><br><span class="line">  Super.prototype = Animal.prototype;</span><br><span class="line">  <span class="comment">//  å°†å®ä¾‹ä½œä¸ºå­ç±»çš„åŸå‹</span></span><br><span class="line">  Cat.prototype = <span class="keyword">new</span> Super();</span><br><span class="line">  Cat.prototype.constructor = Cat;  <span class="comment">//  ä¿®å¤Catçš„æ„é€ å‡½æ•°</span></span><br><span class="line"></span><br><span class="line">&#125;)();</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> cat = <span class="keyword">new</span> Cat();</span><br><span class="line"><span class="built_in">console</span>.log(cat.name);  <span class="comment">//  Tom</span></span><br><span class="line"><span class="built_in">console</span>.log(cat.sleep()); <span class="comment">//  Tom~~~</span></span><br><span class="line"><span class="built_in">console</span>.log(cat <span class="keyword">instanceof</span> Animal); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(cat <span class="keyword">instanceof</span> Cat); <span class="comment">//true</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>ç‰¹ç‚¹ï¼š</p>
</blockquote>
<ol>
<li>å ªç§°å®Œç¾</li>
</ol>
<blockquote>
<p>ç¼ºç‚¹ï¼š</p>
</blockquote>
<ol>
<li>å®ç°è¾ƒä¸ºå¤æ‚</li>
</ol>
]]></content>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title>å¦‚ä½•å†™ä¸€ä¸ªjQueryæ’ä»¶</title>
    <url>/2019/05/13/2019/May/JqPlugin/README/</url>
    <content><![CDATA[<h2 id="å¦‚ä½•å†™ä¸€ä¸ªjQueryæ’ä»¶"><a href="#å¦‚ä½•å†™ä¸€ä¸ªjQueryæ’ä»¶" class="headerlink" title="å¦‚ä½•å†™ä¸€ä¸ªjQueryæ’ä»¶"></a>å¦‚ä½•å†™ä¸€ä¸ªjQueryæ’ä»¶</h2><h3 id="jQuery-æ’ä»¶å¼€å‘æ¨¡å¼"><a href="#jQuery-æ’ä»¶å¼€å‘æ¨¡å¼" class="headerlink" title="jQuery æ’ä»¶å¼€å‘æ¨¡å¼"></a>jQuery æ’ä»¶å¼€å‘æ¨¡å¼</h3><p>jQueryçš„æ’ä»¶å¼€å‘æ¨¡å¼ä¸»è¦æœ‰ä¸‰ç§ï¼š</p>
<ul>
<li>é€šè¿‡$.extend()æ¥æ‰©å±•jQuery</li>
<li>é€šè¿‡$.fnå‘jQueryæ·»åŠ æ–°çš„æ–¹æ³•</li>
<li>é€šè¿‡$.widget()åº”ç”¨jQuery UIçš„éƒ¨ä»¶å·¥å‚æ–¹å¼åˆ›å»º</li>
</ul>
<h4 id="extend"><a href="#extend" class="headerlink" title="$.extend()"></a>$.extend()</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">$.fn.extend(&#123;</span><br><span class="line"> check: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.checked = <span class="literal">true</span>;</span><br><span class="line">    &#125;),</span><br><span class="line"> &#125;</span><br><span class="line"> uncheck: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.checked = <span class="literal">false</span>;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">$(<span class="string">"input[type='checkbox']"</span>).check();</span><br></pre></td></tr></table></figure>
<h4 id="fn"><a href="#fn" class="headerlink" title="$.fn"></a>$.fn</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myPlugin</span>(<span class="params">$ele, options</span>) </span>&#123;&#125;;</span><br><span class="line"></span><br><span class="line">myPlugin.prototype = &#123;</span><br><span class="line">  method1: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;,</span><br><span class="line">  method2: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">$.fn.myplugin = <span class="function"><span class="keyword">function</span>(<span class="params">options</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">new</span> myPlugin(<span class="keyword">this</span>, options);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title>This</title>
    <url>/2019/05/17/2019/May/This/README/</url>
    <content><![CDATA[<h2 id="this"><a href="#this" class="headerlink" title="this"></a>this</h2><ol>
<li>é»˜è®¤ç»‘å®š</li>
<li>éšå¼ç»‘å®š</li>
<li>ç¡¬ç»‘å®š</li>
<li>newç»‘å®š</li>
</ol>
<h3 id="é»˜è®¤ç»‘å®š"><a href="#é»˜è®¤ç»‘å®š" class="headerlink" title="é»˜è®¤ç»‘å®š"></a>é»˜è®¤ç»‘å®š</h3><p>é»˜è®¤ç»‘å®šï¼Œåœ¨ä¸èƒ½åº”ç”¨å…¶ä»–ç»‘å®šè§„åˆ™æ—¶ä½¿ç”¨çš„é»˜è®¤è§„åˆ™ï¼Œé€šå¸¸æ˜¯ç‹¬ç«‹å‡½æ•°è°ƒç”¨ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayHi</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'Hello'</span>, <span class="keyword">this</span>.name);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> name = <span class="string">'achen'</span>;</span><br><span class="line">sayHi();</span><br></pre></td></tr></table></figure>
<p>åœ¨è°ƒç”¨sayHi()æ—¶ï¼Œåº”ç”¨äº†é»˜è®¤ç»‘å®šï¼ŒthisæŒ‡å‘å…¨å±€å¯¹è±¡ï¼ˆéä¸¥æ ¼æ¨¡å¼ä¸‹ï¼‰ï¼Œä¸¥æ ¼æ¨¡å¼ä¸‹ï¼ŒthisæŒ‡å‘undefinedï¼Œundefinedä¸Šæ²¡æœ‰thiså¯¹è±¡ï¼Œä¼šæŠ›å‡ºé”™è¯¯ã€‚<br>ä¸Šé¢çš„ä»£ç ï¼Œå¦‚æœåœ¨æµè§ˆå™¨ç¯å¢ƒä¸­è¿è¡Œï¼Œé‚£ä¹ˆç»“æœæ˜¯ Hello, achen<br>ä½†æ˜¯å¦‚æœåœ¨nodeç¯å¢ƒä¸­è¿è¡Œï¼Œç»“æœå°±æ˜¯Hello, undefinedï¼Œè¿™æ˜¯å› ä¸ºnodeä¸­nameå¹¶ä¸æ˜¯æŒ‚åœ¨å…¨å±€å¯¹è±¡ä¸Šçš„ã€‚</p>
<h3 id="éšå¼ç»‘å®š"><a href="#éšå¼ç»‘å®š" class="headerlink" title="éšå¼ç»‘å®š"></a>éšå¼ç»‘å®š</h3><p>å‡½æ•°çš„è°ƒç”¨æ˜¯åœ¨æŸä¸ªå¯¹è±¡ä¸Šè§¦å‘çš„ï¼Œå³è°ƒç”¨ä½ç½®ä¸Šå­˜åœ¨ä¸Šä¸‹æ–‡å¯¹è±¡ã€‚å…¸å‹çš„å½¢å¼ä¸º XXX.fun()ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayHi</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'Hello'</span>, <span class="keyword">this</span>.name);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> person = &#123;</span><br><span class="line">  name: <span class="string">'achen'</span>,</span><br><span class="line">  sayHi: sayHi</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> name = <span class="string">'achenjs'</span>;</span><br><span class="line">persin.sayHi();</span><br></pre></td></tr></table></figure>
<h3 id="ç¡¬ç»‘å®šï¼ˆæ˜¾ç¤ºç»‘å®šï¼‰"><a href="#ç¡¬ç»‘å®šï¼ˆæ˜¾ç¤ºç»‘å®šï¼‰" class="headerlink" title="ç¡¬ç»‘å®šï¼ˆæ˜¾ç¤ºç»‘å®šï¼‰"></a>ç¡¬ç»‘å®šï¼ˆæ˜¾ç¤ºç»‘å®šï¼‰</h3><p>é€šè¿‡callï¼Œapplyï¼Œbindçš„æ–¹å¼ï¼Œæ˜¾ç¤ºçš„æŒ‡å®šthisæ‰€æŒ‡å‘çš„å¯¹è±¡ã€‚<br>callï¼Œapplyï¼Œbindçš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œå°±æ˜¯å¯¹åº”å‡½æ•°çš„thisæ‰€æŒ‡å‘çš„å¯¹è±¡ã€‚callå’Œapplyçš„ä½œç”¨ä¸€æ ·ï¼Œåªæ˜¯ä¼ å‚æ–¹å¼ä¸åŒã€‚callå’Œapplyéƒ½ä¼šæ‰§è¡Œå¯¹åº”çš„å‡½æ•°ï¼Œè€Œbindæ–¹æ³•ä¸ä¼šã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayHi</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'Hello'</span>, <span class="keyword">this</span>.name);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> person = &#123;</span><br><span class="line">    name: <span class="string">'YvetteLau'</span>,</span><br><span class="line">    sayHi: sayHi</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> name = <span class="string">'Wiliam'</span>;</span><br><span class="line"><span class="keyword">var</span> Hi = person.sayHi;</span><br><span class="line">Hi.call(person);  <span class="comment">// Hi.apply(person)</span></span><br></pre></td></tr></table></figure>
<h3 id="newç»‘å®š"><a href="#newç»‘å®š" class="headerlink" title="newç»‘å®š"></a>newç»‘å®š</h3><blockquote>
<p>ä½¿ç”¨newæ¥è°ƒç”¨å‡½æ•°ï¼Œä¼šè‡ªåŠ¨æ‰§è¡Œä¸‹é¢çš„æ“ä½œï¼š</p>
</blockquote>
<ol>
<li>åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡</li>
<li>å°†æ„é€ å‡½æ•°çš„ä½œç”¨åŸŸèµ‹å€¼ç»™æ–°å¯¹è±¡ï¼Œå³thisæŒ‡å‘è¿™ä¸ªæ–°å¯¹è±¡</li>
<li>æ‰§è¡Œæ„é€ å‡½æ•°ä¸­çš„ä»£ç </li>
<li>è¿”å›æ–°å¯¹è±¡</li>
</ol>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">SayHi</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.name = name;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> Hi = <span class="keyword">new</span> SayHi(<span class="string">'achen'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(Hi.name);   <span class="comment">//  achen</span></span><br></pre></td></tr></table></figure>
<p>è¾“å‡ºç»“æœä¸ºachenï¼ŒåŸå› æ˜¯å› ä¸ºåœ¨var Hi = new SayHi(â€˜achenâ€™); è¿™ä¸€æ­¥ï¼Œä¼šå°†SayHiä¸­çš„thisç»‘å®šåˆ°Hiå¯¹è±¡ä¸Šã€‚</p>
<h4 id="ç»‘å®šä¼˜å…ˆçº§"><a href="#ç»‘å®šä¼˜å…ˆçº§" class="headerlink" title="ç»‘å®šä¼˜å…ˆçº§"></a>ç»‘å®šä¼˜å…ˆçº§</h4><p>newç»‘å®š &gt; æ˜¾ç¤ºç»‘å®š &gt; éšå¼ç»‘å®š &gt; é»˜è®¤ç»‘å®š</p>
<h4 id="ç»‘å®šå¦å¤–"><a href="#ç»‘å®šå¦å¤–" class="headerlink" title="ç»‘å®šå¦å¤–"></a>ç»‘å®šå¦å¤–</h4><p>å¦‚æœæˆ‘ä»¬å°†nullæˆ–è€…undefinedä½œä¸ºthisçš„ç»‘å®šå¯¹è±¡ä¼ å…¥callã€applyæˆ–è€…æ˜¯bindï¼Œè¿™äº›å€¼åœ¨è°ƒç”¨æ—¶ä¼šè¢«å¿½ç•¥ï¼Œå®é™…åº”ç”¨çš„æ˜¯é»˜è®¤ç»‘å®šè§„åˆ™ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> foo = &#123;</span><br><span class="line">  name: <span class="string">'Selina'</span>,</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> name = <span class="string">'Chirs'</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">&#125;</span><br><span class="line">bar.call(<span class="literal">null</span>);   <span class="comment">//  Chirs</span></span><br></pre></td></tr></table></figure>
<h5 id="ç®­å¤´å‡½æ•°"><a href="#ç®­å¤´å‡½æ•°" class="headerlink" title="ç®­å¤´å‡½æ•°"></a>ç®­å¤´å‡½æ•°</h5><p>ç®­å¤´å‡½æ•°æ˜¯ES6ä¸­æ–°å¢çš„ï¼Œå®ƒå’Œæ™®é€šå‡½æ•°æœ‰ä¸€äº›åŒºåˆ«ï¼Œç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„thisï¼Œå®ƒçš„thisç»§æ‰¿äºå¤–å±‚ä»£ç åº“ä¸­çš„thisã€‚ç®­å¤´å‡½æ•°åœ¨ä½¿ç”¨ä¸­ï¼Œéœ€è¦æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼š</p>
<ol>
<li>å‡½æ•°ä½“å†…çš„thiså¯¹è±¡ï¼Œç»§æ‰¿çš„æ˜¯å¤–å±‚ä»£ç å—çš„thisã€‚</li>
<li>ä¸å¯ä»¥å½“åšæ„é€ å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸å¯ä»¥ä½¿ç”¨newå‘½ä»¤ï¼Œå¦åˆ™ä¼šæŠ›å‡ºä¸€ä¸ªé”™è¯¯ã€‚</li>
<li>ä¸å¯ä»¥ä½¿ç”¨argumentså¯¹è±¡ï¼Œè¯¥å¯¹è±¡åœ¨å‡½æ•°ä½“å†…ä¸å­˜åœ¨ã€‚å¦‚æœè¦ç”¨ï¼Œå¯ä»¥ç”¨restå‚æ•°ä»£æ›¿ã€‚</li>
<li>ä¸å¯ä»¥ä½¿ç”¨yieldå‘½ä»¤ï¼Œå› æ­¤ç®­å¤´å‡½æ•°ä¸èƒ½ç”¨ä½œGeneratorå‡½æ•°ã€‚</li>
<li>ç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„thisï¼Œæ‰€ä»¥ä¸èƒ½ç”¨callã€applyã€bindè¿™äº›æ–¹æ³•æ”¹å˜thisçš„æŒ‡å‘ã€‚</li>
</ol>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  hi: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="keyword">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  sayHi: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="keyword">this</span>);</span><br><span class="line">      <span class="keyword">return</span> <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  say: <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">let</span> hi = obj.hi();          <span class="comment">//  obj</span></span><br><span class="line">hi();                       <span class="comment">//  obj</span></span><br><span class="line"><span class="keyword">let</span> sayHi = obj.sayHi();</span><br><span class="line"><span class="keyword">let</span> fun1 = sayHi();         <span class="comment">//  window</span></span><br><span class="line">fun1();                     <span class="comment">//  window</span></span><br><span class="line">obj.say();                  <span class="comment">//  window</span></span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title>å®ç°ä¸€ä¸ªpromise</title>
    <url>/2019/05/15/2019/May/Promise/myPromise/</url>
    <content><![CDATA[<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> PENDING = <span class="string">'PENDING'</span>;</span><br><span class="line"><span class="keyword">const</span> RESOLVED = <span class="string">'RESOLVED'</span>;</span><br><span class="line"><span class="keyword">const</span> REJECTED = <span class="string">'REJECTED'</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">MyPromise</span>(<span class="params">fn</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> that = <span class="keyword">this</span>;</span><br><span class="line">  </span><br><span class="line">  that.value = <span class="literal">null</span>;</span><br><span class="line">  that.state = PENDING;</span><br><span class="line"></span><br><span class="line">  that.resolvedCallbacks = [];</span><br><span class="line">  that.rejectedCallbacks = [];</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">resolve</span>(<span class="params">value</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (value <span class="keyword">instanceof</span> MyPromise) &#123;</span><br><span class="line">      <span class="keyword">return</span> value.then(resolve, reject);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (that.state === PENDING) &#123;</span><br><span class="line">      that.state = RESOLVED;</span><br><span class="line">      that.value = value;</span><br><span class="line">      that.resolvedCallbacks.map(<span class="function"><span class="params">cb</span> =&gt;</span> cb(that.value));</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">reject</span>(<span class="params">value</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (that.state === PENDING) &#123;</span><br><span class="line">      that.state = REJECTED;</span><br><span class="line">      that.value = value;</span><br><span class="line">      that.rejectedCallbacks.map(<span class="function"><span class="params">cb</span> =&gt;</span> cb(that.value));</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    fn(resolve, reject);</span><br><span class="line">  &#125; <span class="keyword">catch</span>(e) &#123;</span><br><span class="line">    reject(e);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">MyPromise.prototype.then = <span class="function"><span class="keyword">function</span>(<span class="params">onFulfilled, onRejected</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> that = <span class="keyword">this</span>;</span><br><span class="line">  onFulfilled = <span class="keyword">typeof</span> onFulfilled === <span class="string">'function'</span> ? onFulfilled : <span class="function"><span class="params">v</span> =&gt;</span> v;</span><br><span class="line">  onRejected = <span class="keyword">typeof</span> onRejected === <span class="string">'function'</span> ? onRejected : <span class="function"><span class="params">r</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">throw</span> r</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (that.state === PENDING) &#123;</span><br><span class="line">    that.resolvedCallbacks.push(onFulfilled);</span><br><span class="line">    that.rejectedCallbacks.push(onRejected);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (that.state === RESOLVED) &#123;</span><br><span class="line">    onFulfilled(that.value);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (that.state === REJECTED) &#123;</span><br><span class="line">    onRejected(that.value);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> that;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> MyPromise(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    resolve(<span class="number">111</span>);</span><br><span class="line">  &#125;, <span class="number">0</span>);</span><br><span class="line">&#125;).then(<span class="function"><span class="params">value</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(value);</span><br><span class="line">&#125;).then(<span class="function"><span class="params">value</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(value);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title>ä»é›¶é…ç½®webpackï¼ˆåŸºäºwebpack 4 å’Œ babel 7ç‰ˆæœ¬ï¼‰</title>
    <url>/2019/05/25/2019/May/Webpack/README/</url>
    <content><![CDATA[<h1 id="ä»é›¶é…ç½®webpackï¼ˆåŸºäºwebpack-4-å’Œ-babel-7ç‰ˆæœ¬ï¼‰"><a href="#ä»é›¶é…ç½®webpackï¼ˆåŸºäºwebpack-4-å’Œ-babel-7ç‰ˆæœ¬ï¼‰" class="headerlink" title="ä»é›¶é…ç½®webpackï¼ˆåŸºäºwebpack 4 å’Œ babel 7ç‰ˆæœ¬ï¼‰"></a>ä»é›¶é…ç½®webpackï¼ˆåŸºäºwebpack 4 å’Œ babel 7ç‰ˆæœ¬ï¼‰</h1><h2 id="webpack-æ ¸å¿ƒæ¦‚å¿µ"><a href="#webpack-æ ¸å¿ƒæ¦‚å¿µ" class="headerlink" title="webpack æ ¸å¿ƒæ¦‚å¿µ"></a>webpack æ ¸å¿ƒæ¦‚å¿µ</h2><ul>
<li>Entry: å…¥å£</li>
<li>Module: æ¨¡å—ï¼Œwebpackä¸­ä¸€åˆ‡çš†æ˜¯æ¨¡å—</li>
<li>Chunk: ä»£ç åº“ï¼Œä¸€ä¸ªchunkç”±åå¤šä¸ªæ¨¡å—ç»„åˆè€Œæˆï¼Œç”¨äºä»£ç åˆå¹¶ä¸åˆ†å‰²</li>
<li>Loader: æ¨¡å—è½¬æ¢å™¨ï¼Œç”¨äºæŠŠæ¨¡å—åŸå†…å®¹æŒ‰ç…§éœ€æ±‚è½¬æ¢æˆæ–°å†…å®¹</li>
<li>Plugin: æ‰©å±•æ’ä»¶ï¼Œåœ¨webpackæ„å»ºæµç¨‹ä¸­çš„ç‰¹å®šæ—¶æœºæ³¨å…¥æ‰©å±•é€»è¾‘æ¥æ”¹å˜æ„å»ºç»“æœæˆ–åšä½ æƒ³è¦çš„äº‹æƒ…</li>
<li>Output: è¾“å‡ºç»“æœ</li>
</ul>
<h2 id="webpack-æµç¨‹"><a href="#webpack-æµç¨‹" class="headerlink" title="webpack æµç¨‹"></a>webpack æµç¨‹</h2><p>webpackå¯åŠ¨åä¼šä»Entryé‡Œé…ç½®çš„Moduleå¼€å§‹é€’å½’è§£æEntryä¾èµ–çš„æ‰€æœ‰Moduleã€‚æ¯æ‰¾åˆ°ä¸€ä¸ªModuleï¼Œå°±ä¼šæ ¹æ®é…ç½®çš„Loaderå»æ‰¾å‡ºå¯¹åº”çš„è½¬æ¢è§„åˆ™ï¼Œå¯¹<br>Moduleè¿›è¡Œè½¬æ¢åï¼Œå†è§£æå‡ºå½“å‰çš„Moduleä¾èµ–çš„Moduleã€‚è¿™äº›æ¨¡å—ä¼šä»¥Entryä¸ºå•ä½è¿›è¡Œåˆ†ç»„ï¼Œä¸€ä¸ªEntryå’Œå…¶æ‰€æœ‰ä¾èµ–çš„Moduleè¢«åˆ†åˆ°ä¸€ä¸ªç»„ä¹Ÿå°±æ˜¯ä¸€ä¸ª<br>Chunkã€‚æœ€å¥½Webpackä¼šæŠŠæ‰€æœ‰Chunkè½¬æ¢æˆæ–‡ä»¶è¾“å‡ºã€‚åœ¨æ•´ä¸ªæµç¨‹ä¸­Webpackä¼šåœ¨æ°å½“çš„æ—¶æœºæ‰§è¡ŒPluginé‡Œå®šä¹‰çš„é€»è¾‘ã€‚</p>
<h2 id="æœ€ç®€webpacké…ç½®"><a href="#æœ€ç®€webpacké…ç½®" class="headerlink" title="æœ€ç®€webpacké…ç½®"></a>æœ€ç®€webpacké…ç½®</h2><p>é¦–å…ˆåˆå§‹åŒ–npmå’Œå®‰è£…webpackçš„ä¾èµ–ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">npm init -y</span><br><span class="line">yarn add webpack webpack-cli --dev</span><br></pre></td></tr></table></figure>
<p>é…ç½®webpack.config.jsæ–‡ä»¶ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.export = &#123;</span><br><span class="line">  entry: path.resolve(__dirname, <span class="string">'src/index.js'</span>),</span><br><span class="line">  output: &#123;</span><br><span class="line">    path: path.resolve(__dirname, <span class="string">'dist'</span>),</span><br><span class="line">    filename: <span class="string">'bundle.js'</span>,    <span class="comment">//  æ­¤å¤„ä¸è®¾ç½®ï¼Œé»˜è®¤ä¸º main.js</span></span><br><span class="line">    publicPath: <span class="string">'/'</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¯´æ˜: publicPathä¸Šçº¿æ—¶é…ç½®çš„æ˜¯cdnçš„åœ°å€ã€‚</p>
<p>ä½¿ç”¨å‘½ä»¤è¿›è¡Œæ‰“åŒ…ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">webpack --mode production</span><br></pre></td></tr></table></figure>
<p>ä¹Ÿå¯ä»¥å°†å…¶é…ç½®åˆ°package.jsonä¸­çš„ scripts å­—æ®µã€‚<br>å…¥å£æ–‡ä»¶ä¸ºsrc/index.jsï¼Œæ‰“åŒ…è¾“å‡ºåˆ°dist/bundle.jsã€‚</p>
<h2 id="ä½¿ç”¨æ¨¡æ¿html"><a href="#ä½¿ç”¨æ¨¡æ¿html" class="headerlink" title="ä½¿ç”¨æ¨¡æ¿html"></a>ä½¿ç”¨æ¨¡æ¿html</h2><p>html-webpack-plugin å¯ä»¥æŒ‡å®š template æ¨¡æ¿æ–‡ä»¶ï¼Œå°†ä¼šåœ¨ output ç›®å½•ä¸‹ï¼Œç”Ÿæˆ html æ–‡ä»¶ï¼Œå¹¶å¼•å…¥æ‰“åŒ…åçš„jsã€‚<br>å®‰è£…ä¾èµ–ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">yarn add html-webpack-plugin --dev</span><br></pre></td></tr></table></figure>
<p>åœ¨ webpack.config.js å¢åŠ  plugins é…ç½®ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> HtmlWebpackPlugin = <span class="built_in">require</span>(<span class="string">'html-webpack-plugin'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">// ... other code</span></span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="keyword">new</span> HtmlWebpackPlugin(&#123;</span><br><span class="line">      template: path.resolve(__dirname, <span class="string">'src/index.html'</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>HtmlWebpackPlugin è¿˜æœ‰ä¸€äº›å…¶ä»–çš„å‚æ•°ï¼Œå¦‚titleï¼ˆhtmlçš„titleï¼‰ï¼Œminifyï¼ˆæ˜¯å¦è¦å‹ç¼©ï¼‰ï¼Œfilenameï¼ˆdistä¸­ç”Ÿæˆçš„htmlæ–‡ä»¶åï¼‰ç­‰ã€‚</p>
<h2 id="é…ç½®-webpack-dev-server"><a href="#é…ç½®-webpack-dev-server" class="headerlink" title="é…ç½® webpack-dev-server"></a>é…ç½® webpack-dev-server</h2><p>webpack-dev-server æä¾›äº†ä¸€ä¸ªç®€å•çš„WebæœåŠ¡å™¨å’Œå®æ—¶çƒ­æ›´æ–°çš„èƒ½åŠ›ã€‚<br>å®‰è£…ä¾èµ–ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">yarn add webpack-dev-server --dev</span><br></pre></td></tr></table></figure>
<p>åœ¨ webpck.config.js å¢åŠ  devServer é…ç½®ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> WebpackDevServer = <span class="built_in">require</span>(<span class="string">'webpack-dev-server'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">//  ... other code</span></span><br><span class="line">  devServer: &#123;</span><br><span class="line">    contentBase: <span class="string">'./dist'</span>,</span><br><span class="line">    port: <span class="string">'8080'</span>,</span><br><span class="line">    host: <span class="string">'localhost'</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨ package.json çš„ scripts å­—æ®µä¸­å¢åŠ ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">dev: <span class="string">'webpack-dev-server --mode development'</span></span><br></pre></td></tr></table></figure>
<p>ä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ npm run devï¼Œæ¥å¯åŠ¨æœåŠ¡ã€‚<br>æ›´å¤šå…³äº <a href="https://webpack.js.org/configuration/dev-server/" target="_blank" rel="noopener">webpack-dev-server</a></p>
<h2 id="æ”¯æŒåŠ è½½-css-æ–‡ä»¶"><a href="#æ”¯æŒåŠ è½½-css-æ–‡ä»¶" class="headerlink" title="æ”¯æŒåŠ è½½ css æ–‡ä»¶"></a>æ”¯æŒåŠ è½½ css æ–‡ä»¶</h2><p>é€šè¿‡ä½¿ç”¨ä¸åŒçš„ style-loader å’Œ css-loaderï¼Œå¯ä»¥å°† css æ–‡ä»¶è½¬æ¢æˆjsæ–‡ä»¶ç±»å‹ã€‚<br>å®‰è£…ä¾èµ–ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">yarn add style-loader css-loader --dev</span><br></pre></td></tr></table></figure>
<p>åœ¨ webpack.config.js ä¸­å¢åŠ  loader çš„é…ç½®ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">//  ...other code</span></span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.css/</span>,</span><br><span class="line">        use: [<span class="string">'style-loader'</span>, <span class="string">'css-loader'</span>],</span><br><span class="line">        exclude: <span class="regexp">/node_module/</span>,</span><br><span class="line">        include: path.resolve(__dirname, <span class="string">'src'</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>loader å¯ä»¥é…ç½®ä»¥ä¸‹å‚æ•°ï¼š</p>
<ul>
<li>test: åŒ¹é…å¤„ç†æ–‡ä»¶çš„æ‰©å±•åçš„æ­£åˆ™è¡¨è¾¾å¼</li>
<li>use: loaderçš„åç§°</li>
<li>include/exclude: æ‰‹åŠ¨æŒ‡å®šå¿…é¡»å¤„ç†çš„æ–‡ä»¶å¤¹æˆ–å±è”½ä¸éœ€è¦å¤„ç†çš„æ–‡ä»¶å¤¹</li>
<li>query: ä¸ºloaderæä¾›é¢å¤–çš„è®¾ç½®é€‰é¡¹</li>
</ul>
<p>å¦‚æœéœ€è¦ç»™loaderä¼ å‚ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨use + loadingçš„æ–¹å¼ï¼Œå¦‚ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">//  other code</span></span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        use: [</span><br><span class="line">          &#123;</span><br><span class="line">            loader: <span class="string">'style-loader'</span>,</span><br><span class="line">            options: &#123;</span><br><span class="line">              insertAt: <span class="string">'top'</span></span><br><span class="line">            &#125;</span><br><span class="line">          &#125;,</span><br><span class="line">          <span class="string">'css-loader'</span></span><br><span class="line">        ],</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="æ”¯æŒåŠ è½½å›¾ç‰‡"><a href="#æ”¯æŒåŠ è½½å›¾ç‰‡" class="headerlink" title="æ”¯æŒåŠ è½½å›¾ç‰‡"></a>æ”¯æŒåŠ è½½å›¾ç‰‡</h2><ul>
<li>file-loader: è§£å†³cssç­‰æ–‡ä»¶ä¸­çš„å¼•å…¥å›¾ç‰‡è·¯å¾„é—®é¢˜</li>
<li>url-loader: å½“å›¾ç‰‡å°äºlimitçš„æ—¶å€™ä¼šæŠŠå›¾ç‰‡base64ç¼–ç ï¼Œå¤§äºlimitå‚æ•°çš„æ—¶å€™è¿˜æ˜¯ä½¿ç”¨file-loaderè¿›è¡Œæ‹·è´</li>
</ul>
<p><strong>å¦‚æœå¸Œæœ›å›¾ç‰‡å­˜æ”¾åœ¨å•ç‹¬çš„ç›®å½•ä¸‹ï¼Œé‚£ä¹ˆéœ€è¦åˆ¶å®šoutputPath</strong></p>
<p>å®‰è£…ä¾èµ–ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">yarn add url-loader file-loader --dev</span><br></pre></td></tr></table></figure>
<p>åœ¨ webpack.config.js ä¸­å¢åŠ loaderçš„é…ç½®ï¼ˆå¢åŠ åœ¨ module.rulesçš„æ•°ç»„ä¸­ï¼‰ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">//  ...other code</span></span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.(gif|jpg|png|bmp|eot|woff|woff2|ttf|svg)/</span>,</span><br><span class="line">        use: [</span><br><span class="line">          &#123;</span><br><span class="line">            loader: <span class="string">'url-loader'</span>,</span><br><span class="line">            options: &#123;</span><br><span class="line">              limit: <span class="number">8192</span>,</span><br><span class="line">              outputPath: <span class="string">'images'</span></span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        ]</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="æ”¯æŒç¼–è¯‘lesså’Œsass"><a href="#æ”¯æŒç¼–è¯‘lesså’Œsass" class="headerlink" title="æ”¯æŒç¼–è¯‘lesså’Œsass"></a>æ”¯æŒç¼–è¯‘lesså’Œsass</h2><p>ç°åœ¨å¤§å®¶éƒ½ä¹ æƒ¯ä½¿ç”¨lessæˆ–è€…sassç¼–å†™cssï¼Œé‚£ä¹ˆä¹Ÿéœ€è¦åœ¨webpackä¸­è¿›è¡Œé…ç½®ã€‚<br>å®‰è£…å¯¹åº”çš„ä¾èµ–ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">yarn add less less-loader --dev</span><br><span class="line">yarn add sass sass-loader --dev</span><br></pre></td></tr></table></figure>
<p>åœ¨ webpack.config.js ä¸­å¢åŠ  loader çš„é…ç½®ï¼ˆmodule.rulesæ•°ç»„ä¸­ï¼‰ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">//  ..  other code</span></span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.less/</span>,</span><br><span class="line">        use: [<span class="string">'style-loader'</span>, <span class="string">'css-loader'</span>, <span class="string">'less-loader'</span>],</span><br><span class="line">        exclude: <span class="regexp">/node_modules/</span>,</span><br><span class="line">        include: path.resolve(__dirname, <span class="string">'src'</span>)</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.scss/</span>,</span><br><span class="line">        use: [<span class="string">'style-loader'</span>, <span class="string">'css-loader'</span>, <span class="string">'sass-loader'</span>],</span><br><span class="line">        exclude: <span class="regexp">/nodu_modules/</span>,</span><br><span class="line">        include: path.resolve(__dirname, <span class="string">'src'</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="æ”¯æŒè½¬ä¹‰-ES6-ES7-JSX"><a href="#æ”¯æŒè½¬ä¹‰-ES6-ES7-JSX" class="headerlink" title="æ”¯æŒè½¬ä¹‰ ES6/ES7/JSX"></a>æ”¯æŒè½¬ä¹‰ ES6/ES7/JSX</h2><p>ES6/ES7/JSX è½¬ä¹‰éœ€è¦ Babel çš„ä¾èµ–ï¼Œæ”¯æŒè£…é¥°å™¨</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">yarn add @babel/core babel-loader @babel/preset-env @babel/preset-react @babel/plugin-proposal-decorators @babel/plugin-proposal-object-rest-spread --dev</span><br></pre></td></tr></table></figure>
<p>åœ¨ webpack.config.js ä¸­å¢åŠ  loader çš„é…ç½®ï¼ˆmodule.rules æ•°ç»„ä¸­ï¼‰ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">// ...other code</span></span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      test: <span class="regexp">/\.jsx?$/</span>,</span><br><span class="line">      use: [</span><br><span class="line">        &#123;</span><br><span class="line">          loader: <span class="string">'babel-loader'</span>,</span><br><span class="line">          options: &#123;</span><br><span class="line">            presets: [<span class="string">'@babel/react'</span>],</span><br><span class="line">            plugins: [</span><br><span class="line">              [<span class="string">'@babel/plugin-proposal-decorators'</span>, &#123;<span class="string">'legacy'</span>: <span class="literal">true</span>&#125;]</span><br><span class="line">            ]</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      ],</span><br><span class="line">      exclude: <span class="regexp">/nodu_modules/</span>,</span><br><span class="line">      include: path.resolve(__dirname, <span class="string">'src'</span>)</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="å‹ç¼©jsæ–‡ä»¶"><a href="#å‹ç¼©jsæ–‡ä»¶" class="headerlink" title="å‹ç¼©jsæ–‡ä»¶"></a>å‹ç¼©jsæ–‡ä»¶</h2><p>å®‰è£…ä¾èµ–ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">yarn add uglifyjs-webpack-plugin --dev</span><br></pre></td></tr></table></figure>
<p>åœ¨ webpack.config.js ä¸­å¢åŠ  optimization çš„é…ç½®</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> UglifyWebpackplugin = <span class="built_in">require</span>(<span class="string">'uglifyjs-webpack-plugin'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">// ... other code</span></span><br><span class="line">  optimization: &#123;</span><br><span class="line">    minimizer: [</span><br><span class="line">      <span class="keyword">new</span> UglifyWebpackPlugin(&#123;</span><br><span class="line">        parallel: <span class="number">4</span></span><br><span class="line">      &#125;)</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>ä»¥ä¸Šæœ€æ–°ç‰ˆwebpackå·²ç»é»˜è®¤å¼€å¯uglifyjsï¼Œä¸éœ€è¦å•ç‹¬å®‰è£…plugins</strong><br>ä½†æ˜¯å®ƒæ˜¯å•çº¿ç¨‹å‹ç¼©çš„ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥åˆ©ç”¨webpack-parallel-uglify-pluginï¼Œè§£å†³å¤šä¸ªjsæ‰“åŒ…å¹¶è¡Œå‹ç¼©çš„éœ€è¦ï¼Œä¼˜åŒ–æ‰“åŒ…æ•ˆç‡</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">yarn add webpack-parallel-uglify-plugin --dev</span><br></pre></td></tr></table></figure>
<p>åœ¨ webpack.config.js ä¸­å¢åŠ ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> WebpackParallelUglifyPlugin = <span class="built_in">require</span>(<span class="string">'webpack-parallel-uglify-plugin'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">//  other code</span></span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="keyword">new</span> WebpackParallelUglifyPlugin(&#123;</span><br><span class="line">      ugfilyJS: &#123;</span><br><span class="line">        output: &#123;</span><br><span class="line">          beautify: <span class="literal">false</span>,  <span class="comment">//  æ˜¯å¦ä¿ç•™ç©ºæ ¼å’Œåˆ¶è¡¨ç¬¦</span></span><br><span class="line">          comments: <span class="literal">false</span>,  <span class="comment">//  æ˜¯å¦ä¿ç•™æ³¨é‡Š</span></span><br><span class="line">        &#125;,</span><br><span class="line">        compress: &#123;</span><br><span class="line">          warnings: <span class="literal">false</span>,  <span class="comment">//  åˆ é™¤æ²¡æœ‰ç”¨åˆ°çš„ä»£ç æ—¶çš„è­¦å‘Šä¿¡æ¯,</span></span><br><span class="line">          drop_console: <span class="literal">true</span>,   <span class="comment">//  æ˜¯å¦åˆ é™¤ä»£ç ä¸­çš„consoleè¯­å¥</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="åˆ†ç¦»cssï¼ˆå¦‚æœcssæ–‡ä»¶è¾ƒå¤§çš„è¯ï¼‰"><a href="#åˆ†ç¦»cssï¼ˆå¦‚æœcssæ–‡ä»¶è¾ƒå¤§çš„è¯ï¼‰" class="headerlink" title="åˆ†ç¦»cssï¼ˆå¦‚æœcssæ–‡ä»¶è¾ƒå¤§çš„è¯ï¼‰"></a>åˆ†ç¦»cssï¼ˆå¦‚æœcssæ–‡ä»¶è¾ƒå¤§çš„è¯ï¼‰</h2><p>å› ä¸ºCSSçš„ä¸‹è½½å’ŒJSå¯ä»¥å¹¶è¡Œï¼Œå½“ä¸€ä¸ªhtmlæ–‡ä»¶å¾ˆå¤§çš„æ—¶å€™ï¼Œå¯ä»¥æŠŠcsså•ç‹¬æå–å‡ºæ¥åŠ è½½</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">yarn add mini-css-extract-plugin --dev</span><br></pre></td></tr></table></figure>
<p>åœ¨ webpack.config.js ä¸­å¢åŠ  plugins çš„é…ç½®ï¼Œå¹¶ä¸”å°† â€˜style-loaderâ€™ ä¿®æ”¹ä¸º {<br>  loader: MiniCssExtractPlugin.loader<br>}ã€‚<br>cssæ‰“åŒ…åœ¨å•ç‹¬çš„ç›®å½•ï¼Œé‚£ä¹ˆé…ç½®filenameã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> MiniCssExtractPlugin = <span class="built_in">require</span>(<span class="string">'mini-css-extract-plugin'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.css/</span>,</span><br><span class="line">        use: [</span><br><span class="line">          &#123;</span><br><span class="line">            loader: MiniCssExtractPlugin.loader,</span><br><span class="line">          &#125;, <span class="string">'css-loader'</span></span><br><span class="line">        ],</span><br><span class="line">        exclude: <span class="regexp">/node_modules/</span>,</span><br><span class="line">        include: path.resolve(__dirname, <span class="string">'src'</span>)</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.less/</span>,</span><br><span class="line">        use: [</span><br><span class="line">          &#123;</span><br><span class="line">            loader: MiniCssExtractPlugin.loader,</span><br><span class="line">          &#125;, <span class="string">'css-loader'</span>, <span class="string">'less-loader'</span></span><br><span class="line">        ],</span><br><span class="line">        exclude: <span class="regexp">/node_modules/</span>,</span><br><span class="line">        include: path.resolve(__dirname, <span class="string">'src'</span>)</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.sass/</span>,</span><br><span class="line">        use: [</span><br><span class="line">          &#123;</span><br><span class="line">            loader: MiniCssExtractPlugin.loader</span><br><span class="line">          &#125;, <span class="string">'css-loader'</span>, <span class="string">'sass-loader'</span></span><br><span class="line">        ],</span><br><span class="line">        exclude: <span class="regexp">/node_modules/</span>,</span><br><span class="line">        include: path.resolve(__dirname, <span class="string">'src'</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="keyword">new</span> MiniCssExtractPlugin(&#123;</span><br><span class="line">      filename: <span class="string">'css/[name].css'</span></span><br><span class="line">    &#125;)</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="å‹ç¼©cssæ–‡ä»¶"><a href="#å‹ç¼©cssæ–‡ä»¶" class="headerlink" title="å‹ç¼©cssæ–‡ä»¶"></a>å‹ç¼©cssæ–‡ä»¶</h2><p>å®‰è£…ä¾èµ–ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">yarn add optimiza-css-assets-webpack-plugin --dev</span><br></pre></td></tr></table></figure>
<p>åœ¨ webpack.config.js ä¸­çš„ optimization ä¸­å¢åŠ é…ç½®</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> OptimizaCssAssetsWebpackPlugin = <span class="built_in">require</span>(<span class="string">'optimiza-css-assets-webpack-plugin'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">//  ... other code</span></span><br><span class="line">  optimization: &#123;</span><br><span class="line">    minimizer: [</span><br><span class="line">      <span class="keyword">new</span> OptimizaCssAssetsWebpackPlugin()</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="æ‰“åŒ…å‰å…ˆæ¸…ç©ºè¾“å‡ºç›®å½•"><a href="#æ‰“åŒ…å‰å…ˆæ¸…ç©ºè¾“å‡ºç›®å½•" class="headerlink" title="æ‰“åŒ…å‰å…ˆæ¸…ç©ºè¾“å‡ºç›®å½•"></a>æ‰“åŒ…å‰å…ˆæ¸…ç©ºè¾“å‡ºç›®å½•</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">yarn add clean-webpack-plugin --dev</span><br></pre></td></tr></table></figure>
<p>åœ¨ webpack.config.js ä¸­å¢åŠ  plugins çš„é…ç½®</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> CleanWebpackPlugin = <span class="built_in">require</span>(<span class="string">'clean-webpack-plugin'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">// ...other code</span></span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="keyword">new</span> CleanWebpackPlugin()</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
</search>
